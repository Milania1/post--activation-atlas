<div class="focus">
  <div class="atlas">
    <Atlas
      id="inceptionv1_{layerName}"
      bind:gridSize
      alphaAttributionFactor=10
      bind:showLabels
      scaleCountFactor=10
      iconCrop=0.2
      bind:classHeatmap
    />
    <AtlasReticle
      bind:aspectRatio="aspectRatio0"
      bind:scale="scale0"
      bind:gcx="gcx0"
      bind:gcy="gcy0"
      background={false}
      enableDragging={false}
      round={true}
      annotationValue={1}
    />
    <AtlasReticle
      bind:aspectRatio="aspectRatio1"
      bind:scale="scale1"
      bind:gcx="gcx1"
      bind:gcy="gcy1"
      background={false}
      enableDragging={false}
      round={true}
      annotationValue={2}
    />
    <AtlasReticle
      bind:aspectRatio="aspectRatio2"
      bind:scale="scale2"
      bind:gcx="gcx2"
      bind:gcy="gcy2"
      background={false}
      enableDragging={false}
      round={true}
      annotationValue={3}
    />
  </div>
  <div class="details">
    <Loupe width={loupeSize} height={loupeSize} label={1}>
      <Atlas
        id="inceptionv1_{layerName}"
        bind:gridSize
        alphaAttributionFactor=10
        bind:showLabels
        scaleCountFactor=10
        iconCrop=0.2
        enableHover={false}
        enableDragToPan={false}
        enableClickToZoom={false}
        bind:classHeatmap
        bind:homeX="highlights[0].homeX" 
        bind:homeY="highlights[0].homeY" 
        bind:homeScale="highlights[0].homeScale"
        bind:aspectRatio="aspectRatio0"
        bind:scale="scale0"
        bind:gcx="gcx0"
        bind:gcy="gcy0"
      />
    </Loupe>
    <Loupe width={loupeSize} height={loupeSize} label={2}>
      <Atlas
        id="inceptionv1_{layerName}"
        bind:gridSize
        alphaAttributionFactor=10
        bind:showLabels
        scaleCountFactor=10
        iconCrop=0.2
        enableHover={false}
        enableDragToPan={false}
        enableClickToZoom={false}
        bind:classHeatmap
        bind:homeX="highlights[1].homeX" 
        bind:homeY="highlights[1].homeY" 
        bind:homeScale="highlights[1].homeScale"
        bind:aspectRatio="aspectRatio1"
        bind:scale="scale1"
        bind:gcx="gcx1"
        bind:gcy="gcy1"
      />
    </Loupe>
    <Loupe width={loupeSize} height={loupeSize} label={3}>
      <Atlas
        id="inceptionv1_{layerName}"
        bind:gridSize
        alphaAttributionFactor=10
        bind:showLabels
        scaleCountFactor=10
        iconCrop=0.2
        enableHover={false}
        enableDragToPan={false}
        enableClickToZoom={false}
        bind:classHeatmap
        bind:homeX="highlights[2].homeX" 
        bind:homeY="highlights[2].homeY" 
        bind:homeScale="highlights[2].homeScale"
        bind:aspectRatio="aspectRatio2"
        bind:scale="scale2"
        bind:gcx="gcx2"
        bind:gcy="gcy2"
      />
    </Loupe>
    <div class="figcaption">In {layerName} we see we see the attribution toward "fireboat" is high in several clusters located in different positions around the atlas. One is very focused on windows, another on geysers and splashing water, and yet another on crane-like objects.</div>
  </div>
</div>
<!-- <div>
  {@html gcx3},{@html gcy3},{@html scale3}
</div> -->

<script>
export default {
  components: { 
    Atlas: "../Atlas.html",
    AtlasReticle: "../AtlasReticle.html",
    Loupe: "../components/Loupe.html"
  },
  data() {
    return {
      loupeSize: 245,
      layerName: "mixed4d",
      gridSize: 1,
      classHeatmap: 235,
      highlights: [
        {
          homeX: 0.221,
          homeY: 0.138,
          homeScale: 10
        },
        {
          homeX: 0.709,
          homeY: 0.421,
          homeScale: 10
        },
        {
          homeX: 0.873,
          homeY: 0.415,
          homeScale: 10
        },
        {
          homeX: 0.789,
          homeY: 0.861,
          homeScale: 10
        }
      ]

    }
  }
}
</script>

<style>
  .focus {
    display: grid;
    grid-template-columns: 530px 530px;
    grid-gap: 10px;
    width: 1070px;
    margin: 0 auto;
  }
  .atlas {
    position: relative;
    height: 530px;
  }
  /* .atlas > :global(div) {
    position: absolute;
    top: 0;
    left: 0;
  } */
  .details {
    display: grid;
    grid-template-columns: repeat(2, 255px);
    grid-gap: 20px;
    align-items: center;
  }
  .figcaption {
    max-width: 180px;
    margin: 0 auto;
  }
  /* .detail > :global(div) {
    position: absolute;
    top: 0;
    left: 0;
  } */
</style>