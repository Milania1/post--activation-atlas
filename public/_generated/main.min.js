'use strict';(function(){function T(){}function q(b,a){for(var c in a)b[c]=a[c];return b}function wa(b,a){for(var c in a)b[c]=1;return b}function E(b){b.parentNode.removeChild(b)}function Od(b,a){for(;b.nextSibling&&b.nextSibling!==a;)b.parentNode.removeChild(b.nextSibling)}function Uc(b){for(;b.nextSibling;)b.parentNode.removeChild(b.nextSibling)}function oa(b,a){for(;b.firstChild;)a.appendChild(b.firstChild)}function Y(b,a){for(var c=0;c<b.length;c+=1)b[c]&&b[c].d(a)}function V(){return document.createDocumentFragment()}
function m(b){return document.createElement(b)}function t(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function n(b){return document.createTextNode(b)}function xa(){return document.createComment("")}function f(b,a,c){null==c?b.removeAttribute(a):b.setAttribute(a,c)}function Xa(b,a,c){b.setAttributeNS("http://www.w3.org/1999/xlink",a,c)}function Vc(b){return""===b?void 0:+b}function R(b,a){b.data=""+a}function p(b,a,c){b.style.setProperty(a,c)}function Aa(b,a){"static"===getComputedStyle(b).position&&
(b.style.position="relative");let c=document.createElement("object");c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");c.type="text/html";let d;c.onload=()=>{d=c.contentDocument.defaultView;d.addEventListener("resize",a)};/Trident/.test(navigator.userAgent)?(b.appendChild(c),c.data="about:blank"):(c.data="about:blank",b.appendChild(c));return{cancel:()=>{d&&d.removeEventListener&&d.removeEventListener("resize",
a);b.removeChild(c)}}}function Pd(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}function zh(b,a){return b!=b?a==a:b!==a}function Qd(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1){var d=b[c];if(!d.__calling)try{d.__calling=!0,d.call(this,a)}finally{d.__calling=!1}}}function D(b){b._lock=!0;Wc(b._beforecreate);Wc(b._oncreate);Wc(b._aftercreate);b._lock=!1}function Rd(){return this._state}function z(b,a){b._handlers=Object.create(null);
b._slots=Object.create(null);b._bind=a._bind;b._staged={};b.options=a;b.root=a.root||b;b.store=a.store||b.root.store;a.root||(b._beforecreate=[],b._oncreate=[],b._aftercreate=[])}function Sd(b,a){var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}}function Wc(b){for(;b&&b.length;)b.shift()()}function ka(){this.store._remove(this)}function Td(b,a){this._handlers={};this._dependents=[];this._computed=Object.create(null);this._sortedComputedProperties=
[];this._state=q({},b);this._differs=a&&a.immutable?zh:Pd}function Ah({x:b,width:a,y:c,clientHeight:d,visible:e}){if(!1===e)return"visibility: hidden;";{e=document.documentElement.scrollLeft;let k=document.documentElement.scrollTop,g=document.documentElement.clientWidth-a;d=document.documentElement.clientHeight-d;let h=Math.min(b,g),l=Math.min(c,d);b>=g&&c>=d&&(h=b-a);return`width: ${a}px; top: ${l+k}px; left: ${h+e}px;`}}function Bh(b,a){function c(a){b.mousemove(a)}function d(a){b.hide()}function e(){b.set({clientHeight:g.clientHeight})}
var k,g,h;document.addEventListener("mousemove",c);document.addEventListener("scroll",d);var l=a.component&&Ud(b,a);return{c(){k=n("\n\n");g=m("div");l&&l.c();b.root._beforecreate.push(e);g.style.cssText=a.style;g.className="svelte-14z2oof svelte-ref-root"},m(a,c){a.insertBefore(k,c);a.insertBefore(g,c);l&&l.m(g,null);h=Aa(g,e);b.refs.root=g},p(a,c){c.component?l?l.p(a,c):(l=Ud(b,c),l.c(),l.m(g,null)):l&&(l.d(1),l=null);a.style&&(g.style.cssText=c.style)},d(a){document.removeEventListener("mousemove",
c);document.removeEventListener("scroll",d);a&&(E(k),E(g));l&&l.d();h.cancel();b.refs.root===g&&(b.refs.root=null)}}}function Ud(b,a){var c,d=a.component;if(d)var e=new d({root:b.root,store:b.store});return{c(){e&&e._fragment.c();c=xa()},m(a,d){e&&(e._mount(a,d),b.refs.component=e);a.insertBefore(c,d)},p(a,g){d!==(d=g.component)&&(e&&e.destroy(),d?(e=new d({root:b.root,store:b.store}),e._fragment.c(),e._mount(c.parentNode,c),b.refs.component=e):(e=null,b.refs.component===e&&(b.refs.component=null)))},
d(a){a&&E(c);e&&e.destroy(a)}}}function Nb(b){z(this,b);this.refs={};this._state=q({visible:!1,width:150,component:null},b.data);this._recompute({x:1,width:1,y:1,clientHeight:1,visible:1},this._state);this._intro=!0;this._fragment=Bh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Db(b,a){if(0>(a=(b=a?b.toExponential(a-1):b.toExponential()).indexOf("e")))return null;var c=b.slice(0,a);return[1<c.length?c[0]+c.slice(2):c,+b.slice(a+1)]}function Ch(b){return b=
Db(Math.abs(b)),b?b[1]:NaN}function Dh(b,a){return function(c,d){for(var e=c.length,k=[],g=0,h=b[0],l=0;0<e&&0<h;){l+h+1>d&&(h=Math.max(1,d-l));k.push(c.substring(e-=h,e+h));if((l+=h+1)>d)break;h=b[g=(g+1)%b.length]}return k.reverse().join(a)}}function Eh(b){return function(a){return a.replace(/[0-9]/g,function(a){return b[+a]})}}function Xc(b){return new Yc(b)}function Yc(b){if(!(a=Fh.exec(b)))throw Error("invalid format: "+b);var a;this.fill=a[1]||" ";this.align=a[2]||">";this.sign=a[3]||"-";this.symbol=
a[4]||"";this.zero=!!a[5];this.width=a[6]&&+a[6];this.comma=!!a[7];this.precision=a[8]&&+a[8].slice(1);this.trim=!!a[9];this.type=a[10]||""}function Vd(b,a){a=Db(b,a);if(!a)return b+"";b=a[0];a=a[1];return 0>a?"0."+Array(-a).join("0")+b:b.length>a+1?b.slice(0,a+1)+"."+b.slice(a+1):b+Array(a-b.length+2).join("0")}function Wd(b){return b}function Gh(b){function a(a){function b(a){var b=p,d=W,g,l;if("c"===n)d=C(a)+d,a="";else{a=+a;var v=0>a;a=C(Math.abs(a),x);if(I){var r=a.length,u=1,w=-1;a:for(;u<r;++u)switch(a[u]){case ".":w=
g=u;break;case "0":0===w&&(w=u);g=u;break;default:if(0<w){if(!+a[u])break a;w=0}}a=0<w?a.slice(0,w)+a.slice(g+1):a}v&&0===+a&&(v=!1);b=(v?"("===A?A:"-":"-"===A||"("===A?"":A)+b;d=("s"===n?Xd[8+Yd/3]:"")+d+(v&&"("===A?")":"");if(G)for(v=-1,g=a.length;++v<g;)if(l=a.charCodeAt(v),48>l||57<l){d=(46===l?e+a.slice(v+1):a.slice(v))+d;a=a.slice(0,v);break}}y&&!S&&(a=c(a,Infinity));l=b.length+a.length+d.length;v=l<m?Array(m-l+1).join(h):"";y&&S&&(a=c(v+a,v.length?m-d.length:Infinity),v="");switch(f){case "<":a=
b+a+d+v;break;case "=":a=b+v+a+d;break;case "^":a=v.slice(0,l=v.length>>1)+b+a+d+v.slice(l);break;default:a=v+b+a+d}return k(a)}a=Xc(a);var h=a.fill,f=a.align,A=a.sign,u=a.symbol,S=a.zero,m=a.width,y=a.comma,x=a.precision,I=a.trim,n=a.type;"n"===n?(y=!0,n="g"):Zd[n]||(null==x&&(x=12),I=!0,n="g");if(S||"0"===h&&"="===f)S=!0,h="0",f="=";var p="$"===u?d[0]:"#"===u&&/[boxX]/.test(n)?"0"+n.toLowerCase():"",W="$"===u?d[1]:/[%p]/.test(n)?g:"",C=Zd[n],G=/[defgprs%]/.test(n);x=null==x?6:/[gprs]/.test(n)?Math.max(1,
Math.min(21,x)):Math.max(0,Math.min(20,x));b.toString=function(){return a+""};return b}var c=b.grouping&&b.thousands?Dh(b.grouping,b.thousands):Wd,d=b.currency,e=b.decimal,k=b.numerals?Eh(b.numerals):Wd,g=b.percent||"%";return{format:a,formatPrefix:function(b,c){var d=a((b=Xc(b),b.type="f",b));b=3*Math.max(-8,Math.min(8,Math.floor(Ch(c)/3)));var e=Math.pow(10,-b),g=Xd[8+b/3];return function(a){return d(e*a)+g}}}}function $d(b,a,c){b=Object.create(b);b.top=a[c];b.i=c;return b}function Hh(b,a){var c,
d,e,k,g,h=ae(a.num_activations),l,f,r=a.top_class_indices&&be(b,a);return{c(){c=m("div");d=m("table");r&&r.c();e=n("\n  ");k=m("div");g=n("Average of ");l=n(h);f=n(" activations");d.className="svelte-1qbcldy";p(k,"font-size","10px");p(k,"margin-top","4px");p(k,"color","#999");p(k,"text-align","right");c.className="hover svelte-1qbcldy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);r&&r.m(d,null);c.appendChild(e);c.appendChild(k);k.appendChild(g);k.appendChild(l);k.appendChild(f)},p(a,c){c.top_class_indices?
r?r.p(a,c):(r=be(b,c),r.c(),r.m(d,null)):r&&(r.d(1),r=null);a.num_activations&&h!==(h=ae(c.num_activations))&&R(l,h)},d(a){a&&E(c);r&&r.d()}}}function be(b,a){for(var c,d=a.top_class_indices.slice(0,5),e=[],k=0;k<d.length;k+=1)e[k]=ce(b,$d(a,d,k));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=xa()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,k){if(a.top_class_values||a.$inceptionLabels||a.top_class_indices){d=k.top_class_indices.slice(0,5);for(var g=0;g<d.length;g+=
1){let h=$d(k,d,g);e[g]?e[g].p(a,h):(e[g]=ce(b,h),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Y(e,a);a&&E(c)}}}function ce(b,a){var c,d,e=a.i+1,k,g,h,l,f=a.$inceptionLabels[a.top],r,A,u,S=de(a.top_class_values[a.i]),w;return{c(){c=m("tr");d=m("td");k=n(e);g=n(".");h=n("\n        ");l=m("td");r=n(f);A=n("\n        ");u=m("td");w=n(S);p(d,"width","10px");p(d,"text-align","right");p(d,"padding-right","4px");d.className="svelte-1qbcldy";l.className=(0==a.i?
"first":"")+" svelte-1qbcldy";p(u,"text-align","right");u.className="svelte-1qbcldy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(k);d.appendChild(g);c.appendChild(h);c.appendChild(l);l.appendChild(r);c.appendChild(A);c.appendChild(u);u.appendChild(w)},p(a,b){(a.$inceptionLabels||a.top_class_indices)&&f!==(f=b.$inceptionLabels[b.top])&&R(r,f);a.top_class_values&&S!==(S=de(b.top_class_values[b.i]))&&R(w,S)},d(a){a&&E(c)}}}function ee(b){z(this,b);this._state=q(this.store._init(["inceptionLabels"]),
b.data);this.store._add(this,["inceptionLabels"]);this._intro=!0;this._handlers.destroy=[ka];this._fragment=Hh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ih(){this.refs.element.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.element.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.element.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function Jh(b,a){var c,
d=b._slotted.default;return{c(){c=m("d-figure");p(c,"display",a.display);p(c,"height",a.height)},m(a,k){a.insertBefore(c,k);d&&c.appendChild(d);b.refs.element=c},p(a,b){a.display&&p(c,"display",b.display);a.height&&p(c,"height",b.height)},d(a){a&&E(c);d&&oa(c,d);b.refs.element===c&&(b.refs.element=null)}}}function Ya(b){z(this,b);this.refs={};this._state=q({display:"block",ready:!1,height:"",onscreen:!1,offscreen:!0},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Jh(this,this._state);
this.root._oncreate.push(()=>{Ih.call(this);this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Kh(b,a){var c;return{c(){c=m("div");c.innerHTML='<span class="svelte-19e83wz">Loading \u2026</span>';c.className="svelte-19e83wz"},m(a,b){a.insertBefore(c,b)},p:T,d(a){a&&E(c)}}}function Zc(b){z(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Kh(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor))}function Lh({radarReady:b,component:a}){return b&&a?!0:!1}function Mh({width:b}){if(b){if("number"==typeof b)return b+"px";if("string"==typeof b)return b}else return"100%"}function Nh({clientWidth:b,height:a,aspectRatio:c,minHeight:d}){if(c)return b/=c,d?Math.min(d,b)+"px":b+"px";if(a){if("number"==typeof a)return a+"px";if("string"==typeof a)return a}else return"100%"}function Oh(b,a){function c(){b.set({clientWidth:d.clientWidth,clientHeight:d.clientHeight})}var d,
e,k,g=a.ready?fe:ge,h=g(b,a),l={offscreen:a.offscreen,onscreen:a.onscreen,height:"100%"};if(void 0!==a.radarReady){l.ready=a.radarReady;var f=!0}var r=new Ya({root:b.root,store:b.store,slots:{default:V()},data:l,_bind(a,c){var d={};!f&&a.ready&&(d.radarReady=c.ready);b._set(d);f=void 0}});b.root._beforecreate.push(()=>{r._bind({ready:1},r.get())});return{c(){d=m("div");h.c();e=xa();r._fragment.c();b.root._beforecreate.push(c);p(d,"width",a.finalWidth);p(d,"height",a.finalHeight);d.className="svelte-16j6f9b svelte-ref-container"},
m(a,g){a.insertBefore(d,g);h.m(r._slotted.default,null);r._slotted.default.appendChild(e);r._mount(d,null);k=Aa(d,c);b.refs.container=d},p(c,k){a=k;g===(g=a.ready?fe:ge)&&h?h.p(c,a):(h.d(1),h=g(b,a),h.c(),h.m(e.parentNode,e));k={};c.offscreen&&(k.offscreen=a.offscreen);c.onscreen&&(k.onscreen=a.onscreen);!f&&c.radarReady&&(k.ready=a.radarReady,f=void 0!==a.radarReady);r._set(k);f=void 0;c.finalWidth&&p(d,"width",a.finalWidth);c.finalHeight&&p(d,"height",a.finalHeight)},d(a){a&&E(d);h.d();r.destroy();
k.cancel();b.refs.container===d&&(b.refs.container=null)}}}function ge(b,a){var c=new Zc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:T,d(a){c.destroy(a)}}}function fe(b,a){function c(a){a={};for(var c=0;c<e.length;c+=1)a=q(a,e[c]);return{root:b.root,store:b.store,data:a}}var d,e=[{clientWidth:a.clientWidth},{clientHeight:a.clientHeight},a.componentData],k=a.component;if(k)var g=new k(c(a));return{c(){g&&g._fragment.c();d=xa()},m(a,c){g&&(g._mount(a,c),b.refs.component=
g);a.insertBefore(d,c)},p(a,l){if(a.clientWidth||a.clientHeight||a.componentData){var h=e;a=[a.clientWidth&&{clientWidth:l.clientWidth},a.clientHeight&&{clientHeight:l.clientHeight},a.componentData&&l.componentData];for(var f={},A={},u={},m=h.length;m--;){var w=h[m],y=a[m];if(y){for(var x in w)x in y||(A[x]=1);for(x in y)u[x]||(f[x]=y[x],u[x]=1);h[m]=y}else for(x in w)u[x]=1}for(x in A)x in f||(f[x]=void 0);h=f}else h={};k!==(k=l.component)?(g&&g.destroy(),k?(g=new k(c(l)),g._fragment.c(),g._mount(d.parentNode,
d),b.refs.component=g):(g=null,b.refs.component===g&&(b.refs.component=null))):k&&g._set(h)},d(a){a&&E(d);g&&g.destroy(a)}}}function ca(b){z(this,b);this.refs={};this._state=q({component:null,url:null,componentData:null,radarReady:!1,onscreen:!1,offsreen:!0,height:null,width:null,aspectRatio:null,minHeight:null},b.data);this._recompute({radarReady:1,component:1,width:1,clientWidth:1,height:1,aspectRatio:1,minHeight:1},this._state);this._intro=!0;this._fragment=Oh(this,this._state);this.root._oncreate.push(()=>
{{let {height:a,aspectRatio:b}=this.get();a||b||console.warn(`Require 'height'${a} or 'aspectRatio'${b} not set on LazyComponent.html`,this)}this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Ph({clientWidth:b}){return b}function Qh({width:b,aspectRatio:a}){return b/a}function Rh(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,e,k=b._slotted.default,g;return{c(){d=m("div");e=m("div");e.className=
"container svelte-xqvv98";b.root._beforecreate.push(c);d.className="root svelte-xqvv98";p(d,"display",a.display);p(d,"padding-bottom",""+100/a.aspectRatio+"%")},m(a,b){a.insertBefore(d,b);d.appendChild(e);k&&e.appendChild(k);g=Aa(d,c)},p(a,b){a.display&&p(d,"display",b.display);a.aspectRatio&&p(d,"padding-bottom",""+100/b.aspectRatio+"%")},d(a){a&&E(d);k&&oa(e,k);g.cancel()}}}function Eb(b){z(this,b);this._state=q({display:"block",aspectRatio:1,clientWidth:0},b.data);this._recompute({clientWidth:1,
width:1,aspectRatio:1},this._state);this._intro=!0;this._slotted=b.slots||{};this._fragment=Rh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Sh(b,a){var c,d,e,k=a.ready?he:ie,g=k(b,a),h={aspectRatio:a.aspectRatio},l=new Eb({root:b.root,store:b.store,slots:{default:V()},data:h});h={};if(void 0!==a.ready){h.ready=a.ready;var f=!0}var r=new Ya({root:b.root,store:b.store,slots:{default:V()},data:h,_bind(a,c){var d={};!f&&a.ready&&(d.ready=c.ready);b._set(d);
f=void 0}});b.root._beforecreate.push(()=>{r._bind({ready:1},r.get())});return{c(){c=m("div");g.c();d=xa();l._fragment.c();r._fragment.c();c.className=e=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-1q1tvil svelte-ref-root"},m(a,e){a.insertBefore(c,e);g.m(l._slotted.default,null);l._slotted.default.appendChild(d);l._mount(r._slotted.default,null);r._mount(c,null);b.refs.root=c},p(h,v){a=v;k===(k=a.ready?he:ie)&&g?g.p(h,a):(g.d(1),g=k(b,a),g.c(),g.m(d.parentNode,d));v={};h.aspectRatio&&
(v.aspectRatio=a.aspectRatio);l._set(v);v={};!f&&h.ready&&(v.ready=a.ready,f=void 0!==a.ready);r._set(v);f=void 0;(h.background||h.border)&&e!==(e=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-1q1tvil svelte-ref-root")&&(c.className=e)},d(a){a&&E(c);g.d();l.destroy();r.destroy();b.refs.root===c&&(b.refs.root=null)}}}function ie(b,a){var c=new Zc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:T,d(a){c.destroy(a)}}}function he(b,a){var c;return{c(){c=
m("img");c.src=a.src;c.alt=a.alt;c.style.cssText=a.style;c.className="svelte-1q1tvil svelte-ref-image"},m(a,e){a.insertBefore(c,e);b.refs.image=c},p(a,b){a.src&&(c.src=b.src);a.alt&&(c.alt=b.alt);a.style&&(c.style.cssText=b.style)},d(a){a&&E(c);b.refs.image===c&&(b.refs.image=null)}}}function N(b){z(this,b);this.refs={};this._state=q({ready:!1,src:"",alt:"",style:"",display:"block",aspectRatio:1,border:!0,background:!1},b.data);this._intro=!0;this._fragment=Sh(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),D(this))}function Th(b,a){var c,d,e,k,g,h,l;return{c(){c=m("a");d=t("svg");e=t("path");k=n("\n  ");g=m("span");h=n(a.text);f(e,"d","M14,2c0-0.3-0.2-0.5-0.5-0.5S13,1.7,13,2v12c0,0.6-0.4,1-1,1H3.1c-0.3,0-0.5-0.1-0.7-0.3L1.7,14h8.8c0.8,0,1.5-0.7,1.5-1.5\n      l0-11C12,0.7,11.3,0,10.5,0l-9,0C0.7,0,0,0.7,0,1.5v12.1c0,0.3,0.1,0.5,0.3,0.7l1.4,1.4C1.9,15.9,2.1,16,2.4,16h10.1\n      c0.8,0,1.5-0.7,1.5-1.5l0-1.8C14,9,14,2,14,2z M9.1,9.6c0,0.3-0.2,0.5-0.5,0.5H5.4c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h3.1\n      C8.8,9.1,9.1,9.3,9.1,9.6z M2.3,4.7C2.1,4.5,2.1,4.2,2.3,4C2.5,3.8,2.8,3.8,3,4l2.8,2.6L3,9.3C2.9,9.4,2.8,9.4,2.7,9.4\n      c-0.1,0-0.3-0.1-0.4-0.2c-0.2-0.2-0.2-0.5,0-0.7l2-1.9L2.3,4.7z");
f(e,"class","svelte-7z3jn3");f(d,"viewBox","0 0 18 18");f(d,"class","svelte-7z3jn3");g.className="svelte-7z3jn3";c.href=a.url;c.className=l="root emphasis-"+a.emphasis+" svelte-7z3jn3"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);c.appendChild(k);c.appendChild(g);g.appendChild(h)},p(a,b){a.text&&R(h,b.text);a.url&&(c.href=b.url);a.emphasis&&l!==(l="root emphasis-"+b.emphasis+" svelte-7z3jn3")&&(c.className=l)},d(a){a&&E(c)}}}function $c(b){z(this,b);this._state=q({url:"",text:"Try in a notebook",
emphasis:1},b.data);this._intro=!0;this._fragment=Th(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Uh(b,a){function c(a){b.fire("click")}var d,e=b._slotted.default;return{c(){d=m("button");d.addEventListener("click",c,void 0);p(d,"background-color",a.backgroundColor);p(d,"color",a.color);d.className="svelte-nm66xb"},m(a,b){a.insertBefore(d,b);e&&d.appendChild(e)},p(a,b){a.backgroundColor&&p(d,"background-color",b.backgroundColor);a.color&&p(d,"color",b.color)},
d(a){a&&E(d);e&&oa(d,e);d.removeEventListener("click",c,void 0)}}}function Ob(b){z(this,b);this._state=q({backgroundColor:"rgb(255, 130, 0)",color:"white"},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Uh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Vh(b,a){var c,d,e;return{c(){c=t("svg");d=t("path");e=t("path");f(d,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z");f(e,"d","M0 0h24v24H0z");f(e,"fill","none");f(c,"xmlns","http://www.w3.org/2000/svg");
f(c,"width","24");f(c,"height","24");f(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e)},p:T,d(a){a&&E(c)}}}function je(b){z(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Vh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Wh(b,a){var c,d,e;return{c(){c=t("svg");d=t("path");e=t("path");f(d,"d","M19 13H5v-2h14v2z");f(e,"d","M0 0h24v24H0z");f(e,"fill","none");f(c,"xmlns","http://www.w3.org/2000/svg");f(c,
"width","24");f(c,"height","24");f(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e)},p:T,d(a){a&&E(c)}}}function ke(b){z(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Wh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Xh(b,a){var c,d,e;return{c(){c=t("svg");d=t("path");e=t("path");f(d,"d","M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z");f(e,"d","M0 0h24v24H0z");f(e,"fill","none");f(c,"xmlns","http://www.w3.org/2000/svg");
f(c,"width","24");f(c,"height","24");f(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e)},p:T,d(a){a&&E(c)}}}function le(b){z(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Xh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Yh({name:b}){if("home"===b)return le;if("add"===b)return je;if("remove"===b)return ke}function Zh(b,a){var c,d=a.Icon;if(d)var e=new d({root:b.root,store:b.store});return{c(){c=m("div");
e&&e._fragment.c();p(c,"fill",a.color)},m(a,b){a.insertBefore(c,b);e&&e._mount(c,null)},p(a,g){d!==(d=g.Icon)&&(e&&e.destroy(),d?(e=new d({root:b.root,store:b.store}),e._fragment.c(),e._mount(c,null)):e=null);a.color&&p(c,"fill",g.color)},d(a){a&&E(c);e&&e.destroy()}}}function Fb(b){z(this,b);this._state=q({color:"black"},b.data);this._recompute({name:1},this._state);this._intro=!0;this._fragment=Zh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function $h({clientWidth:b,
extent:a}){return Math.min(b,Math.max(1E-6,a[0][0]*b))}function ai({clientWidth:b,extent:a}){return Math.min(b,a[0][1]*b)}function bi({clientHeight:b,extent:a}){return Math.min(b,Math.max(1E-6,a[1][0]*b))}function ci({clientHeight:b,extent:a}){return Math.min(b,a[1][1]*b)}function di(b,a){function c(){b.set({clientWidth:e.clientWidth,clientHeight:e.clientHeight})}function d(a){b.mouseDown(a)}var e,k,g=a.extent&&me(b,a);return{c(){e=m("div");g&&g.c();b.root._beforecreate.push(c);e.addEventListener("mousedown",
d,void 0);e.className="root svelte-1pppif8"},m(a,b){a.insertBefore(e,b);g&&g.m(e,null);k=Aa(e,c)},p(a,c){c.extent?g?g.p(a,c):(g=me(b,c),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(a){a&&E(e);g&&g.d();k.cancel();e.removeEventListener("mousedown",d,void 0)}}}function me(b,a){var c,d,e,k,g=a.left&&a.right&&a.top&&a.bottom&&ne(b,a),h=a.annotationValue&&oe(b,a);return{c(){c=t("svg");g&&g.c();d=n("\n    ");e=m("div");h&&h.c();f(c,"width",a.clientWidth);f(c,"height",a.clientHeight);f(c,"class","svelte-1pppif8");
e.className=k="reticle "+(a.round?"round":"")+" svelte-1pppif8";p(e,"border-color",a.color);p(e,"top",""+(a.top-1)+"px");p(e,"left",""+(a.left-1)+"px");p(e,"width",""+(a.right-a.left+2)+"px");p(e,"height",""+(a.bottom-a.top+2)+"px")},m(a,b){a.insertBefore(c,b);g&&g.m(c,null);a.insertBefore(d,b);a.insertBefore(e,b);h&&h.m(e,null)},p(a,d){d.left&&d.right&&d.top&&d.bottom?g?g.p(a,d):(g=ne(b,d),g.c(),g.m(c,null)):g&&(g.d(1),g=null);a.clientWidth&&f(c,"width",d.clientWidth);a.clientHeight&&f(c,"height",
d.clientHeight);d.annotationValue?h?h.p(a,d):(h=oe(b,d),h.c(),h.m(e,null)):h&&(h.d(1),h=null);a.round&&k!==(k="reticle "+(d.round?"round":"")+" svelte-1pppif8")&&(e.className=k);a.color&&p(e,"border-color",d.color);a.top&&p(e,"top",""+(d.top-1)+"px");a.left&&p(e,"left",""+(d.left-1)+"px");(a.right||a.left)&&p(e,"width",""+(d.right-d.left+2)+"px");(a.bottom||a.top)&&p(e,"height",""+(d.bottom-d.top+2)+"px")},d(a){a&&E(c);g&&g.d();a&&(E(d),E(e));h&&h.d()}}}function ne(b,a){var c,d,e;return{c(){c=t("path");
f(c,"class",d=(a.background?"":"transparent")+" svelte-1pppif8");f(c,"d",e="M0,0 L"+a.clientWidth+",0 L"+a.clientWidth+","+a.clientHeight+" L0,"+a.clientHeight+" z M"+a.left+","+a.top+" L"+a.left+","+a.bottom+" L"+a.right+","+a.bottom+" L"+a.right+","+a.top+" z")},m(a,b){a.insertBefore(c,b)},p(a,b){a.background&&d!==(d=(b.background?"":"transparent")+" svelte-1pppif8")&&f(c,"class",d);(a.clientWidth||a.clientHeight||a.left||a.top||a.bottom||a.right)&&e!==(e="M0,0 L"+b.clientWidth+",0 L"+b.clientWidth+
","+b.clientHeight+" L0,"+b.clientHeight+" z M"+b.left+","+b.top+" L"+b.left+","+b.bottom+" L"+b.right+","+b.bottom+" L"+b.right+","+b.top+" z")&&f(c,"d",e)},d(a){a&&E(c)}}}function oe(b,a){var c,d,e,k;return{c(){c=m("div");d=m("div");e=m("div");k=n(a.annotationValue);e.className="annotation";d.className="annotationTab svelte-1pppif8";p(d,"background",a.color);c.className="annotationTabParent svelte-1pppif8";p(c,"top",""+(a.w*a.width-2)/2+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);
e.appendChild(k)},p(a,b){a.annotationValue&&R(k,b.annotationValue);a.color&&p(d,"background",b.color);(a.w||a.width)&&p(c,"top",""+(b.w*b.width-2)/2+"px")},d(a){a&&E(c)}}}function vb(b){z(this,b);this._state=q({dragging:!1,extent:[[0,0],[0,0]],background:!0,round:!1,color:"rgb(255, 130, 0)",enableDragging:!0,mouseUpListener:null,mouseMoveListener:null},b.data);this._recompute({clientWidth:1,extent:1,clientHeight:1},this._state);this._intro=!0;this._fragment=di(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),D(this))}function ei(b,a){var c,d,e,k=new N({root:b.root,store:b.store,data:{aspectRatio:1,src:"assets/images/renders/thumbnail-"+a.layerName+".jpg",border:!1,alt:"thumbnail for "+a.layerName}}),g={enableDragging:!0};if(void 0!==a.extent){g.extent=a.extent;var h=!0}var l=new vb({root:b.root,store:b.store,data:g,_bind(a,c){var d={};!h&&a.extent&&(d.extent=c.extent);b._set(d);h=void 0}});b.root._beforecreate.push(()=>{l._bind({extent:1},l.get())});l.on("drag",function(a){b.fire("drag",
a)});var f=new Eb({root:b.root,store:b.store,slots:{default:V()}});return{c(){c=m("div");d=m("div");k._fragment.c();e=n("\n    ");l._fragment.c();f._fragment.c();p(d,"opacity","0.4");c.className="svelte-15ooxw3 svelte-ref-root"},m(a,g){a.insertBefore(c,g);f._slotted.default.appendChild(d);k._mount(d,null);f._slotted.default.appendChild(e);l._mount(f._slotted.default,null);f._mount(c,null);b.refs.root=c},p(b,c){a=c;c={};b.layerName&&(c.src="assets/images/renders/thumbnail-"+a.layerName+".jpg");b.layerName&&
(c.alt="thumbnail for "+a.layerName);k._set(c);c={};!h&&b.extent&&(c.extent=a.extent,h=void 0!==a.extent);l._set(c);h=void 0},d(a){a&&E(c);k.destroy();l.destroy();f.destroy();b.refs.root===c&&(b.refs.root=null)}}}function pe(b){z(this,b);this.refs={};this._state=q({scaleCountFactor:200},b.data);this._intro=!0;this._fragment=ei(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function ad(){}function Gb(b){for(var a,c,d=1,e=arguments.length;d<e;d++)for(a in c=
arguments[d],c)b[a]=c[a];return b}function qe(b){this.destroy=ad;this.fire("destroy");this.set=this.get=ad;!1!==b&&this._fragment.u();this._fragment.d();this._fragment=this._state=null}function re(b,a,c,d,e){for(var k in a)if(c[k]){var g=d[k],h=e[k],l=a[k];if(l)for(var f=0;f<l.length;f+=1){var r=l[f];r.__calling||(r.__calling=!0,r.call(b,g,h),r.__calling=!1)}}}function Qb(b){for(;b&&b.length;)b.shift()()}function fi(b,a){return a?a:b}function gi(){let b=(a)=>{this.set({loaded:!0});var {img:a}=this.get();
a.removeEventListener("loaded",b)};this.observe("index",(a)=>{this.draw()},{init:!1});this.observe("img",(a)=>{this.draw()},{init:!1});this.observe("loaded",(a)=>{this.draw()},{init:!1});this.observe("url",(a)=>{let c=this.get("img");c&&c.removeEventListener("load",b);if(bd.has(a))a=bd.get(a),a.loaded?this.set({loaded:!0,img:a.img}):(this.set({loaded:!1,img:a.img}),a.img.addEventListener("load",b));else{let c=new Image;this.set({loaded:!1,img:c});let e={img:c},k=(a)=>{e.loaded=!0;c.removeEventListener("load",
k)};c.addEventListener("load",k);c.addEventListener("load",b);bd.set(a,e);c.src=a}})}function hi(b,a){var c;return{c:function(){c=document.createElement("canvas");this.h()},h:function(){c.width=a.width;c.height=a.realHeight},m:function(a,e){a.insertBefore(c,e);b.refs.canvas=c},p:function(a,b){a.width&&(c.width=b.width);a.realHeight&&(c.height=b.realHeight)},u:function(){c.parentNode.removeChild(c)},d:function(){b.refs.canvas===c&&(b.refs.canvas=null)}}}function se(b){this._observers={pre:Object.create(null),
post:Object.create(null)};this._handlers=Object.create(null);this._bind=b._bind;this.options=b;this.root=b.root||this;this.store=this.root.store||b.store;this.refs={};this._state=Gb({url:"",index:0,width:100,loaded:null,columns:Infinity,height:null,img:null},b.data);this._recompute({width:1,height:1},this._state);var a=gi.bind(this);b.root||(this._oncreate=[]);this._fragment=hi(this,this._state);this.root._oncreate.push(a);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),Qb(this._oncreate))}
function te(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function ii(b,a){var c=te(b);return function(d,e){return a(c(d),e,b)}}function ji(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function ue(b){function a(a,b){function c(){if(m)return cd;if(y)return y=!1,ve;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<e&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=e?m=!0:
10===(d=a.charCodeAt(g++))?y=!0:13===d&&(y=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<e;){if(10===(d=a.charCodeAt(b=g++)))y=!0;else if(13===d)y=!0,10===a.charCodeAt(g)&&++g;else if(d!==k)continue;return a.slice(c,b)}return m=!0,a.slice(c,e)}var d=[],e=a.length,g=0,h=0,f,m=0>=e,y=!1;10===a.charCodeAt(e-1)&&--e;for(13===a.charCodeAt(e-1)&&--e;(f=c())!==cd;){for(var x=[];f!==ve&&f!==cd;)x.push(f),f=c();b&&null==(x=b(x,h++))||d.push(x)}return d}function c(a){return a.map(d).join(b)}
function d(a){return null==a?"":e.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var e=new RegExp('["'+b+"\n\r]"),k=b.charCodeAt(0);return{parse:function(b,c){var d,e;b=a(b,function(a,b){if(d)return d(a,b-1);e=a;d=c?ii(a,c):te(a)});b.columns=e||[];return b},parseRows:a,format:function(a,c){null==c&&(c=ji(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}function we(b){if(b.ok)return b;
throw Error(b.status+":"+b.statusText);}function uc(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function vc(b){return fetch(b).then(we).then((a)=>a.text())}function dd(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();wc.set(c,!1);if(ed.has(a)){let b=ed.get(a);wc.set(b,!0)}ed.set(a,c);return new Promise((a,e)=>{if(Array.isArray(b)){var d=b.map((a)=>xe(a));d=Promise.all(d)}else d=xe(b);
d.then((b)=>{wc.get(c)||a(b)}).catch((a)=>{wc.get(c)||e(a)})})}function xe(b){if(fd.has(b))return fd.get(b);var a=ye;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=ye.get(a)(b);fd.set(b,a);return a}function ki({clientWidth:b}){return b}function li({model:b,layerName:a}){return b+"_"+a}function mi(){let {root:b,id:a,grid:c}=this.get(),d=ni[a];null==d.class_filter&&(d.class_filter="None");null==
d.filter&&(d.filter="None");Array.isArray(d.layout)||(d.layout=[d.layout]);Array.isArray(d.layer)||(d.layer=[d.layer]);Array.isArray(d.filter)||(d.filter=[d.filter]);this.set({gridSize:d.grid_size[c],layerName:d.layer[0]});dd(`${b}/${a}/web/web--grid_size=${d.grid_size[c]}--layout=${d.layout[0]}--class_filter=${d.class_filter}--filter=${d.filter[0]}--layer=${d.layer[0]}--model=${d.model}--sample_images=${d.sample_images}--sample_type=${d.sample_type}.json`).then((a)=>{this.set({icons:a});this.render()})}
function oi({changed:b}){b.classHeatmap&&this.render()}function pi(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,e,k;return{c(){d=m("div");e=m("canvas");e.width=a.gridSize;e.height=a.gridSize;p(e,"width",""+a.clientWidth+"px");p(e,"height",""+a.height+"px");e.className="svelte-sjakuy";b.root._beforecreate.push(c);p(d,"height",""+a.height+"px")},m(a,h){a.insertBefore(d,h);d.appendChild(e);b.refs.canvas=e;k=Aa(d,c)},p(a,b){a.gridSize&&(e.width=b.gridSize,e.height=b.gridSize);a.clientWidth&&
p(e,"width",""+b.clientWidth+"px");a.height&&(p(e,"height",""+b.height+"px"),p(d,"height",""+b.height+"px"))},d(a){a&&E(d);b.refs.canvas===e&&(b.refs.canvas=null);k.cancel()}}}function xc(b){z(this,b);this.refs={};this._state=q({root:"https://storage.googleapis.com/activation-atlas/build",model:"inceptionv1",layerName:"mixed4d",grid:1,layout:0,gridSize:10,classHeatmap:-1,icons:[]},b.data);this._recompute({clientWidth:1,model:1,layerName:1},this._state);this._intro=!0;this._handlers.update=[oi];this._fragment=
pi(this,this._state);this.root._oncreate.push(()=>{mi.call(this);this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function ze(b,a,c){b=Object.create(b);b.layer=a[c];b.i=c;return b}function qi(b,a){for(var c,d=a.layers,e=[],k=0;k<d.length;k+=1)e[k]=Ae(b,ze(a,d,k));return{c(){c=m("div");for(var a=0;a<e.length;a+=1)e[a].c();c.className="stack"},m(a,b){a.insertBefore(c,b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},
p(a,k){if(a.layerName||a.layers||a.classHeatmap){d=k.layers;for(var g=0;g<d.length;g+=1){let h=ze(k,d,g);e[g]?e[g].p(a,h):(e[g]=Ae(b,h),e[g].c(),e[g].m(c,null))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){a&&E(c);Y(e,a)}}}function Ae(b,a){function c(){b.set({layerName:e.__value})}var d,e,k,g,h,l,v,r=a.layer,A,u,S,w=new xc({root:b.root,store:b.store,data:{grid:0,layerName:a.layer,classHeatmap:a.classHeatmap}});return{c(){d=m("label");e=m("input");g=n("\n    ");h=m("div");w._fragment.c();
l=n("\n    ");v=m("span");A=n(r);u=n("\n  ");b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=k=a.layer;e.value=e.__value;e.className="svelte-1tpwqxh";h.className="thumb svelte-1tpwqxh";p(h,"position","relative");v.className="svelte-1tpwqxh";d.className=S="layer "+(a.layerName==a.layer?"selected":"")+" svelte-1tpwqxh"},m(b,c){b.insertBefore(d,c);d.appendChild(e);e.checked=e.__value===a.layerName;d.appendChild(g);d.appendChild(h);w._mount(h,null);d.appendChild(l);
d.appendChild(v);v.appendChild(A);d.appendChild(u)},p(a,b){a.layerName&&(e.checked=e.__value===b.layerName);a.layers&&k!==(k=b.layer)&&(e.__value=k);e.value=e.__value;var c={};a.layers&&(c.layerName=b.layer);a.classHeatmap&&(c.classHeatmap=b.classHeatmap);w._set(c);a.layers&&r!==(r=b.layer)&&R(A,r);(a.layerName||a.layers)&&S!==(S="layer "+(b.layerName==b.layer?"selected":"")+" svelte-1tpwqxh")&&(d.className=S)},d(a){a&&E(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);e.removeEventListener("change",
c,void 0);w.destroy()}}}function Be(b){z(this,b);this._state=q({layerName:"mixed4c",layers:"mixed3a mixed3b mixed4a mixed4b mixed4c mixed4d mixed4e mixed5a mixed5b".split(" "),classHeatmap:-1},b.data);this._bindingGroups=[[]];this._intro=!0;this._fragment=qi(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function ri({inceptionLabels:b}){let a=yc.map((a)=>({label:b.inception[a],i:a}));return[{label:"show all",i:-1}].concat(a)}function Ce(b,a,c){b=Object.create(b);
b.l=a[c];return b}function si(b,a){for(var c,d=a.labels,e=[],k=0;k<d.length;k+=1)e[k]=De(b,Ce(a,d,k));return{c(){c=m("div");for(var a=0;a<e.length;a+=1)e[a].c();c.className="chooser svelte-h2ed57"},m(a,b){a.insertBefore(c,b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},p(a,k){if(a.classHeatmap||a.labels){d=k.labels;for(var g=0;g<d.length;g+=1){let h=Ce(k,d,g);e[g]?e[g].p(a,h):(e[g]=De(b,h),e[g].c(),e[g].m(c,null))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){a&&E(c);Y(e,a)}}}function De(b,a){function c(){b.set({classHeatmap:e.__value})}
var d,e,k,g,h,l=a.l.label,v,r,A,u;return{c(){d=m("label");e=m("input");g=n("\n      ");h=m("span");v=n(l);A=n("\n    ");b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=k=a.l.i;e.value=e.__value;e.className="svelte-h2ed57";h.title=r=a.l.i;d.className=u=(a.classHeatmap===a.l.i?"selected":"")+" svelte-h2ed57"},m(b,c){b.insertBefore(d,c);d.appendChild(e);e.checked=e.__value===a.classHeatmap;d.appendChild(g);d.appendChild(h);h.appendChild(v);d.appendChild(A)},
p(a,b){a.classHeatmap&&(e.checked=e.__value===b.classHeatmap);a.labels&&k!==(k=b.l.i)&&(e.__value=k);e.value=e.__value;a.labels&&l!==(l=b.l.label)&&R(v,l);a.labels&&r!==(r=b.l.i)&&(h.title=r);(a.classHeatmap||a.labels)&&u!==(u=(b.classHeatmap===b.l.i?"selected":"")+" svelte-h2ed57")&&(d.className=u)},d(a){a&&E(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);e.removeEventListener("change",c,void 0)}}}function gd(b){z(this,b);this._state=q({classesToKeep:yc,inceptionLabels:Hb,classHeatmap:235},
b.data);this._recompute({inceptionLabels:1},this._state);this._bindingGroups=[[]];this._intro=!0;this._fragment=si(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ee(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function ti(b,a){var c=Ee(b);return function(d,e){return a(c(d),e,b)}}function ui(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}
function Fe(b){function a(a,b){function c(){if(m)return hd;if(y)return y=!1,Ge;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<e&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=e?m=!0:10===(d=a.charCodeAt(g++))?y=!0:13===d&&(y=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<e;){if(10===(d=a.charCodeAt(b=g++)))y=!0;else if(13===d)y=!0,10===a.charCodeAt(g)&&++g;else if(d!==k)continue;return a.slice(c,b)}return m=!0,a.slice(c,e)}var d=[],e=a.length,g=0,h=0,f,m=0>=
e,y=!1;10===a.charCodeAt(e-1)&&--e;for(13===a.charCodeAt(e-1)&&--e;(f=c())!==hd;){for(var x=[];f!==Ge&&f!==hd;)x.push(f),f=c();b&&null==(x=b(x,h++))||d.push(x)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":e.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var e=new RegExp('["'+b+"\n\r]"),k=b.charCodeAt(0);return{parse:function(b,c){var d,e;b=a(b,function(a,b){if(d)return d(a,b-1);e=a;d=c?ti(a,c):Ee(a)});b.columns=e||[];return b},parseRows:a,format:function(a,c){null==c&&
(c=ui(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}function He(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function zc(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function Ac(b){return fetch(b).then(He).then((a)=>a.text())}function id(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+
b+", random:"+Date.now()+Math.random();Bc.set(c,!1);if(jd.has(a)){let b=jd.get(a);Bc.set(b,!0)}jd.set(a,c);return new Promise((a,e)=>{if(Array.isArray(b)){var d=b.map((a)=>Ie(a));d=Promise.all(d)}else d=Ie(b);d.then((b)=>{Bc.get(c)||a(b)}).catch((a)=>{Bc.get(c)||e(a)})})}function Ie(b){if(kd.has(b))return kd.get(b);var a=Je;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=Je.get(a)(b);kd.set(b,a);
return a}function Ke(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function vi(b){return function(a,c){return Ke(b(a),c)}}function U(b,a,c){b=+b;a=+a;c=2>(e=arguments.length)?(a=b,b=0,1):3>e?1:+c;for(var d=-1,e=Math.max(0,Math.ceil((a-b)/c))|0,k=Array(e);++d<e;)k[d]=b+d*c;return k}function wi({changed:b}){if(b.layer||b.classFilter||b.id||b.layout||b.filter){let {root:a,id:c,layer:d,classFilter:e,filter:k,layout:g}=this.get();this.set({loading:!0});let h=xi[c];this.set({config:h});let f=!1,v=!1;switch(h.layer[d]){case "mixed4a":v=
f=!0;break;case "mixed4d":f=!0;v=!1;break;case "mixed5a":f=!0;v=!1;break;case "mixed5b":f=!0,v=!1}null!==e&&(null==h.class_filter&&(h.class_filter="None"),null==h.filter&&(h.filter="None"),Array.isArray(h.grid_size)||(h.grid_size=[h.grid_size]),Array.isArray(h.class_filter)||(h.class_filter=[h.class_filter]),Array.isArray(h.layer)||(h.layer=[h.layer]),Array.isArray(h.layout)||(h.layout=[h.layout]),Array.isArray(h.filter)||(h.filter=[h.filter]),b=h.grid_size.map((b)=>`${a}/${c}/web/web--grid_size=${b}--layout=${h.layout[g]}--class_filter=${h.class_filter[e]}--filter=${h.filter[k]}--layer=${h.layer[d]}--model=${h.model}--sample_images=${h.sample_images}--sample_type=${h.sample_type}.json`),
id(b).then((b)=>{let l=Array(b.length);b.forEach((b,r)=>{let u=h.grid_size[r],A=h.tile_size;Array(u/A).keys();let m=[...Array(u).keys()].map((a)=>Array(u));for(let l of b){void 0!==l.x&&(l.grid_x=l.x);void 0!==l.y&&(l.grid_y=l.y);void 0!==l.n&&(l.num_activations=l.n);void 0!==l.i&&(l.top_class_indices=l.i);void 0!==l.v&&(l.top_class_values=l.v);void 0!==l.f&&(l.full_class_values=l.f,l.full_class_indices=yc);b=f?u-l.grid_x-1:l.grid_x;let r=v?u-l.grid_y-1:l.grid_y;l.gx=b/u;l.gy=r/u;l.gw=1/u;let y=Math.floor(l.grid_x/
A),x=Math.floor(l.grid_y/A);l.localX=l.grid_x%A;l.localY=l.grid_y%A;l.url=`${a}/${c}/render/render--x=${y}--y=${x}--tries=${h.tries}--alpha=${h.alpha?"True":"False"}--tile_size=${h.tile_size}--whiten=${h.whiten}--steps=${h.steps}--icon_size=${h.icon_size}--grid_size=${u}--layout=${h.layout[g]}--class_filter=${h.class_filter[e]}--filter=${h.filter[k]}--layer=${h.layer[d]}--model=${h.model}--sample_images=${h.sample_images}--sample_type=${h.sample_type}.jpg`;m[b][r]=l}l[r]=m});this.set({layers:l,loading:!1})}))}}
function ld(b){z(this,b);this._state=q({fingerprint:Math.random()+Date.now(),root:"https://storage.googleapis.com/activation-atlas/build",id:"inceptionv1",labels:Hb.inception,layer:0,classFilter:0,filter:0,layout:0,config:null,layers:null,loading:!1},b.data);this._intro=!0;this._handlers.update=[wi];this._fragment={c:T,m:T,p:T,d:T};this.root._oncreate.push(()=>{this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}
function md(){for(var b=0,a=arguments.length,c={},d;b<a;++b){if(!(d=arguments[b]+"")||d in c)throw Error("illegal type: "+d);c[d]=[]}return new Cc(c)}function Cc(b){this._=b}function yi(b,a){return b.trim().split(/^|\s+/).map(function(b){var c="",e=b.indexOf(".");0<=e&&(c=b.slice(e+1),b=b.slice(0,e));if(b&&!a.hasOwnProperty(b))throw Error("unknown type: "+b);return{type:b,name:c}})}function Le(b,a,c){for(var d=0,e=b.length;d<e;++d)if(b[d].name===a){b[d]=zi;b=b.slice(0,d).concat(b.slice(d+1));break}null!=
c&&b.push({name:a,value:c});return b}function Dc(b){var a=b+="",c=a.indexOf(":");0<=c&&"xmlns"!==(a=b.slice(0,c))&&(b=b.slice(c+1));return Me.hasOwnProperty(a)?{space:Me[a],local:b}:b}function Ai(b){return function(){var a=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===a.documentElement.namespaceURI?a.createElement(b):a.createElementNS(c,b)}}function Bi(b){return function(){return this.ownerDocument.createElementNS(b.space,b.local)}}
function Ne(b){b=Dc(b);return(b.local?Bi:Ai)(b)}function Ci(){}function nd(b){return null==b?Ci:function(){return this.querySelector(b)}}function Di(){return[]}function Oe(b){return null==b?Di:function(){return this.querySelectorAll(b)}}function Pe(b){return Array(b.length)}function Ec(b,a){this.ownerDocument=b.ownerDocument;this.namespaceURI=b.namespaceURI;this._next=null;this._parent=b;this.__data__=a}function Ei(b){return function(){return b}}function Fi(b,a,c,d,e,k){for(var g=0,h,f=a.length,v=
k.length;g<v;++g)(h=a[g])?(h.__data__=k[g],d[g]=h):c[g]=new Ec(b,k[g]);for(;g<f;++g)if(h=a[g])e[g]=h}function Gi(b,a,c,d,e,k,g){var h,f,v={},r=a.length,A=k.length,u=Array(r),m;for(h=0;h<r;++h)if(f=a[h])u[h]=m="$"+g.call(f,f.__data__,h,a),m in v?e[h]=f:v[m]=f;for(h=0;h<A;++h)m="$"+g.call(b,k[h],h,k),(f=v[m])?(d[h]=f,f.__data__=k[h],v[m]=null):c[h]=new Ec(b,k[h]);for(h=0;h<r;++h)(f=a[h])&&v[u[h]]===f&&(e[h]=f)}function Hi(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function Ii(b){return function(){this.removeAttribute(b)}}
function Ji(b){return function(){this.removeAttributeNS(b.space,b.local)}}function Ki(b,a){return function(){this.setAttribute(b,a)}}function Li(b,a){return function(){this.setAttributeNS(b.space,b.local,a)}}function Mi(b,a){return function(){var c=a.apply(this,arguments);null==c?this.removeAttribute(b):this.setAttribute(b,c)}}function Ni(b,a){return function(){var c=a.apply(this,arguments);null==c?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,c)}}function Oi(b){return function(){this.style.removeProperty(b)}}
function Pi(b,a,c){return function(){this.style.setProperty(b,a,c)}}function Qi(b,a,c){return function(){var d=a.apply(this,arguments);null==d?this.style.removeProperty(b):this.style.setProperty(b,d,c)}}function wb(b,a){return b.style.getPropertyValue(a)||(b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView).getComputedStyle(b,null).getPropertyValue(a)}function Ri(b){return function(){delete this[b]}}function Si(b,a){return function(){this[b]=a}}function Ti(b,a){return function(){var c=
a.apply(this,arguments);null==c?delete this[b]:this[b]=c}}function od(b){return b.classList||new Qe(b)}function Qe(b){this._node=b;this._names=(b.getAttribute("class")||"").trim().split(/^|\s+/)}function Re(b,a){b=od(b);for(var c=-1,d=a.length;++c<d;)b.add(a[c])}function Se(b,a){b=od(b);for(var c=-1,d=a.length;++c<d;)b.remove(a[c])}function Ui(b){return function(){Re(this,b)}}function Vi(b){return function(){Se(this,b)}}function Wi(b,a){return function(){(a.apply(this,arguments)?Re:Se)(this,b)}}function Xi(){this.textContent=
""}function Yi(b){return function(){this.textContent=b}}function Zi(b){return function(){var a=b.apply(this,arguments);this.textContent=null==a?"":a}}function $i(){this.innerHTML=""}function aj(b){return function(){this.innerHTML=b}}function bj(b){return function(){var a=b.apply(this,arguments);this.innerHTML=null==a?"":a}}function cj(){this.nextSibling&&this.parentNode.appendChild(this)}function dj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ej(){return null}
function fj(){var b=this.parentNode;b&&b.removeChild(this)}function gj(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function hj(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function ij(b,a,c){b=Te(b,a,c);return function(a){var c=a.relatedTarget;c&&(c===this||c.compareDocumentPosition(this)&8)||b.call(this,a)}}function Te(b,a,c){return function(d){var e=F;F=d;try{b.call(this,this.__data__,a,c)}finally{F=e}}}function jj(b){return b.trim().split(/^|\s+/).map(function(a){var b=
"",d=a.indexOf(".");0<=d&&(b=a.slice(d+1),a=a.slice(0,d));return{type:a,name:b}})}function kj(b){return function(){var a=this.__on;if(a){for(var c=0,d=-1,e=a.length,k;c<e;++c)(k=a[c],b.type&&k.type!==b.type||k.name!==b.name)?a[++d]=k:this.removeEventListener(k.type,k.listener,k.capture);++d?a.length=d:delete this.__on}}}function lj(b,a,c){var d=Ue.hasOwnProperty(b.type)?ij:Te;return function(e,k,g){e=this.__on;var h;k=d(a,k,g);if(e){g=0;for(var f=e.length;g<f;++g)if((h=e[g]).type===b.type&&h.name===
b.name){this.removeEventListener(h.type,h.listener,h.capture);this.addEventListener(h.type,h.listener=k,h.capture=c);h.value=a;return}}this.addEventListener(b.type,k,c);h={type:b.type,name:b.name,value:a,listener:k,capture:c};e?e.push(h):this.__on=[h]}}function Ve(b,a,c){var d=b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView,e=d.CustomEvent;"function"===typeof e?e=new e(a,c):(e=d.document.createEvent("Event"),c?(e.initEvent(a,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(a,
!1,!1));b.dispatchEvent(e)}function mj(b,a){return function(){return Ve(this,b,a)}}function nj(b,a){return function(){return Ve(this,b,a.apply(this,arguments))}}function ma(b,a){this._groups=b;this._parents=a}function Ra(){return new ma([[document.documentElement]],We)}function kb(b){return"string"===typeof b?new ma([[document.querySelector(b)]],[document.documentElement]):new ma([[b]],We)}function Xe(){for(var b=F,a;a=b.sourceEvent;)b=a;return b}function Ye(b,a){var c=b.ownerSVGElement||b;if(c.createSVGPoint)return c=
c.createSVGPoint(),c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y];c=b.getBoundingClientRect();return[a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop]}function Fc(b){var a=Xe();a.changedTouches&&(a=a.changedTouches[0]);return Ye(b,a)}function Ze(b,a,c){3>arguments.length&&(c=a,a=Xe().changedTouches);for(var d=0,e=a?a.length:0,k;d<e;++d)if((k=a[d]).identifier===c)return Ye(b,k);return null}function pd(){F.preventDefault();F.stopImmediatePropagation()}
function oj(b){var a=b.document.documentElement;b=kb(b).on("dragstart.drag",pd,!0);if("onselectstart"in a)b.on("selectstart.drag",pd,!0);else a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none"}function pj(b,a){var c=b.document.documentElement,d=kb(b).on("dragstart.drag",null);a&&(d.on("click.drag",pd,!0),setTimeout(function(){d.on("click.drag",null)},0));if("onselectstart"in c)d.on("selectstart.drag",null);else c.style.MozUserSelect=c.__noselect,delete c.__noselect}function xb(b,a,c){b.prototype=
a.prototype=c;c.constructor=b}function Ma(b,a){b=Object.create(b.prototype);for(var c in a)b[c]=a[c];return b}function la(){}function Ib(b){var a;b=(b+"").trim().toLowerCase();return(a=qj.exec(b))?(a=parseInt(a[1],16),new X(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1)):(a=rj.exec(b))?$e(parseInt(a[1],16)):(a=sj.exec(b))?new X(a[1],a[2],a[3],1):(a=tj.exec(b))?new X(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=uj.exec(b))?af(a[1],a[2],a[3],a[4]):(a=vj.exec(b))?af(255*a[1]/100,255*a[2]/100,255*a[3]/
100,a[4]):(a=wj.exec(b))?bf(a[1],a[2]/100,a[3]/100,1):(a=xj.exec(b))?bf(a[1],a[2]/100,a[3]/100,a[4]):cf.hasOwnProperty(b)?$e(cf[b]):"transparent"===b?new X(NaN,NaN,NaN,0):null}function $e(b){return new X(b>>16&255,b>>8&255,b&255,1)}function af(b,a,c,d){0>=d&&(b=a=c=NaN);return new X(b,a,c,d)}function qd(b){b instanceof la||(b=Ib(b));if(!b)return new X;b=b.rgb();return new X(b.r,b.g,b.b,b.opacity)}function rd(b,a,c,d){return 1===arguments.length?qd(b):new X(b,a,c,null==d?1:d)}function X(b,a,c,d){this.r=
+b;this.g=+a;this.b=+c;this.opacity=+d}function sd(b){b=Math.max(0,Math.min(255,Math.round(b)||0));return(16>b?"0":"")+b.toString(16)}function bf(b,a,c,d){0>=d?b=a=c=NaN:0>=c||1<=c?b=a=NaN:0>=a&&(b=NaN);return new Na(b,a,c,d)}function yj(b){if(b instanceof Na)return new Na(b.h,b.s,b.l,b.opacity);b instanceof la||(b=Ib(b));if(!b)return new Na;if(b instanceof Na)return b;b=b.rgb();var a=b.r/255,c=b.g/255,d=b.b/255,e=Math.min(a,c,d),k=Math.max(a,c,d),g=NaN,h=k-e,f=(k+e)/2;h?(g=a===k?(c-d)/h+6*(c<d):
c===k?(d-a)/h+2:(a-c)/h+4,h/=.5>f?k+e:2-k-e,g*=60):h=0<f&&1>f?0:g;return new Na(g,h,f,b.opacity)}function Na(b,a,c,d){this.h=+b;this.s=+a;this.l=+c;this.opacity=+d}function td(b,a,c){return 255*(60>b?a+(c-a)*b/60:180>b?c:240>b?a+(c-a)*(240-b)/60:a)}function ud(b){if(b instanceof Ia)return new Ia(b.l,b.a,b.b,b.opacity);if(b instanceof ya){if(isNaN(b.h))return new Ia(b.l,0,0,b.opacity);var a=b.h*df;return new Ia(b.l,Math.cos(a)*b.c,Math.sin(a)*b.c,b.opacity)}b instanceof X||(b=qd(b));var c=vd(b.r),
d=vd(b.g),e=vd(b.b);a=wd(.2225045*c+.7168786*d+.0606169*e);if(c===d&&d===e)var k=c=a;else k=wd((.4360747*c+.3850649*d+.1430804*e)/.96422),c=wd((.0139322*c+.0971045*d+.7141733*e)/.82521);return new Ia(116*a-16,500*(k-a),200*(a-c),b.opacity)}function Ia(b,a,c,d){this.l=+b;this.a=+a;this.b=+c;this.opacity=+d}function wd(b){return b>zj?Math.pow(b,1/3):b/ef+ff}function xd(b){return b>Sa?b*b*b:ef*(b-ff)}function yd(b){return 255*(.0031308>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055)}function vd(b){return.04045>=
(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}function Aj(b){if(b instanceof ya)return new ya(b.h,b.c,b.l,b.opacity);b instanceof Ia||(b=ud(b));if(0===b.a&&0===b.b)return new ya(NaN,0,b.l,b.opacity);var a=Math.atan2(b.b,b.a)*gf;return new ya(0>a?a+360:a,Math.sqrt(b.a*b.a+b.b*b.b),b.l,b.opacity)}function ya(b,a,c,d){this.h=+b;this.c=+a;this.l=+c;this.opacity=+d}function cb(b,a,c,d){this.h=+b;this.s=+a;this.l=+c;this.opacity=+d}function hf(b){return function(){return b}}function Bj(b,a){return function(c){return b+
c*a}}function Cj(b,a,c){return b=Math.pow(b,c),a=Math.pow(a,c)-b,c=1/c,function(d){return Math.pow(b+d*a,c)}}function Dj(b){return 1===(b=+b)?jf:function(a,c){return c-a?Cj(a,c,b):hf(isNaN(a)?c:a)}}function jf(b,a){var c=a-b;return c?Bj(b,c):hf(isNaN(b)?a:b)}function ib(b,a){return b=+b,a-=b,function(c){return b+a*c}}function Ej(b){return function(){return b}}function Fj(b){return function(a){return b(a)+""}}function Gj(b,a){var c=zd.lastIndex=Ad.lastIndex=0,d,e,k,g=-1,f=[],l=[];b+="";for(a+="";(d=
zd.exec(b))&&(e=Ad.exec(a));)(k=e.index)>c&&(k=a.slice(c,k),f[g]?f[g]+=k:f[++g]=k),(d=d[0])===(e=e[0])?f[g]?f[g]+=e:f[++g]=e:(f[++g]=null,l.push({i:g,x:ib(d,e)})),c=Ad.lastIndex;c<a.length&&(k=a.slice(c),f[g]?f[g]+=k:f[++g]=k);return 2>f.length?l[0]?Fj(l[0].x):Ej(a):(a=l.length,function(b){for(var c=0,d;c<a;++c)f[(d=l[c]).i]=d.x(b);return f.join("")})}function kf(b,a,c,d,e,k){var g,f,l;if(g=Math.sqrt(b*b+a*a))b/=g,a/=g;if(l=b*c+a*d)c-=b*l,d-=a*l;if(f=Math.sqrt(c*c+d*d))c/=f,d/=f,l/=f;b*d<a*c&&(b=
-b,a=-a,l=-l,g=-g);return{translateX:e,translateY:k,rotate:Math.atan2(a,b)*lf,skewX:Math.atan(l)*lf,scaleX:g,scaleY:f}}function mf(b,a,c,d){function e(a){return a.length?a.pop()+" ":""}function k(b,d,e,g,k,f){b!==e||d!==g?(k=k.push("translate(",null,a,null,c),f.push({i:k-4,x:ib(b,e)},{i:k-2,x:ib(d,g)})):(e||g)&&k.push("translate("+e+a+g+c)}function g(a,b,c,g){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),g.push({i:c.push(e(c)+"rotate(",null,d)-2,x:ib(a,b)})):b&&c.push(e(c)+"rotate("+b+d)}function f(a,b,
c,g){a!==b?g.push({i:c.push(e(c)+"skewX(",null,d)-2,x:ib(a,b)}):b&&c.push(e(c)+"skewX("+b+d)}function l(a,b,c,d,g,k){a!==c||b!==d?(g=g.push(e(g)+"scale(",null,",",null,")"),k.push({i:g-4,x:ib(a,c)},{i:g-2,x:ib(b,d)})):1===c&&1===d||g.push(e(g)+"scale("+c+","+d+")")}return function(a,c){var d=[],e=[];a=b(a);c=b(c);k(a.translateX,a.translateY,c.translateX,c.translateY,d,e);g(a.rotate,c.rotate,d,e);f(a.skewX,c.skewX,d,e);l(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,e);a=c=null;return function(a){for(var b=
-1,c=e.length,g;++b<c;)d[(g=e[b]).i]=g.x(a);return d.join("")}}}function nf(b){return((b=Math.exp(b))+1/b)/2}function Hj(b,a){var c=b[0],d=b[1],e=b[2];b=a[2];var k=a[0]-c,g=a[1]-d,f=k*k+g*g;if(1E-12>f){var l=Math.log(b/e)/db;b=function(a){return[c+a*k,d+a*g,e*Math.exp(db*a*l)]}}else{var v=Math.sqrt(f);a=(b*b-e*e+4*f)/(4*e*v);b=(b*b-e*e-4*f)/(4*b*v);var r=Math.log(Math.sqrt(a*a+1)-a);l=(Math.log(Math.sqrt(b*b+1)-b)-r)/db;b=function(a){a*=l;var b=nf(r),f=db*a+r;var h=((f=Math.exp(2*f))-1)/(f+1);var m=
r;f=((m=Math.exp(m))-1/m)/2;h=e/(2*v)*(b*h-f);return[c+h*k,d+h*g,e*b/nf(db*a+r)]}}b.duration=1E3*l;return b}function Gc(){return Ta||(of(Ij),Ta=yb.now()+Hc)}function Ij(){Ta=0}function Ic(){this._call=this._time=this._next=null}function pf(b,a,c){var d=new Ic;d.restart(b,a,c);return d}function qf(){Ta=(Jc=yb.now())+Hc;zb=Jb=0;try{Gc();++zb;for(var b=Kc,a;b;)0<=(a=Ta-b._time)&&b._call.call(null,a),b=b._next;--zb}finally{zb=0;b=Kc;for(var c=Infinity;b;)if(b._call){c>b._time&&(c=b._time);var d=b;b=b._next}else a=
b._next,b._next=null,b=d?d._next=a:Kc=a;eb=d;Bd(c);Ta=0}}function Jj(){var b=yb.now(),a=b-Jc;1E3<a&&(Hc-=a,Jc=b)}function Bd(b){zb||(Jb&&(Jb=clearTimeout(Jb)),24<b-Ta?(Infinity>b&&(Jb=setTimeout(qf,b-yb.now()-Hc)),lb&&(lb=clearInterval(lb))):(lb||(Jc=yb.now(),lb=setInterval(Jj,1E3)),zb=1,of(qf)))}function rf(b,a,c){var d=new Ic;a=null==a?0:+a;d.restart(function(c){d.stop();b(c+a)},a,c);return d}function Lc(b,a,c,d,e,k){var g=b.__transition;if(!g)b.__transition={};else if(c in g)return;Kj(b,c,{name:a,
index:d,group:e,on:Lj,tween:Mj,time:k.time,delay:k.delay,duration:k.duration,ease:k.ease,timer:null,state:0})}function Cd(b,a){b=Ja(b,a);if(0<b.state)throw Error("too late; already scheduled");return b}function Za(b,a){b=Ja(b,a);if(2<b.state)throw Error("too late; already started");return b}function Ja(b,a){b=b.__transition;if(!b||!(b=b[a]))throw Error("transition not found");return b}function Kj(b,a,c){function d(h){var l,r;if(1!==c.state)return k();for(u in g){var m=g[u];if(m.name===c.name){if(3===
m.state)return rf(d);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",b,b.__data__,m.index,m.group),delete g[u]):+u<a&&(m.state=6,m.timer.stop(),delete g[u])}}rf(function(){3===c.state&&(c.state=4,c.timer.restart(e,c.delay,c.time),e(h))});c.state=2;c.on.call("start",b,b.__data__,c.index,c.group);if(2===c.state){c.state=3;f=Array(r=c.tween.length);var u=0;for(l=-1;u<r;++u)if(m=c.tween[u].value.call(b,b.__data__,c.index,c.group))f[++l]=m;f.length=l+1}}function e(a){a=a<c.duration?c.ease.call(null,
a/c.duration):(c.timer.restart(k),c.state=5,1);for(var d=-1,e=f.length;++d<e;)f[d].call(null,a);5===c.state&&(c.on.call("end",b,b.__data__,c.index,c.group),k())}function k(){c.state=6;c.timer.stop();delete g[a];for(var d in g)return;delete b.__transition}var g=b.__transition,f;g[a]=c;c.timer=pf(function(a){c.state=1;c.timer.restart(d,c.delay,c.time);c.delay<=a&&d(a-c.delay)},0,c.time)}function Mc(b,a){var c=b.__transition,d,e=!0,k;if(c){a=null==a?null:a+"";for(k in c)if((d=c[k]).name!==a)e=!1;else{var g=
2<d.state&&5>d.state;d.state=6;d.timer.stop();g&&d.on.call("interrupt",b,b.__data__,d.index,d.group);delete c[k]}e&&delete b.__transition}}function Nj(b,a){var c,d;return function(){var e=Za(this,b),k=e.tween;if(k!==c){d=c=k;k=0;for(var g=d.length;k<g;++k)if(d[k].name===a){d=d.slice();d.splice(k,1);break}}e.tween=d}}function Oj(b,a,c){var d,e;if("function"!==typeof c)throw Error();return function(){var k=Za(this,b),g=k.tween;if(g!==d){e=(d=g).slice();g={name:a,value:c};for(var f=0,l=e.length;f<l;++f)if(e[f].name===
a){e[f]=g;break}f===l&&e.push(g)}k.tween=e}}function Dd(b,a,c){var d=b._id;b.each(function(){var b=Za(this,d);(b.value||(b.value={}))[a]=c.apply(this,arguments)});return function(b){return Ja(b,d).value[a]}}function sf(b,a){var c;return("number"===typeof a?ib:a instanceof Ib?tf:(c=Ib(a))?(a=c,tf):Gj)(b,a)}function Pj(b){return function(){this.removeAttribute(b)}}function Qj(b){return function(){this.removeAttributeNS(b.space,b.local)}}function Rj(b,a,c){var d,e;return function(){var k=this.getAttribute(b);
return k===c?null:k===d?e:e=a(d=k,c)}}function Sj(b,a,c){var d,e;return function(){var k=this.getAttributeNS(b.space,b.local);return k===c?null:k===d?e:e=a(d=k,c)}}function Tj(b,a,c){var d,e,k;return function(){var g=c(this);if(null==g)return void this.removeAttribute(b);var f=this.getAttribute(b);return f===g?null:f===d&&g===e?k:k=a(d=f,e=g)}}function Uj(b,a,c){var d,e,k;return function(){var g=c(this);if(null==g)return void this.removeAttributeNS(b.space,b.local);var f=this.getAttributeNS(b.space,
b.local);return f===g?null:f===d&&g===e?k:k=a(d=f,e=g)}}function Vj(b,a){function c(){var c=this,e=a.apply(c,arguments);return e&&function(a){c.setAttributeNS(b.space,b.local,e(a))}}c._value=a;return c}function Wj(b,a){function c(){var c=this,e=a.apply(c,arguments);return e&&function(a){c.setAttribute(b,e(a))}}c._value=a;return c}function Xj(b,a){return function(){Cd(this,b).delay=+a.apply(this,arguments)}}function Yj(b,a){return a=+a,function(){Cd(this,b).delay=a}}function Zj(b,a){return function(){Za(this,
b).duration=+a.apply(this,arguments)}}function ak(b,a){return a=+a,function(){Za(this,b).duration=a}}function bk(b,a){if("function"!==typeof a)throw Error();return function(){Za(this,b).ease=a}}function ck(b){return(b+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");0<=b&&(a=a.slice(0,b));return!a||"start"===a})}function dk(b,a,c){var d,e,k=ck(a)?Cd:Za;return function(){var g=k(this,b),f=g.on;if(f!==d)(e=(d=f).copy()).on(a,c);g.on=e}}function ek(b){return function(){var a=this.parentNode,
c;for(c in this.__transition)if(+c!==b)return;a&&a.removeChild(this)}}function fk(b,a){var c,d,e;return function(){var k=wb(this,b),g=(this.style.removeProperty(b),wb(this,b));return k===g?null:k===c&&g===d?e:e=a(c=k,d=g)}}function gk(b){return function(){this.style.removeProperty(b)}}function hk(b,a,c){var d,e;return function(){var k=wb(this,b);return k===c?null:k===d?e:e=a(d=k,c)}}function ik(b,a,c){var d,e,k;return function(){var g=wb(this,b),f=c(this);null==f&&(f=(this.style.removeProperty(b),
wb(this,b)));return g===f?null:g===d&&f===e?k:k=a(d=g,e=f)}}function jk(b,a,c){function d(){var d=this,k=a.apply(d,arguments);return k&&function(a){d.style.setProperty(b,k(a),c)}}d._value=a;return d}function kk(b){return function(){this.textContent=b}}function lk(b){return function(){var a=b(this);this.textContent=null==a?"":a}}function na(b,a,c,d){this._groups=b;this._parents=a;this._name=c;this._id=d}function Nc(b){return function(){return b}}function mk(b,a,c){this.target=b;this.type=a;this.transform=
c}function Oa(b,a,c){this.k=b;this.x=a;this.y=c}function uf(b){return b.__zoom||Oc}function Ab(){F.preventDefault();F.stopImmediatePropagation()}function nk(){return!F.button}function ok(){var b=this;if(b instanceof SVGElement){b=b.ownerSVGElement||b;var a=b.width.baseVal.value;b=b.height.baseVal.value}else a=b.clientWidth,b=b.clientHeight;return[[0,0],[a,b]]}function vf(){return this.__zoom||Oc}function pk(){return-F.deltaY*(F.deltaMode?120:1)/500}function qk(){return"ontouchstart"in this}function rk(b,
a,c){var d=b.invertX(a[0][0])-c[0][0],e=b.invertX(a[1][0])-c[1][0],k=b.invertY(a[0][1])-c[0][1];a=b.invertY(a[1][1])-c[1][1];return b.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),a>k?(k+a)/2:Math.min(0,k)||Math.max(0,a))}function sk(){function b(a){a.property("__zoom",vf).on("wheel.zoom",f).on("mousedown.zoom",l).on("dblclick.zoom",v).filter(I).on("touchstart.zoom",r).on("touchmove.zoom",m).on("touchend.zoom touchcancel.zoom",u).style("touch-action","none").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)")}function a(a,b){b=Math.max(aa[0],Math.min(aa[1],b));return b===a.k?a:new Oa(b,a.x,a.y)}function c(a,b,c){var d=b[0]-c[0]*a.k;b=b[1]-c[1]*a.k;return d===a.x&&b===a.y?a:new Oa(a.k,d,b)}function d(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function e(a,b,c){a.on("start.zoom",function(){k(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).end()}).tween("zoom",function(){var a=arguments,e=k(this,a),g=w.apply(this,a),f=c||d(g),h=Math.max(g[1][0]-
g[0][0],g[1][1]-g[0][1]);g=this.__zoom;var l="function"===typeof b?b.apply(this,a):b,v=C(g.invert(f).concat(h/g.k),l.invert(f).concat(h/l.k));return function(a){if(1===a)a=l;else{a=v(a);var b=h/a[2];a=new Oa(b,f[0]-a[0]*b,f[1]-a[1]*b)}e.zoom(null,a)}})}function k(a,b){for(var c=0,d=G.length,e;c<d;++c)if((e=G[c]).that===a)return e;return new g(a,b)}function g(a,b){this.that=a;this.args=b;this.index=-1;this.active=0;this.extent=w.apply(a,b)}function f(){if(n.apply(this,arguments)){var b=k(this,arguments),
d=this.__zoom,e=Math.max(aa[0],Math.min(aa[1],d.k*Math.pow(2,x.apply(this,arguments)))),g=Fc(this);if(b.wheel){if(b.mouse[0][0]!==g[0]||b.mouse[0][1]!==g[1])b.mouse[1]=d.invert(b.mouse[0]=g);clearTimeout(b.wheel)}else{if(d.k===e)return;b.mouse=[g,d.invert(g)];Mc(this);b.start()}Ab();b.wheel=setTimeout(function(){b.wheel=null;b.end()},150);b.zoom("mouse",y(c(a(d,e),b.mouse[0],b.mouse[1]),b.extent,p))}}function l(){if(!H&&n.apply(this,arguments)){var a=k(this,arguments),b=kb(F.view).on("mousemove.zoom",
function(){Ab();if(!a.moved){var b=F.clientX-e,d=F.clientY-g;a.moved=b*b+d*d>M}a.zoom("mouse",y(c(a.that.__zoom,a.mouse[0]=Fc(a.that),a.mouse[1]),a.extent,p))},!0).on("mouseup.zoom",function(){b.on("mousemove.zoom mouseup.zoom",null);pj(F.view,a.moved);Ab();a.end()},!0),d=Fc(this),e=F.clientX,g=F.clientY;oj(F.view);F.stopImmediatePropagation();a.mouse=[d,this.__zoom.invert(d)];Mc(this);a.start()}}function v(){if(n.apply(this,arguments)){var d=this.__zoom,g=Fc(this),k=d.invert(g);d=y(c(a(d,d.k*(F.shiftKey?
.5:2)),g,k),w.apply(this,arguments),p);Ab();0<W?kb(this).transition().duration(W).call(e,d,g):kb(this).call(b.transform,d)}}function r(){if(n.apply(this,arguments)){var a=k(this,arguments),b=F.changedTouches,c=b.length,d;F.stopImmediatePropagation();for(d=0;d<c;++d){var e=b[d];var g=Ze(this,b,e.identifier);g=[g,this.__zoom.invert(g),e.identifier];if(a.touch0)a.touch1||(a.touch1=g);else{a.touch0=g;var f=!0}}if(q&&(q=clearTimeout(q),!a.touch1)){a.end();(g=kb(this).on("dblclick.zoom"))&&g.apply(this,
arguments);return}f&&(q=setTimeout(function(){q=null},500),Mc(this),a.start())}}function m(){var b=k(this,arguments),d=F.changedTouches,e=d.length,g;Ab();q&&(q=clearTimeout(q));for(g=0;g<e;++g){var f=d[g];var h=Ze(this,d,f.identifier);b.touch0&&b.touch0[2]===f.identifier?b.touch0[0]=h:b.touch1&&b.touch1[2]===f.identifier&&(b.touch1[0]=h)}f=b.that.__zoom;if(b.touch1){h=b.touch0[0];d=b.touch0[1];g=b.touch1[0];e=b.touch1[1];var l=(l=g[0]-h[0])*l+(l=g[1]-h[1])*l;var v=(v=e[0]-d[0])*v+(v=e[1]-d[1])*v;
f=a(f,Math.sqrt(l/v));h=[(h[0]+g[0])/2,(h[1]+g[1])/2];l=[(d[0]+e[0])/2,(d[1]+e[1])/2]}else if(b.touch0)h=b.touch0[0],l=b.touch0[1];else return;b.zoom("touch",y(c(f,h,l),b.extent,p))}function u(){var a=k(this,arguments),b=F.changedTouches,c=b.length,d;F.stopImmediatePropagation();H&&clearTimeout(H);H=setTimeout(function(){H=null},500);for(d=0;d<c;++d){var e=b[d];a.touch0&&a.touch0[2]===e.identifier?delete a.touch0:a.touch1&&a.touch1[2]===e.identifier&&delete a.touch1}a.touch1&&!a.touch0&&(a.touch0=
a.touch1,delete a.touch1);a.touch0?a.touch0[1]=this.__zoom.invert(a.touch0[0]):a.end()}var n=nk,w=ok,y=rk,x=pk,I=qk,aa=[0,Infinity],p=[[-Infinity,-Infinity],[Infinity,Infinity]],W=250,C=Hj,G=[],t=md("start","zoom","end"),q,H,M=0;b.transform=function(a,b){var c=a.selection?a.selection():a;c.property("__zoom",vf);a!==c?e(a,b):c.interrupt().each(function(){k(this,arguments).start().zoom(null,"function"===typeof b?b.apply(this,arguments):b).end()})};b.scaleBy=function(a,c){b.scaleTo(a,function(){var a=
this.__zoom.k,b="function"===typeof c?c.apply(this,arguments):c;return a*b})};b.scaleTo=function(e,g){b.transform(e,function(){var b=w.apply(this,arguments),e=this.__zoom,k=d(b),f=e.invert(k),h="function"===typeof g?g.apply(this,arguments):g;return y(c(a(e,h),k,f),b,p)})};b.translateBy=function(a,c,d){b.transform(a,function(){return y(this.__zoom.translate("function"===typeof c?c.apply(this,arguments):c,"function"===typeof d?d.apply(this,arguments):d),w.apply(this,arguments),p)})};b.translateTo=function(a,
c,e){b.transform(a,function(){var a=w.apply(this,arguments),b=this.__zoom,g=d(a);return y(Oc.translate(g[0],g[1]).scale(b.k).translate("function"===typeof c?-c.apply(this,arguments):-c,"function"===typeof e?-e.apply(this,arguments):-e),a,p)})};g.prototype={start:function(){1===++this.active&&(this.index=G.push(this)-1,this.emit("start"));return this},zoom:function(a,b){this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0]));this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0]));
this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0]));this.that.__zoom=b;this.emit("zoom");return this},end:function(){0===--this.active&&(G.splice(this.index,1),this.index=-1,this.emit("end"));return this},emit:function(a){var c=new mk(b,a,this.that.__zoom),d=t.apply;a=[a,this.that,this.args];var e=F;c.sourceEvent=F;F=c;try{d.apply(t,a)}finally{F=e}}};b.wheelDelta=function(a){return arguments.length?(x="function"===typeof a?a:Nc(+a),b):x};b.filter=function(a){return arguments.length?
(n="function"===typeof a?a:Nc(!!a),b):n};b.touchable=function(a){return arguments.length?(I="function"===typeof a?a:Nc(!!a),b):I};b.extent=function(a){return arguments.length?(w="function"===typeof a?a:Nc([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):w};b.scaleExtent=function(a){return arguments.length?(aa[0]=+a[0],aa[1]=+a[1],b):[aa[0],aa[1]]};b.translateExtent=function(a){return arguments.length?(p[0][0]=+a[0][0],p[1][0]=+a[1][0],p[0][1]=+a[0][1],p[1][1]=+a[1][1],b):[[p[0][0],p[0][1]],[p[1][0],
p[1][1]]]};b.constrain=function(a){return arguments.length?(y=a,b):y};b.duration=function(a){return arguments.length?(W=+a,b):W};b.interpolate=function(a){return arguments.length?(C=a,b):C};b.on=function(){var a=t.on.apply(t,arguments);return a===t?b:a};b.clickDistance=function(a){return arguments.length?(M=(a=+a)*a,b):Math.sqrt(M)};return b}function tk(b){return function(){return b}}function Ed(b,a){if(b===a||b!==b)return tk(b);var c=typeof b;if(c!==typeof a||Array.isArray(b)!==Array.isArray(a))throw Error("Cannot interpolate values of different type");
if(Array.isArray(b)){var d=a.map(function(a,c){return Ed(b[c],a)});return function(a){return d.map(function(b){return b(a)})}}if("object"===c){if(!b||!a)throw Error("Object cannot be null");if("[object Date]"===Object.prototype.toString.call(b)&&"[object Date]"===Object.prototype.toString.call(a)){b=b.getTime();a=a.getTime();var e=a-b;return function(a){return new Date(b+a*e)}}var k=Object.keys(a),g={},f={};k.forEach(function(c){g[c]=Ed(b[c],a[c])});return function(a){k.forEach(function(b){f[b]=g[b](a)});
return f}}if("number"===c){var l=a-b;return function(a){return b+a*l}}throw Error("Cannot interpolate "+c+" values");}function uk(b){return b}function vk({clientWidth:b,clientHeight:a}){return Math.min(b,a)}function wk({msx:b,msy:a}){return void 0!=b&&void 0!=a}function xk({transform:b,msx:a,msy:c}){return b&&void 0!=a&&void 0!=c?[b.invertX(a),b.invertY(c)]:null}function yk({scale:b,translateX:a,translateY:c,minSize:d,clientWidth:e,clientHeight:k}){a=-a/b;c=-c/b;return[[a/d,(a+e/b)/d],[c/d,(c+k/b)/
d]]}function zk({extent:b}){return(b[0][0]+b[0][1])/2}function Ak({extent:b}){return(b[1][0]+b[1][1])/2}function Bk(){let {z:b,scaleExtent:a,minSize:c,homeScale:d,homeX:e,homeY:k,disableBehaviors:g}=this.get(),f=this;b.wheelDelta(()=>{let a=-F.deltaY*(F.deltaMode?120:1)/500;F.ctrlKey&&(a*=10);return a});b.scaleExtent(a);let l=kb(this.refs.root);this.set({selection:l,el:this.refs.root});g||b(l);b.filter(this.zoomEventFilter.bind(this));b.on("zoom",()=>{this.onzoom(f)});b.translateTo(l,e*c,k*c);b.scaleTo(l,
d)}function yf({changed:b,current:a,previous:c}){void 0!=c&&(b.clientWidth||b.clientHeight)&&a.el&&this.update();let {}=this.get()}function Ck(b,a){function c(){b.set({clientWidth:g.clientWidth,clientHeight:g.clientHeight})}function d(a){b.mouseMove(a)}function e(a){b.set({msx:null,msy:null})}function k(a){b.set({msx:null,msy:null})}var g,f=b._slotted.default,l;return{c(){g=m("div");b.root._beforecreate.push(c);g.addEventListener("mousemove",d,void 0);g.addEventListener("mousedown",e,void 0);g.addEventListener("mouseout",
k,void 0);g.className="d3zoom svelte-kaete3 svelte-ref-root"},m(a,d){a.insertBefore(g,d);f&&g.appendChild(f);l=Aa(g,c);b.refs.root=g},p:T,d(a){a&&E(g);f&&oa(g,f);l.cancel();g.removeEventListener("mousemove",d,void 0);g.removeEventListener("mousedown",e,void 0);g.removeEventListener("mouseout",k,void 0);b.refs.root===g&&(b.refs.root=null)}}}function Pc(b){z(this,b);this.refs={};this._state=q({z:sk(),el:null,selection:null,transform:null,scaleExtent:[1,48],homeScale:1,homeX:.5,homeY:.5,scale:null,translateX:null,
translateY:null,k:1,x:0,y:0,msx:null,msy:null,disableBehaviors:!1,scrollWheel:!1},b.data);this._recompute({clientWidth:1,clientHeight:1,msx:1,msy:1,transform:1,minSize:1,scale:1,translateX:1,translateY:1,extent:1},this._state);this._intro=!0;this._handlers.state=[yf];this._slotted=b.slots||{};yf.call(this,{changed:wa({},this._state),current:this._state});this._fragment=Ck(this,this._state);this.root._oncreate.push(()=>{Bk.call(this);this.fire("update",{changed:wa({},this._state),current:this._state})});
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Dk({layers:b,layer:a}){if(null==b)return 0;let c=0;b[a].forEach((a)=>{a.forEach((a)=>{a&&500<a.num_activations&&(a=a.full_class_values[0],a>c&&(c=a))})});return c}function Ek({viewWidth:b,screenResolution:a}){return b*a}function Fk({viewHeight:b,screenResolution:a}){return b*a}function Gk({scale:b,gridSize:a,config:c,classHeatmap:d,w:e,h:k,autoGridSizeMultiplier:g}){b=-1<a?+a:Math.floor(Math.sqrt(Math.max(e,k)*b/80/g/20));
c&&(b=Math.min(c.grid_size.length-1,b));-1<d&&(b=Math.min(2,b));return b}function Hk({currentZoomIndex:b,layers:a}){return a?a[b]:[[]]}function Ik({labelsBufferContext:b,labels:a,fontSize:c,textColor:d,textShadowColor:e}){b&&a&&(b.globalAlpha=1,b.font=c+"px Helvetica",a.forEach((a,c)=>{b.lineWidth=3;b.lineJoin="round";b.strokeStyle=e;b.strokeText(a,c%10*150+10,20*Math.floor(c/10+1),80,15);b.fillStyle=d;b.fillStyle=d;b.fillText(a,c%10*150+10,20*Math.floor(c/10+1),80,15)}))}function Jk({hoverIconData:b,
mouseGlobalPosition:a}){return a&&b&&b.gcx}function Kk({currentLayerData:b,mouseGlobalPosition:a,w:c,h:d}){if(b){let e=b.length;if(a){let k=Math.floor(a[0]/Math.min(c,d)*e);a=Math.floor(a[1]/Math.min(c,d)*e);return b[a]&&b[a][k]?b[a][k]:{}}}return{}}function Lk({hoverIconData:b,scale:a,w:c,h:d,translateX:e}){return b.gy*a*Math.min(c,d)+e}function Mk({hoverIconData:b,scale:a,w:c,h:d,translateY:e}){return b.gx*a*Math.min(c,d)+e}function Nk({hoverIconData:b,scale:a,w:c,h:d}){return b.gw*a*Math.min(c,
d)}function Ok({mouseGlobalPosition:b,hoverIconData:a,enableHover:c}){return c&&b&&a&&a.gw}function Pk(){let {tooltip:b}=this.store.get();this.refs.d3Zoom.on("zoom",()=>{b.hide()});let a=document.createElement("canvas");a.width=1500;a.height=2040;let c=a.getContext("2d");this.set({labelsBufferCanvas:a,labelsBufferContext:c})}function Qk({changed:b,current:a}){if(!a.context||b.viewWidth||b.viewHeight){var c=this.refs.labelsCanvas.getContext("2d");c.imageSmoothingEnabled=!1;this.set({context:this.refs.canvas.getContext("2d"),
labelsContext:c})}(b.loading||b.autoGridSizeMultiplier||b.labels||b.density||b.maxAttributionValue||b.classHeatmap||b.classHeatmapMultiplier||b.classHeatmapPositive||b.showLabels||b.viewWidth||b.viewHeight||b.scale||b.translateX||b.translateY||b.iconCrop||b.gridSize||b.layers)&&this.render();if(b.hoverIconData){var {tooltip:c}=this.store.get();let {showHoverIcon:b}=this.get();b?c.show(a.hoverIconData):c.hide()}if(b.showHoverIcon&&0==a.showHoverIcon){var {tooltip:b}=this.store.get();b.hide()}}function Rk(b,
a){function c(){b.set({viewWidth:k.clientWidth,viewHeight:k.clientHeight})}var d,e,k,g,f,l,v,r,A,u,S,w,y,x={};if(void 0!==a.ready){x.ready=a.ready;var I=!0}var p=new Ya({root:b.root,store:b.store,data:x,_bind(a,c){var d={};!I&&a.ready&&(d.ready=c.ready);b._set(d);I=void 0}});b.root._beforecreate.push(()=>{p._bind({ready:1},p.get())});var t=a.ready&&zf(b,a),q=a.showHoverIcon&&Af(b,a);x={homeX:a.homeX,homeY:a.homeY,homeScale:a.homeScale};if(void 0!==a.scale){x.scale=a.scale;var C=!0}if(void 0!==a.translateX){x.translateX=
a.translateX;var G=!0}if(void 0!==a.translateY){x.translateY=a.translateY;var K=!0}if(void 0!==a.mouseOver){x.mouseOver=a.mouseOver;var J=!0}if(void 0!==a.mouseGlobalPosition){x.mouseGlobalPosition=a.mouseGlobalPosition;var H=!0}if(void 0!==a.extent){x.extent=a.extent;var M=!0}if(void 0!==a.scrollWheel){x.scrollWheel=a.scrollWheel;var P=!0}if(void 0!==a.disableBehaviors){x.disableBehaviors=a.disableBehaviors;var Z=!0}if(void 0!==a.gcx){x.gcx=a.gcx;var ea=!0}if(void 0!==a.gcy){x.gcy=a.gcy;var Q=!0}var L=
new Pc({root:b.root,store:b.store,slots:{default:V()},data:x,_bind(a,c){var d={};!C&&a.scale&&(d.scale=c.scale);!G&&a.translateX&&(d.translateX=c.translateX);!K&&a.translateY&&(d.translateY=c.translateY);!J&&a.mouseOver&&(d.mouseOver=c.mouseOver);!H&&a.mouseGlobalPosition&&(d.mouseGlobalPosition=c.mouseGlobalPosition);!M&&a.extent&&(d.extent=c.extent);!P&&a.scrollWheel&&(d.scrollWheel=c.scrollWheel);!Z&&a.disableBehaviors&&(d.disableBehaviors=c.disableBehaviors);!ea&&a.gcx&&(d.gcx=c.gcx);!Q&&a.gcy&&
(d.gcy=c.gcy);b._set(d);Q=ea=Z=P=M=H=J=K=G=C=void 0}});b.root._beforecreate.push(()=>{L._bind({scale:1,translateX:1,translateY:1,mouseOver:1,mouseGlobalPosition:1,extent:1,scrollWheel:1,disableBehaviors:1,gcx:1,gcy:1},L.get())});b.refs.d3Zoom=L;return{c(){p._fragment.c();d=n("\n\n");t&&t.c();e=n("\n\n");k=m("div");g=m("canvas");v=n("\n    ");r=m("canvas");S=n("\n    ");q&&q.c();w=xa();L._fragment.c();g.width=f=a.viewWidth*a.screenResolution;g.height=l=a.viewHeight*a.screenResolution;g.className="svelte-w9b5xg svelte-ref-canvas";
r.width=A=a.viewWidth*a.screenResolution;r.height=u=a.viewHeight*a.screenResolution;r.className="svelte-w9b5xg svelte-ref-labelsCanvas";b.root._beforecreate.push(c);k.className="svelte-w9b5xg svelte-ref-root"},m(a,f){p._mount(a,f);a.insertBefore(d,f);t&&t.m(a,f);a.insertBefore(e,f);a.insertBefore(k,f);L._slotted.default.appendChild(g);b.refs.canvas=g;L._slotted.default.appendChild(v);L._slotted.default.appendChild(r);b.refs.labelsCanvas=r;L._slotted.default.appendChild(S);q&&q.m(L._slotted.default,
null);L._slotted.default.appendChild(w);L._mount(k,null);y=Aa(k,c);b.refs.root=k},p(c,d){a=d;d={};!I&&c.ready&&(d.ready=a.ready,I=void 0!==a.ready);p._set(d);I=void 0;a.ready?t?t.p(c,a):(t=zf(b,a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null);(c.viewWidth||c.screenResolution)&&f!==(f=a.viewWidth*a.screenResolution)&&(g.width=f);(c.viewHeight||c.screenResolution)&&l!==(l=a.viewHeight*a.screenResolution)&&(g.height=l);(c.viewWidth||c.screenResolution)&&A!==(A=a.viewWidth*a.screenResolution)&&(r.width=
A);(c.viewHeight||c.screenResolution)&&u!==(u=a.viewHeight*a.screenResolution)&&(r.height=u);a.showHoverIcon?q?q.p(c,a):(q=Af(b,a),q.c(),q.m(w.parentNode,w)):q&&(q.d(1),q=null);d={};c.homeX&&(d.homeX=a.homeX);c.homeY&&(d.homeY=a.homeY);c.homeScale&&(d.homeScale=a.homeScale);!C&&c.scale&&(d.scale=a.scale,C=void 0!==a.scale);!G&&c.translateX&&(d.translateX=a.translateX,G=void 0!==a.translateX);!K&&c.translateY&&(d.translateY=a.translateY,K=void 0!==a.translateY);!J&&c.mouseOver&&(d.mouseOver=a.mouseOver,
J=void 0!==a.mouseOver);!H&&c.mouseGlobalPosition&&(d.mouseGlobalPosition=a.mouseGlobalPosition,H=void 0!==a.mouseGlobalPosition);!M&&c.extent&&(d.extent=a.extent,M=void 0!==a.extent);!P&&c.scrollWheel&&(d.scrollWheel=a.scrollWheel,P=void 0!==a.scrollWheel);!Z&&c.disableBehaviors&&(d.disableBehaviors=a.disableBehaviors,Z=void 0!==a.disableBehaviors);!ea&&c.gcx&&(d.gcx=a.gcx,ea=void 0!==a.gcx);!Q&&c.gcy&&(d.gcy=a.gcy,Q=void 0!==a.gcy);L._set(d);Q=ea=Z=P=M=H=J=K=G=C=void 0},d(a){p.destroy(a);a&&E(d);
t&&t.d(a);a&&(E(e),E(k));b.refs.canvas===g&&(b.refs.canvas=null);b.refs.labelsCanvas===r&&(b.refs.labelsCanvas=null);q&&q.d();L.destroy();b.refs.d3Zoom===L&&(b.refs.d3Zoom=null);y.cancel();b.refs.root===k&&(b.refs.root=null)}}}function zf(b,a){var c={id:a.id,layer:a.layer,layout:a.layout,classFilter:a.classFilter,filter:a.filter};if(void 0!==a.config){c.config=a.config;var d=!0}if(void 0!==a.layers){c.layers=a.layers;var e=!0}if(void 0!==a.labels){c.labels=a.labels;var k=!0}if(void 0!==a.loading){c.loading=
a.loading;var g=!0}var f=new ld({root:b.root,store:b.store,data:c,_bind(a,c){var f={};!d&&a.config&&(f.config=c.config);!e&&a.layers&&(f.layers=c.layers);!k&&a.labels&&(f.labels=c.labels);!g&&a.loading&&(f.loading=c.loading);b._set(f);g=k=e=d=void 0}});b.root._beforecreate.push(()=>{f._bind({config:1,layers:1,labels:1,loading:1},f.get())});return{c(){f._fragment.c()},m(a,b){f._mount(a,b)},p(b,c){a=c;c={};b.id&&(c.id=a.id);b.layer&&(c.layer=a.layer);b.layout&&(c.layout=a.layout);b.classFilter&&(c.classFilter=
a.classFilter);b.filter&&(c.filter=a.filter);!d&&b.config&&(c.config=a.config,d=void 0!==a.config);!e&&b.layers&&(c.layers=a.layers,e=void 0!==a.layers);!k&&b.labels&&(c.labels=a.labels,k=void 0!==a.labels);!g&&b.loading&&(c.loading=a.loading,g=void 0!==a.loading);f._set(c);g=k=e=d=void 0},d(a){f.destroy(a)}}}function Af(b,a){var c;return{c(){c=m("div");p(c,"left",""+a.hoverIconX+"px");p(c,"top",""+a.hoverIconY+"px");p(c,"width",""+a.hoverIconW+"px");p(c,"height",""+a.hoverIconW+"px");c.className=
"svelte-w9b5xg svelte-ref-hover"},m(a,e){a.insertBefore(c,e);b.refs.hover=c},p(a,b){a.hoverIconX&&p(c,"left",""+b.hoverIconX+"px");a.hoverIconY&&p(c,"top",""+b.hoverIconY+"px");a.hoverIconW&&(p(c,"width",""+b.hoverIconW+"px"),p(c,"height",""+b.hoverIconW+"px"))},d(a){a&&E(c);b.refs.hover===c&&(b.refs.hover=null)}}}function Rb(b){z(this,b);this.refs={};this._state=q({ready:!0,id:"inceptionv1_mixed4c",config:null,layers:null,layer:0,layout:0,classFilter:0,filter:0,context:null,alphaAttributionFactor:.02,
density:1,classHeatmap:-1,classHeatmapMultiplier:1,classHeatmapPositive:1,iconCrop:.02,autoGridSizeMultiplier:.5,gridSize:null,homeX:.5,homeY:.5,homeScale:1,enableClickToZoom:!0,enableHover:!0,enableDragToPan:!0,backgroundColor:"white",strokeColor:"rgb(220, 220, 220)",strokeThickness:1,imageSmoothing:!1,fontSize:10,textColor:"white",textShadowColor:"rgba(0, 0, 0, 0.6)",showLabels:!0,screenResolution:1},b.data);this._recompute({layers:1,layer:1,viewWidth:1,screenResolution:1,viewHeight:1,scale:1,gridSize:1,
config:1,classHeatmap:1,w:1,h:1,autoGridSizeMultiplier:1,currentZoomIndex:1,labelsBufferContext:1,labels:1,fontSize:1,textColor:1,textShadowColor:1,currentLayerData:1,mouseGlobalPosition:1,translateX:1,translateY:1,hoverIconData:1,enableHover:1},this._state);this._intro=!0;this._handlers.update=[Qk];this._fragment=Rk(this,this._state);this.root._oncreate.push(()=>{Pk.call(this);this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,
b.anchor),D(this))}function Sk(b,a){var c,d,e=b._slotted.head,k,g,f=b._slotted.body;return{c(){c=m("div");d=m("div");k=n("\n  ");g=m("div");d.className="head svelte-l56anp";g.className="body svelte-l56anp";c.className="root svelte-l56anp"},m(a,b){a.insertBefore(c,b);c.appendChild(d);e&&d.appendChild(e);c.appendChild(k);c.appendChild(g);f&&g.appendChild(f)},p:T,d(a){a&&E(c);e&&oa(d,e);f&&oa(g,f)}}}function Fd(b){z(this,b);this._state=q({},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=
Sk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Tk({clientWidth:b,minWidth:a}){return b/Math.max(b,a)}function Uk({clientWidth:b,minWidth:a}){return Math.max(b,a)+"px"}function Vk({clientHeight:b,scale:a}){return b/a+"px"}function Wk(b,a){var c,d,e=b._slotted.default;return{c(){c=m("div");d=m("div");p(d,"transform","scale("+a.scale+")");p(d,"width",a.finalWidth);p(d,"height",""+a.finalHeight+a.style+"\n    ");d.className="svelte-fkjf8u svelte-ref-frame";
c.className="svelte-fkjf8u svelte-ref-root"},m(a,g){a.insertBefore(c,g);c.appendChild(d);e&&d.appendChild(e);b.refs.frame=d;b.refs.root=c},p(a,b){a.scale&&p(d,"transform","scale("+b.scale+")");a.finalWidth&&p(d,"width",b.finalWidth);(a.finalHeight||a.style)&&p(d,"height",""+b.finalHeight+b.style+"\n    ")},d(a){a&&E(c);e&&oa(d,e);b.refs.frame===d&&(b.refs.frame=null);b.refs.root===c&&(b.refs.root=null)}}}function Qc(b){z(this,b);this.refs={};this._state=q({style:"",aspectRatio:1,minWidth:800,clientWidth:1E3,
clientHeight:1E3},b.data);this._recompute({clientWidth:1,minWidth:1,width:1,clientHeight:1,scale:1},this._state);this._intro=!0;this._slotted=b.slots||{};this._fragment=Wk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Xk({gridSize:b}){return 20*(b+1)}function Yk({iconScaleFactor:b,realGridSize:a}){return 1E6/(a*a*b)}function Zk(b,a){function c(){b.set({showLabels:N.checked})}function d(){b.set({enableHover:U.checked})}function e(){b.store.set({scroll:ta.checked})}
function k(){b.set({gridSize:Ea.__value})}function g(){b.set({gridSize:Fa.__value})}function h(){b.set({gridSize:Ba.__value})}function l(){b.set({gridSize:qa.__value})}function v(){b.set({gridSize:Pa.__value})}function r(){b.set({gridSize:Ga.__value})}function A(){b.set({autoGridSizeMultiplier:Vc(ha.value)})}function u(){b.set({density:Vc(Ca.value)})}function S(){b.set({classHeatmapPositive:za.__value})}function w(){b.set({classHeatmapPositive:fb.__value})}function y(){b.set({classHeatmapMultiplier:Vc(mb.value)})}
function x(a){b.toggle()}var I,aa,t,q,C,G,E,J,H,M,P,Z,ea,Q,L,fa,da,pa,wf,z,B,xf,Qa,sb,D,F,N,O,Y,Da,U,T,ca,X,ta,xa,Xa,nb,ja,ba,Rc,ua,va,Ea,Bf,Cf,Yb,Fa,ma,wa,ka,Ba,Df,Ja,gb,qa,sa,Aa,Zb,Pa,Na,Ia,ra,Ga,ob,Ef,qb,oa,ya,na,Ff,ha,Oa,rb,$b,hb,la,ib,Ca,Gf,ia,Ka,Hf,Ha,za,Ua,If,ac,fb,kb,cb,Ta,Za,ab,ub,mb,wb,tb,Ra,xb,Sa,zb,$a=Sb(a.gcx),Wa,Bb,bb,Cb,Ya=Sb(a.gcy),vb,Hb,Ma,Ib,db=Sb(a.scale),yb,Jb,eb,Tb,lb=a.showOptions?"fewer options":"more options",Ab,Va,Lb={};if(void 0!==a.classHeatmap){Lb.classHeatmap=a.classHeatmap;
var La=!0}var Ub=new gd({root:b.root,store:b.store,data:Lb,_bind(a,c){var d={};!La&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);La=void 0}});b.root._beforecreate.push(()=>{Ub._bind({classHeatmap:1},Ub.get())});var Vb=new Fd({root:b.root,store:b.store,slots:{default:V(),body:V(),head:V()}}),Mb={classHeatmap:a.classHeatmap};if(void 0!==a.layerName){Mb.layerName=a.layerName;var bc=!0}var Wb=new Be({root:b.root,store:b.store,data:Mb,_bind(a,c){var d={};!bc&&a.layerName&&(d.layerName=c.layerName);
b._set(d);bc=void 0}});b.root._beforecreate.push(()=>{Wb._bind({layerName:1},Wb.get())});var Xb=new Fd({root:b.root,store:b.store,slots:{default:V(),body:V(),head:V()}}),jb={id:"inceptionv1_"+a.layerName,strokeColor:"#666",backgroundColor:"#dfdfdf",showHoverImage:!1,classHeatmap:a.classHeatmap,homeX:a.homeX,homeY:a.homeY,homeScale:a.homeScale};if(void 0!==a.density){jb.density=a.density;var cc=!0}if(void 0!==a.iconCrop){jb.iconCrop=a.iconCrop;var dc=!0}if(void 0!==a.classHeatmapMultiplier){jb.classHeatmapMultiplier=
a.classHeatmapMultiplier;var ec=!0}if(void 0!==a.classHeatmapPositive){jb.classHeatmapPositive=a.classHeatmapPositive;var fc=!0}if(void 0!==a.autoGridSizeMultiplier){jb.autoGridSizeMultiplier=a.autoGridSizeMultiplier;var gc=!0}if(void 0!==a.gridSize){jb.gridSize=a.gridSize;var hc=!0}if(void 0!==a.showLabels){jb.showLabels=a.showLabels;var ic=!0}if(void 0!==a.enableHover){jb.enableHover=a.enableHover;var jc=!0}if(void 0!==a.scale){jb.scale=a.scale;var kc=!0}if(void 0!==a.gcx){jb.gcx=a.gcx;var lc=!0}if(void 0!==
a.gcy){jb.gcy=a.gcy;var mc=!0}if(void 0!==a.extent){jb.extent=a.extent;var nc=!0}if(void 0!==a.$scroll){jb.scrollWheel=a.$scroll;var oc=!0}var Kb=new Rb({root:b.root,store:b.store,data:jb,_bind(a,c){var d={},e={};!cc&&a.density&&(d.density=c.density);!dc&&a.iconCrop&&(d.iconCrop=c.iconCrop);!ec&&a.classHeatmapMultiplier&&(d.classHeatmapMultiplier=c.classHeatmapMultiplier);!fc&&a.classHeatmapPositive&&(d.classHeatmapPositive=c.classHeatmapPositive);!gc&&a.autoGridSizeMultiplier&&(d.autoGridSizeMultiplier=
c.autoGridSizeMultiplier);!hc&&a.gridSize&&(d.gridSize=c.gridSize);!ic&&a.showLabels&&(d.showLabels=c.showLabels);!jc&&a.enableHover&&(d.enableHover=c.enableHover);!kc&&a.scale&&(d.scale=c.scale);!lc&&a.gcx&&(d.gcx=c.gcx);!mc&&a.gcy&&(d.gcy=c.gcy);!nc&&a.extent&&(d.extent=c.extent);!oc&&a.scrollWheel&&(e.scroll=c.scrollWheel);b.store.set(e);b._set(d);oc=nc=mc=lc=kc=jc=ic=hc=gc=fc=ec=dc=cc=void 0}});b.root._beforecreate.push(()=>{Kb._bind({density:1,iconCrop:1,classHeatmapMultiplier:1,classHeatmapPositive:1,
autoGridSizeMultiplier:1,gridSize:1,showLabels:1,enableHover:1,scale:1,gcx:1,gcy:1,extent:1,scrollWheel:1},Kb.get())});b.refs.atlas=Kb;var Nb={id:"inceptionv1_"+a.layerName,layerName:a.layerName,enableDragging:!0,classHeatmap:a.classHeatmap,scaleCountFactor:a.scaleCountFactor};if(void 0!==a.extent){Nb.extent=a.extent;var pc=!0}var Pb=new pe({root:b.root,store:b.store,data:Nb,_bind(a,c){var d={};!pc&&a.extent&&(d.extent=c.extent);b._set(d);pc=void 0}});b.root._beforecreate.push(()=>{Pb._bind({extent:1},
Pb.get())});Pb.on("drag",function(a){b.refs.atlas.translateTo(a.gcx,a.gcy)});var Db=new Fb({root:b.root,store:b.store,data:{name:"home",color:"white"}}),qc=new Ob({root:b.root,store:b.store,slots:{default:V()}});qc.on("click",function(a){b.refs.atlas.home(3E3)});var Eb=new Fb({root:b.root,store:b.store,data:{name:"add",color:"white"}}),rc=new Ob({root:b.root,store:b.store,slots:{default:V()}});rc.on("click",function(a){b.refs.atlas.scaleBy(2)});var Gb=new Fb({root:b.root,store:b.store,data:{name:"remove",
color:"white"}}),sc=new Ob({root:b.root,store:b.store,slots:{default:V()}});sc.on("click",function(a){b.refs.atlas.scaleBy(.5)});var Qb={clientWidth:a.clientWidth,clientHeight:a.clientHeight,minWidth:768},tc=new Qc({root:b.root,store:b.store,slots:{default:V()},data:Qb});return{c(){I=m("div");aa=m("div");t=m("h2");t.textContent="Class Filter";q=n("\n        ");C=m("div");Ub._fragment.c();Vb._fragment.c();G=n("\n    ");E=m("div");J=m("h2");J.textContent="Layer";H=n("\n        ");M=m("div");Wb._fragment.c();
Xb._fragment.c();P=n("\n  ");Z=m("div");ea=m("div");Kb._fragment.c();Q=n("\n        ");L=m("div");fa=m("div");da=m("div");pa=m("div");Pb._fragment.c();wf=n("\n            ");z=m("div");Db._fragment.c();qc._fragment.c();B=n("\n              ");Eb._fragment.c();rc._fragment.c();xf=n("\n              ");Gb._fragment.c();sc._fragment.c();Qa=n("\n          ");sb=m("div");D=m("div");F=m("label");N=m("input");O=n(" attribution labels");Y=n("\n              ");Da=m("label");U=m("input");T=n(" show tooltip");
ca=n("\n              ");X=m("label");ta=m("input");xa=n(" scroll to zoom");Xa=n("\n            ");nb=m("div");ja=m("div");ba=m("div");Rc=m("h3");Rc.textContent="Grid size";ua=n("\n                  ");va=m("label");Ea=m("input");Bf=n(" 20x20");Cf=n("\n                  ");Yb=m("label");Fa=m("input");ma=n(" 40x40");wa=n("\n                  ");ka=m("label");Ba=m("input");Df=n(" 80x80");Ja=n("\n                  ");gb=m("label");qa=m("input");sa=n(" 160x160");Aa=n("\n                  ");Zb=m("label");
Pa=m("input");Na=n(" 320x320");Ia=n("\n                  ");ra=m("label");Ga=m("input");ob=n(" auto");Ef=n("\n                  ");qb=m("div");oa=m("div");ya=n("auto threshold: ");na=m("noscript");Ff=n("\n                    ");ha=m("input");Oa=n("\n                ");rb=m("div");$b=m("h3");hb=n("Icon density: ");la=m("noscript");ib=n("\n                  ");Ca=m("input");Gf=n("\n                ");ia=m("div");Ka=m("h3");Ka.textContent="Class filter";Hf=n("\n                  ");Ha=m("label");za=
m("input");Ua=n(" positive influence");If=n("\n                  ");ac=m("label");fb=m("input");kb=n(" negative influence");cb=n("\n                  ");Ta=m("div");Za=n("Intensity: ");ab=m("noscript");ub=n("\n                  ");mb=m("input");wb=n("\n                ");tb=m("div");Ra=m("h3");Ra.textContent="Location";xb=n("\n                  ");Sa=m("div");zb=n("x: ");Wa=n($a);Bb=n("\n                  ");bb=m("div");Cb=n("y: ");vb=n(Ya);Hb=n("\n                  ");Ma=m("div");Ib=n("scale: ");
yb=n(db);Jb=n("\n          ");eb=m("div");Tb=m("button");Ab=n(lb);tc._fragment.c();f(t,"slot","head");f(C,"slot","body");aa.className="filter svelte-1mmgffy";p(aa,"display",a.showClassFilter?"block":"none");f(J,"slot","head");f(M,"slot","body");E.className="stack svelte-1mmgffy";p(E,"display",a.showLayerChooser?"block":"none");pa.className="map-container svelte-1mmgffy";p(pa,"width","100px");p(pa,"height","100px");p(pa,"position","absolute");da.className="map svelte-1mmgffy";z.className="buttons svelte-1mmgffy";
fa.className="nav svelte-1mmgffy";N.addEventListener("change",c,void 0);f(N,"type","checkbox");p(F,"white-space","nowrap");p(F,"text-overflow","ellipsis");p(F,"overflow","hidden");F.className="svelte-1mmgffy";U.addEventListener("change",d,void 0);f(U,"type","checkbox");Da.className="svelte-1mmgffy";ta.addEventListener("change",e,void 0);f(ta,"type","checkbox");X.className="svelte-1mmgffy";D.className="essential";Rc.className="svelte-1mmgffy";b._bindingGroups[0].push(Ea);Ea.addEventListener("change",
k,void 0);f(Ea,"type","radio");Ea.__value=0;Ea.value=Ea.__value;va.className="svelte-1mmgffy";b._bindingGroups[0].push(Fa);Fa.addEventListener("change",g,void 0);f(Fa,"type","radio");Fa.__value=1;Fa.value=Fa.__value;Yb.className="svelte-1mmgffy";b._bindingGroups[0].push(Ba);Ba.addEventListener("change",h,void 0);f(Ba,"type","radio");Ba.__value=2;Ba.value=Ba.__value;ka.className="svelte-1mmgffy";b._bindingGroups[0].push(qa);qa.addEventListener("change",l,void 0);f(qa,"type","radio");qa.__value=3;qa.value=
qa.__value;gb.className="svelte-1mmgffy";b._bindingGroups[0].push(Pa);Pa.addEventListener("change",v,void 0);f(Pa,"type","radio");Pa.__value=4;Pa.value=Pa.__value;Zb.className="svelte-1mmgffy";b._bindingGroups[0].push(Ga);Ga.addEventListener("change",r,void 0);f(Ga,"type","radio");Ga.__value=-1;Ga.value=Ga.__value;ra.className="svelte-1mmgffy";ha.addEventListener("change",A,void 0);ha.addEventListener("input",A,void 0);f(ha,"type","range");ha.min=.5;ha.max=1.4;ha.step=.01;p(qb,"display","none");ba.className=
"section svelte-1mmgffy";$b.className="svelte-1mmgffy";Ca.addEventListener("change",u,void 0);Ca.addEventListener("input",u,void 0);f(Ca,"type","range");Ca.min=.2;Ca.max=8;Ca.step=.01;rb.className="section svelte-1mmgffy";Ka.className="svelte-1mmgffy";b._bindingGroups[1].push(za);za.addEventListener("change",S,void 0);f(za,"type","radio");za.__value=1;za.value=za.__value;Ha.className="svelte-1mmgffy";b._bindingGroups[1].push(fb);fb.addEventListener("change",w,void 0);f(fb,"type","radio");fb.__value=
-1;fb.value=fb.__value;ac.className="svelte-1mmgffy";mb.addEventListener("change",y,void 0);mb.addEventListener("input",y,void 0);f(mb,"type","range");mb.min="0.5";mb.max="2";mb.step="0.1";ia.className="section svelte-1mmgffy";p(ia,"display",-1<a.classHeatmap?"block":"none");Ra.className="svelte-1mmgffy";tb.className="section svelte-1mmgffy";ja.className="grid-size";nb.className="expand svelte-1mmgffy";sb.className="options svelte-1mmgffy";Tb.addEventListener("click",x,void 0);Tb.className="svelte-1mmgffy";
eb.className="expand-toggle svelte-1mmgffy";L.className=Va="controls "+(a.showOptions?"open":"closed")+" svelte-1mmgffy svelte-ref-controls";ea.className="atlas svelte-1mmgffy";Z.className="main svelte-1mmgffy";I.className="container svelte-1mmgffy"},m(c,d){tc._slotted.default.appendChild(I);I.appendChild(aa);Vb._slotted.head.appendChild(t);Vb._slotted.default.appendChild(q);Vb._slotted.body.appendChild(C);Ub._mount(C,null);Vb._mount(aa,null);I.appendChild(G);I.appendChild(E);Xb._slotted.head.appendChild(J);
Xb._slotted.default.appendChild(H);Xb._slotted.body.appendChild(M);Wb._mount(M,null);Xb._mount(E,null);I.appendChild(P);I.appendChild(Z);Z.appendChild(ea);Kb._mount(ea,null);ea.appendChild(Q);ea.appendChild(L);L.appendChild(fa);fa.appendChild(da);da.appendChild(pa);Pb._mount(pa,null);fa.appendChild(wf);fa.appendChild(z);Db._mount(qc._slotted.default,null);qc._mount(z,null);z.appendChild(B);Eb._mount(rc._slotted.default,null);rc._mount(z,null);z.appendChild(xf);Gb._mount(sc._slotted.default,null);
sc._mount(z,null);L.appendChild(Qa);L.appendChild(sb);sb.appendChild(D);D.appendChild(F);F.appendChild(N);N.checked=a.showLabels;F.appendChild(O);D.appendChild(Y);D.appendChild(Da);Da.appendChild(U);U.checked=a.enableHover;Da.appendChild(T);D.appendChild(ca);D.appendChild(X);X.appendChild(ta);ta.checked=a.$scroll;X.appendChild(xa);sb.appendChild(Xa);sb.appendChild(nb);nb.appendChild(ja);ja.appendChild(ba);ba.appendChild(Rc);ba.appendChild(ua);ba.appendChild(va);va.appendChild(Ea);Ea.checked=Ea.__value===
a.gridSize;va.appendChild(Bf);ba.appendChild(Cf);ba.appendChild(Yb);Yb.appendChild(Fa);Fa.checked=Fa.__value===a.gridSize;Yb.appendChild(ma);ba.appendChild(wa);ba.appendChild(ka);ka.appendChild(Ba);Ba.checked=Ba.__value===a.gridSize;ka.appendChild(Df);ba.appendChild(Ja);ba.appendChild(gb);gb.appendChild(qa);qa.checked=qa.__value===a.gridSize;gb.appendChild(sa);ba.appendChild(Aa);ba.appendChild(Zb);Zb.appendChild(Pa);Pa.checked=Pa.__value===a.gridSize;Zb.appendChild(Na);ba.appendChild(Ia);ba.appendChild(ra);
ra.appendChild(Ga);Ga.checked=Ga.__value===a.gridSize;ra.appendChild(ob);ba.appendChild(Ef);ba.appendChild(qb);qb.appendChild(oa);oa.appendChild(ya);oa.appendChild(na);na.insertAdjacentHTML("afterend",a.autoGridSizeMultiplier);qb.appendChild(Ff);qb.appendChild(ha);ha.value=a.autoGridSizeMultiplier;ja.appendChild(Oa);ja.appendChild(rb);rb.appendChild($b);$b.appendChild(hb);$b.appendChild(la);la.insertAdjacentHTML("afterend",a.density);rb.appendChild(ib);rb.appendChild(Ca);Ca.value=a.density;ja.appendChild(Gf);
ja.appendChild(ia);ia.appendChild(Ka);ia.appendChild(Hf);ia.appendChild(Ha);Ha.appendChild(za);za.checked=za.__value===a.classHeatmapPositive;Ha.appendChild(Ua);ia.appendChild(If);ia.appendChild(ac);ac.appendChild(fb);fb.checked=fb.__value===a.classHeatmapPositive;ac.appendChild(kb);ia.appendChild(cb);ia.appendChild(Ta);Ta.appendChild(Za);Ta.appendChild(ab);ab.insertAdjacentHTML("afterend",a.classHeatmapMultiplier);ia.appendChild(ub);ia.appendChild(mb);mb.value=a.classHeatmapMultiplier;ja.appendChild(wb);
ja.appendChild(tb);tb.appendChild(Ra);tb.appendChild(xb);tb.appendChild(Sa);Sa.appendChild(zb);Sa.appendChild(Wa);tb.appendChild(Bb);tb.appendChild(bb);bb.appendChild(Cb);bb.appendChild(vb);tb.appendChild(Hb);tb.appendChild(Ma);Ma.appendChild(Ib);Ma.appendChild(yb);b.refs.expand=nb;L.appendChild(Jb);L.appendChild(eb);eb.appendChild(Tb);Tb.appendChild(Ab);b.refs.controls=L;tc._mount(c,d)},p(b,c){a=c;c={};!La&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,La=void 0!==a.classHeatmap);Ub._set(c);La=
void 0;b.showClassFilter&&p(aa,"display",a.showClassFilter?"block":"none");c={};b.classHeatmap&&(c.classHeatmap=a.classHeatmap);!bc&&b.layerName&&(c.layerName=a.layerName,bc=void 0!==a.layerName);Wb._set(c);bc=void 0;b.showLayerChooser&&p(E,"display",a.showLayerChooser?"block":"none");c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);b.classHeatmap&&(c.classHeatmap=a.classHeatmap);b.homeX&&(c.homeX=a.homeX);b.homeY&&(c.homeY=a.homeY);b.homeScale&&(c.homeScale=a.homeScale);!cc&&b.density&&(c.density=
a.density,cc=void 0!==a.density);!dc&&b.iconCrop&&(c.iconCrop=a.iconCrop,dc=void 0!==a.iconCrop);!ec&&b.classHeatmapMultiplier&&(c.classHeatmapMultiplier=a.classHeatmapMultiplier,ec=void 0!==a.classHeatmapMultiplier);!fc&&b.classHeatmapPositive&&(c.classHeatmapPositive=a.classHeatmapPositive,fc=void 0!==a.classHeatmapPositive);!gc&&b.autoGridSizeMultiplier&&(c.autoGridSizeMultiplier=a.autoGridSizeMultiplier,gc=void 0!==a.autoGridSizeMultiplier);!hc&&b.gridSize&&(c.gridSize=a.gridSize,hc=void 0!==
a.gridSize);!ic&&b.showLabels&&(c.showLabels=a.showLabels,ic=void 0!==a.showLabels);!jc&&b.enableHover&&(c.enableHover=a.enableHover,jc=void 0!==a.enableHover);!kc&&b.scale&&(c.scale=a.scale,kc=void 0!==a.scale);!lc&&b.gcx&&(c.gcx=a.gcx,lc=void 0!==a.gcx);!mc&&b.gcy&&(c.gcy=a.gcy,mc=void 0!==a.gcy);!nc&&b.extent&&(c.extent=a.extent,nc=void 0!==a.extent);!oc&&b.$scroll&&(c.scrollWheel=a.$scroll,oc=void 0!==a.$scroll);Kb._set(c);oc=nc=mc=lc=kc=jc=ic=hc=gc=fc=ec=dc=cc=void 0;c={};b.layerName&&(c.id=
"inceptionv1_"+a.layerName);b.layerName&&(c.layerName=a.layerName);b.classHeatmap&&(c.classHeatmap=a.classHeatmap);b.scaleCountFactor&&(c.scaleCountFactor=a.scaleCountFactor);!pc&&b.extent&&(c.extent=a.extent,pc=void 0!==a.extent);Pb._set(c);pc=void 0;b.showLabels&&(N.checked=a.showLabels);b.enableHover&&(U.checked=a.enableHover);b.$scroll&&(ta.checked=a.$scroll);b.gridSize&&(Ea.checked=Ea.__value===a.gridSize);b.gridSize&&(Fa.checked=Fa.__value===a.gridSize);b.gridSize&&(Ba.checked=Ba.__value===
a.gridSize);b.gridSize&&(qa.checked=qa.__value===a.gridSize);b.gridSize&&(Pa.checked=Pa.__value===a.gridSize);b.gridSize&&(Ga.checked=Ga.__value===a.gridSize);b.autoGridSizeMultiplier&&(Uc(na),na.insertAdjacentHTML("afterend",a.autoGridSizeMultiplier));b.autoGridSizeMultiplier&&(ha.value=a.autoGridSizeMultiplier);b.gridSize&&p(qb,"display","none");b.density&&(Uc(la),la.insertAdjacentHTML("afterend",a.density));b.density&&(Ca.value=a.density);b.classHeatmapPositive&&(za.checked=za.__value===a.classHeatmapPositive);
b.classHeatmapPositive&&(fb.checked=fb.__value===a.classHeatmapPositive);b.classHeatmapMultiplier&&(Uc(ab),ab.insertAdjacentHTML("afterend",a.classHeatmapMultiplier));b.classHeatmapMultiplier&&(mb.value=a.classHeatmapMultiplier);b.classHeatmap&&p(ia,"display",-1<a.classHeatmap?"block":"none");b.gcx&&$a!==($a=Sb(a.gcx))&&R(Wa,$a);b.gcy&&Ya!==(Ya=Sb(a.gcy))&&R(vb,Ya);b.scale&&db!==(db=Sb(a.scale))&&R(yb,db);b.showOptions&&lb!==(lb=a.showOptions?"fewer options":"more options")&&R(Ab,lb);b.showOptions&&
Va!==(Va="controls "+(a.showOptions?"open":"closed")+" svelte-1mmgffy svelte-ref-controls")&&(L.className=Va);c={};b.clientWidth&&(c.clientWidth=a.clientWidth);b.clientHeight&&(c.clientHeight=a.clientHeight);tc._set(c)},d(a){Ub.destroy();Vb.destroy();Wb.destroy();Xb.destroy();Kb.destroy();b.refs.atlas===Kb&&(b.refs.atlas=null);Pb.destroy();Db.destroy();qc.destroy();Eb.destroy();rc.destroy();Gb.destroy();sc.destroy();N.removeEventListener("change",c,void 0);U.removeEventListener("change",d,void 0);
ta.removeEventListener("change",e,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ea),1);Ea.removeEventListener("change",k,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Fa),1);Fa.removeEventListener("change",g,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ba),1);Ba.removeEventListener("change",h,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(qa),1);qa.removeEventListener("change",l,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Pa),
1);Pa.removeEventListener("change",v,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ga),1);Ga.removeEventListener("change",r,void 0);ha.removeEventListener("change",A,void 0);ha.removeEventListener("input",A,void 0);Ca.removeEventListener("change",u,void 0);Ca.removeEventListener("input",u,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(za),1);za.removeEventListener("change",S,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(fb),1);fb.removeEventListener("change",
w,void 0);mb.removeEventListener("change",y,void 0);mb.removeEventListener("input",y,void 0);b.refs.expand===nb&&(b.refs.expand=null);Tb.removeEventListener("click",x,void 0);b.refs.controls===L&&(b.refs.controls=null);tc.destroy(a)}}}function $a(b){z(this,b);this.refs={};this._state=q(q(this.store._init(["scroll"]),{layerName:"mixed4c",gridSize:1,classHeatmap:-1,iconScaleFactor:.8,iconCrop:.35,showClassFilter:!0,showLayerChooser:!0,showOptions:!0,homeX:.5,homeY:.5,homeScale:1}),b.data);this.store._add(this,
["scroll"]);this._recompute({gridSize:1,iconScaleFactor:1,realGridSize:1},this._state);this._bindingGroups=[[],[]];this._intro=!0;this._handlers.destroy=[ka];this._fragment=Zk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function $k(b,a){var c,d,e,k,g,f,l,v,r,A,u,S,w,y,x,I,p,t,q,C,G,K,J,H,M,P,Z,ea,Q,L,fa,da,pa,z,B,D,F=new N({root:b.root,store:b.store,data:{src:"assets/images/overview-neuron.jpg",border:!1}}),Qa=new N({root:b.root,store:b.store,data:{src:"assets/images/manifold-1.jpg",
alt:"diagram",border:!1}}),sb=new N({root:b.root,store:b.store,data:{src:"assets/images/overview-pairwise.jpg",border:!1}}),O=new N({root:b.root,store:b.store,data:{src:"assets/images/manifold-2.jpg",alt:"diagram",border:!1}}),U=new N({root:b.root,store:b.store,data:{src:"assets/images/activation-grid.png",border:!1}}),Y=new N({root:b.root,store:b.store,data:{src:"assets/images/manifold-3.jpg",alt:"diagram",border:!1}}),R=new N({root:b.root,store:b.store,data:{src:"assets/images/overview-atlas.jpg",
border:!1}}),V=new N({root:b.root,store:b.store,data:{src:"assets/images/manifold-4.jpg",alt:"diagram",border:!1}});return{c(){c=m("div");d=m("div");e=m("h4");e.textContent="Individual Neurons";k=n("\n    ");g=m("div");F._fragment.c();f=n("\n    ");l=m("div");Qa._fragment.c();v=n("\n    ");r=m("div");r.innerHTML='<a href="https://distill.pub/2017/feature-visualization/#optimization">Visualizing individual neurons</a> make hidden layers somewhat meaningful, but misses interactions between neurons \u2014 it only shows us one-dimensional, orthogonal probes of the high-dimensional activation space.';
A=n("\n  ");u=m("div");S=m("h4");S.textContent="Pairwise Interactions";w=n("\n    ");y=m("div");sb._fragment.c();x=n("\n    ");I=m("div");O._fragment.c();p=n("\n    ");t=m("div");t.innerHTML='<a href="https://distill.pub/2017/feature-visualization/#interaction">Pairwise interactions</a> reveal interaction effects, but they only show two-dimensional slices of a space that has hundreds of dimensions, and many of the combinations are not realistic.';q=n("\n  ");C=m("div");G=m("h4");G.textContent="Spatial Activations";
K=n("\n    ");J=m("div");U._fragment.c();H=n("\n    ");M=m("div");Y._fragment.c();P=n("\n    ");Z=m("div");Z.innerHTML='<a href="https://distill.pub/2018/building-blocks/#what-does-the-network-see">Spatial activations</a> show us important combinations of many neurons by sampling the sub-manifold of likely activations, but they are limited to those that occur in the given example image.';ea=n("\n  ");Q=m("div");L=m("h4");L.textContent="Activation Atlas";fa=n("\n    ");da=m("div");R._fragment.c();
pa=n("\n    ");z=m("div");V._fragment.c();B=n("\n    ");D=m("div");D.textContent="Activation atlases give us a bigger picture overview by sampling more of the manifold of likely activations.";e.className="svelte-vcfnc8";g.className="image";l.className="diagram svelte-vcfnc8";r.className="figcaption svelte-vcfnc8";d.className="section svelte-vcfnc8";S.className="svelte-vcfnc8";y.className="image";I.className="diagram svelte-vcfnc8";t.className="figcaption svelte-vcfnc8";u.className="section svelte-vcfnc8";
G.className="svelte-vcfnc8";J.className="image";M.className="diagram svelte-vcfnc8";Z.className="figcaption svelte-vcfnc8";C.className="section svelte-vcfnc8";L.className="svelte-vcfnc8";da.className="image";z.className="diagram svelte-vcfnc8";D.className="figcaption svelte-vcfnc8";Q.className="section svelte-vcfnc8";c.className="svelte-vcfnc8 svelte-ref-root"},m(a,h){a.insertBefore(c,h);c.appendChild(d);d.appendChild(e);d.appendChild(k);d.appendChild(g);F._mount(g,null);d.appendChild(f);d.appendChild(l);
Qa._mount(l,null);d.appendChild(v);d.appendChild(r);c.appendChild(A);c.appendChild(u);u.appendChild(S);u.appendChild(w);u.appendChild(y);sb._mount(y,null);u.appendChild(x);u.appendChild(I);O._mount(I,null);u.appendChild(p);u.appendChild(t);c.appendChild(q);c.appendChild(C);C.appendChild(G);C.appendChild(K);C.appendChild(J);U._mount(J,null);C.appendChild(H);C.appendChild(M);Y._mount(M,null);C.appendChild(P);C.appendChild(Z);c.appendChild(ea);c.appendChild(Q);Q.appendChild(L);Q.appendChild(fa);Q.appendChild(da);
R._mount(da,null);Q.appendChild(pa);Q.appendChild(z);V._mount(z,null);Q.appendChild(B);Q.appendChild(D);b.refs.root=c},p:T,d(a){a&&E(c);F.destroy();Qa.destroy();sb.destroy();O.destroy();U.destroy();Y.destroy();R.destroy();V.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Jf(b){z(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=$k(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function al(b,a){var c,d=new N({root:b.root,store:b.store,
data:{src:"assets/images/model.svg",alt:"model",aspectRatio:1072/178.3,border:!1,background:!1}});return{c(){c=m("div");d._fragment.c();c.className="svelte-rd22a7 svelte-ref-root"},m(a,k){a.insertBefore(c,k);d._mount(c,null);b.refs.root=c},p:T,d(a){a&&E(c);d.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Kf(b){z(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=al(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function bl(b,
a){var c,d,e,k,g,f,l,v,r=new N({root:b.root,store:b.store,data:{src:"assets/images/dogcat.jpg",alt:"input image"}}),A=new N({root:b.root,store:b.store,data:{src:"assets/images/dogcat-grid.jpg",alt:"activation grid"}});return{c(){c=m("div");d=m("div");r._fragment.c();e=n("\n    ");k=m("div");k.textContent="Input image from ImageNet.";g=n("\n  ");f=m("div");A._fragment.c();l=n("\n    ");v=m("div");v.textContent="Activation grid from InceptionV1, layer mixed4d.";k.className="figcaption svelte-scrtb8";
v.className="figcaption svelte-scrtb8";c.className="root svelte-scrtb8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);r._mount(d,null);d.appendChild(e);d.appendChild(k);c.appendChild(g);c.appendChild(f);A._mount(f,null);f.appendChild(l);f.appendChild(v)},p:T,d(a){a&&E(c);r.destroy();A.destroy()}}}function Lf(b){z(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=bl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function cl({w:b,gridSize:a}){return b/
a}function dl({filterType:b}){return`https://storage.googleapis.com/activation-atlas/build/class_filter_inceptionv1_${b}/`}function el({gridSize:b}){return U(1,b)}function fl({root:b,classFilter:a,gridSize:c,filterType:d}){return`${b}web/web--grid_size=${c}--layout=20_0.02_cosine--class_filter=${a}_${d}--filter=None--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.json`}function gl({root:b,classFilter:a,gridSize:c,filterType:d}){return`${b}render/render--x=0--y=0--tries=3--alpha=False--tile_size=8--whiten=true--steps=1056--icon_size=80--grid_size=${c}--layout=20_0.02_cosine--class_filter=${a}_${d}--filter=None--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg`}
function hl({changed:b,current:a}){a.showAttribution&&b.config&&(this.set({configData:[]}),id(a.config).then((a)=>{this.set({configData:a})}))}function Mf(b,a,c){b=Object.create(b);b.cell=a[c];return b}function Nf(b,a,c){b=Object.create(b);b.i=a[c];return b}function Of(b,a,c){b=Object.create(b);b.i=a[c];return b}function il(b,a){for(var c,d,e,k,g,h=new N({root:b.root,store:b.store,data:{src:a.src,alt:"class activation atlas"}}),l=a.ticks,v=[],r=0;r<l.length;r+=1)v[r]=Pf(b,Of(a,l,r));var A=a.ticks,
u=[];for(r=0;r<A.length;r+=1)u[r]=Qf(b,Nf(a,A,r));var S=a.configData,w=[];for(r=0;r<S.length;r+=1)w[r]=Rf(b,Mf(a,S,r));return{c(){c=m("div");h._fragment.c();d=n("\n\n  ");e=t("svg");for(var a=0;a<v.length;a+=1)v[a].c();k=xa();for(a=0;a<u.length;a+=1)u[a].c();g=n("\n\n  ");for(a=0;a<w.length;a+=1)w[a].c();f(e,"viewBox","0 0 500 500");f(e,"class","svelte-6z3qi2");c.className="svelte-6z3qi2 svelte-ref-root"},m(a,f){a.insertBefore(c,f);h._mount(c,null);c.appendChild(d);c.appendChild(e);for(a=0;a<v.length;a+=
1)v[a].m(e,null);e.appendChild(k);for(a=0;a<u.length;a+=1)u[a].m(e,null);c.appendChild(g);for(a=0;a<w.length;a+=1)w[a].m(c,null);b.refs.root=c},p(a,d){var g={};a.src&&(g.src=d.src);h._set(g);if(a.ticks||a.gridSize){l=d.ticks;for(g=0;g<l.length;g+=1){var f=Of(d,l,g);v[g]?v[g].p(a,f):(v[g]=Pf(b,f),v[g].c(),v[g].m(e,k))}for(;g<v.length;g+=1)v[g].d(1);v.length=l.length}if(a.ticks||a.gridSize){A=d.ticks;for(g=0;g<A.length;g+=1)f=Nf(d,A,g),u[g]?u[g].p(a,f):(u[g]=Qf(b,f),u[g].c(),u[g].m(e,null));for(;g<
u.length;g+=1)u[g].d(1);u.length=A.length}if(a.gridSize||a.configData||a.$inceptionLabels){S=d.configData;for(g=0;g<S.length;g+=1)f=Mf(d,S,g),w[g]?w[g].p(a,f):(w[g]=Rf(b,f),w[g].c(),w[g].m(c,null));for(;g<w.length;g+=1)w[g].d(1);w.length=S.length}},d(a){a&&E(c);h.destroy();Y(v,a);Y(u,a);Y(w,a);b.refs.root===c&&(b.refs.root=null)}}}function Pf(b,a){var c,d,e;return{c(){c=t("line");f(c,"x2",500);f(c,"y1",d=500*a.i/a.gridSize);f(c,"y2",e=500*a.i/a.gridSize);f(c,"stroke","black");f(c,"stroke-opacity",
"0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&d!==(d=500*b.i/b.gridSize)&&f(c,"y1",d);(a.ticks||a.gridSize)&&e!==(e=500*b.i/b.gridSize)&&f(c,"y2",e)},d(a){a&&E(c)}}}function Qf(b,a){var c,d,e;return{c(){c=t("line");f(c,"y2",500);f(c,"x1",d=500*a.i/a.gridSize);f(c,"x2",e=500*a.i/a.gridSize);f(c,"stroke","black");f(c,"stroke-opacity","0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&d!==(d=500*b.i/b.gridSize)&&
f(c,"x1",d);(a.ticks||a.gridSize)&&e!==(e=500*b.i/b.gridSize)&&f(c,"x2",e)},d(a){a&&E(c)}}}function Rf(b,a){var c,d,e=a.$inceptionLabels[a.cell.i[0]],f,g,h;return{c(){c=m("div");d=m("div");f=n(e);h=n("\n    ");d.title=g=a.$inceptionLabels[a.cell.i[0]];d.className="svelte-6z3qi2";c.className="label svelte-6z3qi2";p(c,"position","absolute");p(c,"height",""+100/a.gridSize+"%");p(c,"width",""+100/a.gridSize+"%");p(c,"left",""+a.cell.y/a.gridSize*100+"%");p(c,"top",""+a.cell.x/a.gridSize*100+"%")},m(a,
b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);c.appendChild(h)},p(a,b){(a.$inceptionLabels||a.configData)&&e!==(e=b.$inceptionLabels[b.cell.i[0]])&&R(f,e);(a.$inceptionLabels||a.configData)&&g!==(g=b.$inceptionLabels[b.cell.i[0]])&&(d.title=g);a.gridSize&&(p(c,"height",""+100/b.gridSize+"%"),p(c,"width",""+100/b.gridSize+"%"));if(a.configData||a.gridSize)p(c,"left",""+b.cell.y/b.gridSize*100+"%"),p(c,"top",""+b.cell.x/b.gridSize*100+"%")},d(a){a&&E(c)}}}function ab(b){z(this,b);this.refs=
{};this._state=q(q(this.store._init(["inceptionLabels"]),{w:500,filterType:"winner",classFilter:62,gridSize:8,configData:[],showAttribution:!1}),b.data);this.store._add(this,["inceptionLabels"]);this._recompute({w:1,gridSize:1,filterType:1,root:1,classFilter:1},this._state);this._intro=!0;this._handlers.update=[hl];this._handlers.destroy=[ka];this._fragment=il(this,this._state);this.root._oncreate.push(()=>{this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),D(this))}function Sf(b,a,c){b=Object.create(b);b.c=a[c];return b}function jl(b,a){for(var c,d,e=a.$inceptionLabels[a.$currentClassAtlasIndex],f,g,h,l,v,r,A,u,S,w,y=new ab({root:b.root,store:b.store,data:{classFilter:a.$currentClassAtlasIndex}}),x=a.$classAtlasIndices,I=[],t=0;t<x.length;t+=1)I[t]=Tf(b,Sf(a,x,t));var q=new $c({root:b.root,store:b.store,data:{url:""}});return{c(){c=m("h4");d=n("Class Activation Atlas for \u201c");f=n(e);g=n("\u201d from mixed5b");h=n("\n");
l=m("div");v=m("div");y._fragment.c();r=n("\n  ");A=m("div");u=m("div");for(var a=0;a<I.length;a+=1)I[a].c();S=n("\n");w=m("div");q._fragment.c();c.className="svelte-kl8ujq";p(v,"position","relative");u.className="chooser svelte-kl8ujq";A.className="chooser-container svelte-kl8ujq";l.className="svelte-kl8ujq svelte-ref-root";p(w,"margin-top","16px")},m(a,e){a.insertBefore(c,e);c.appendChild(d);c.appendChild(f);c.appendChild(g);a.insertBefore(h,e);a.insertBefore(l,e);l.appendChild(v);y._mount(v,null);
l.appendChild(r);l.appendChild(A);A.appendChild(u);for(var k=0;k<I.length;k+=1)I[k].m(u,null);b.refs.root=l;a.insertBefore(S,e);a.insertBefore(w,e);q._mount(w,null)},p(a,c){(a.$inceptionLabels||a.$currentClassAtlasIndex)&&e!==(e=c.$inceptionLabels[c.$currentClassAtlasIndex])&&R(f,e);var d={};a.$currentClassAtlasIndex&&(d.classFilter=c.$currentClassAtlasIndex);y._set(d);if(a.$currentClassAtlasIndex||a.$classAtlasIndices||a.$inceptionLabels){x=c.$classAtlasIndices;for(d=0;d<x.length;d+=1){let e=Sf(c,
x,d);I[d]?I[d].p(a,e):(I[d]=Tf(b,e),I[d].c(),I[d].m(u,null))}for(;d<I.length;d+=1)I[d].d(1);I.length=x.length}},d(a){a&&(E(c),E(h),E(l));y.destroy();Y(I,a);b.refs.root===l&&(b.refs.root=null);a&&(E(S),E(w));q.destroy()}}}function Tf(b,a){function c(){b.store.set({currentClassAtlasIndex:e.__value})}var d,e,k,g,h=a.$inceptionLabels[a.c],l,v,r;return{c(){d=m("label");e=m("input");g=n("\n          ");l=n(h);b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=
k=a.c;e.value=e.__value;e.className="svelte-kl8ujq";d.className=v=(a.$currentClassAtlasIndex===a.c?"selected":"")+" svelte-kl8ujq";d.title=r=a.c},m(b,c){b.insertBefore(d,c);d.appendChild(e);e.checked=e.__value===a.$currentClassAtlasIndex;d.appendChild(g);d.appendChild(l)},p(a,b){a.$currentClassAtlasIndex&&(e.checked=e.__value===b.$currentClassAtlasIndex);a.$classAtlasIndices&&k!==(k=b.c)&&(e.__value=k);e.value=e.__value;(a.$inceptionLabels||a.$classAtlasIndices)&&h!==(h=b.$inceptionLabels[b.c])&&
R(l,h);(a.$currentClassAtlasIndex||a.$classAtlasIndices)&&v!==(v=(b.$currentClassAtlasIndex===b.c?"selected":"")+" svelte-kl8ujq")&&(d.className=v);a.$classAtlasIndices&&r!==(r=b.c)&&(d.title=r)},d(a){a&&E(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);e.removeEventListener("change",c,void 0)}}}function Uf(b){z(this,b);this.refs={};this._state=q(q(this.store._init(["inceptionLabels","currentClassAtlasIndex","classAtlasIndices"]),{layout:0}),b.data);this.store._add(this,["inceptionLabels",
"currentClassAtlasIndex","classAtlasIndices"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[ka];this._fragment=jl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Vf(b,a,c){b=Object.create(b);b.c=a[c];return b}function kl(b,a){for(var c,d,e,f,g=a.$inceptionLabels[a.$currentClassAtlasCompareIndex],h,l,v,r,A,u,S,w,y,x,p,t,q,W=a.$inceptionLabels[a.$currentClassAtlasCompareIndex],C,G,K,J,H,M,P,Z,ea,Q,L,fa,da=new ab({root:b.root,store:b.store,
data:{showAttribution:!0,classFilter:a.$currentClassAtlasCompareIndex,filterType:"winner"}}),pa=new ab({root:b.root,store:b.store,data:{showAttribution:!0,classFilter:a.$currentClassAtlasCompareIndex,filterType:"top"}}),z=a.$classAtlasIndices,B=[],D=0;D<z.length;D+=1)B[D]=Wf(b,Vf(a,z,D));return{c(){c=m("div");d=m("div");e=m("h4");f=n("\u201c");h=m("noscript");l=m("noscript");v=n("\u201d ");r=m("br");A=n("filtered by top rank");u=n("\n    ");S=m("div");da._fragment.c();w=n("\n    ");y=m("div");y.textContent=
"We pluck only those activations whose top attribution is toward the class in question. The results are often much more focused and isolated, exclusive to the class. Some are low magnitude, like backgrounds, and we miss correlations or concepts that are shared among many classes.";x=n("\n  ");p=m("div");t=m("h4");q=n("\u201c");C=m("noscript");G=m("noscript");K=n("\u201d ");J=m("br");H=n("filtered by overall magnitude");M=n("\n    ");P=m("div");pa._fragment.c();Z=n("\n    ");ea=m("div");ea.textContent=
"Here we sort all the activations by the magnitude toward the class in question (independent of other classes) and take the top 2,000 activations. We see more correlated activations that could, on their own, contribute to another classification (We label each activation with the class that it contributes toward most). Notice that certain fish that are commonly seen while snorkeling now show up with that class, and a \u201ccoffee mug\u201d now shows up with \u201ccrossword puzzle\u201d. Some of them appear spurious, however.";
Q=n("\n  ");L=m("div");fa=m("div");for(var a=0;a<B.length;a+=1)B[a].c();e.className="svelte-4ghdgj";S.className="atlas";y.className="figcaption svelte-4ghdgj";t.className="svelte-4ghdgj";P.className="atlas";ea.className="figcaption svelte-4ghdgj";fa.className="chooser svelte-4ghdgj";L.className="chooser-container svelte-4ghdgj";c.className="root svelte-4ghdgj"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(f);e.appendChild(h);h.insertAdjacentHTML("afterend",g);e.appendChild(l);
e.appendChild(v);e.appendChild(r);e.appendChild(A);d.appendChild(u);d.appendChild(S);da._mount(S,null);d.appendChild(w);d.appendChild(y);c.appendChild(x);c.appendChild(p);p.appendChild(t);t.appendChild(q);t.appendChild(C);C.insertAdjacentHTML("afterend",W);t.appendChild(G);t.appendChild(K);t.appendChild(J);t.appendChild(H);p.appendChild(M);p.appendChild(P);pa._mount(P,null);p.appendChild(Z);p.appendChild(ea);c.appendChild(Q);c.appendChild(L);L.appendChild(fa);for(a=0;a<B.length;a+=1)B[a].m(fa,null)},
p(a,c){(a.$inceptionLabels||a.$currentClassAtlasCompareIndex)&&g!==(g=c.$inceptionLabels[c.$currentClassAtlasCompareIndex])&&(Od(h,l),h.insertAdjacentHTML("afterend",g));var d={};a.$currentClassAtlasCompareIndex&&(d.classFilter=c.$currentClassAtlasCompareIndex);da._set(d);(a.$inceptionLabels||a.$currentClassAtlasCompareIndex)&&W!==(W=c.$inceptionLabels[c.$currentClassAtlasCompareIndex])&&(Od(C,G),C.insertAdjacentHTML("afterend",W));d={};a.$currentClassAtlasCompareIndex&&(d.classFilter=c.$currentClassAtlasCompareIndex);
pa._set(d);if(a.$currentClassAtlasCompareIndex||a.$classAtlasIndices||a.$inceptionLabels){z=c.$classAtlasIndices;for(d=0;d<z.length;d+=1){let e=Vf(c,z,d);B[d]?B[d].p(a,e):(B[d]=Wf(b,e),B[d].c(),B[d].m(fa,null))}for(;d<B.length;d+=1)B[d].d(1);B.length=z.length}},d(a){a&&E(c);da.destroy();pa.destroy();Y(B,a)}}}function Wf(b,a){function c(){b.store.set({currentClassAtlasCompareIndex:e.__value})}var d,e,k,g,h=a.$inceptionLabels[a.c],l,v,r,A;return{c(){d=m("label");e=m("input");g=n("\n          ");l=n(h);
v=n("\n        ");b._bindingGroups[0].push(e);e.addEventListener("change",c,void 0);f(e,"type","radio");e.__value=k=a.c;e.value=e.__value;e.className="svelte-4ghdgj";d.className=r=(a.$currentClassAtlasCompareIndex===a.c?"selected":"")+" svelte-4ghdgj";d.title=A=a.c},m(b,c){b.insertBefore(d,c);d.appendChild(e);e.checked=e.__value===a.$currentClassAtlasCompareIndex;d.appendChild(g);d.appendChild(l);d.appendChild(v)},p(a,b){a.$currentClassAtlasCompareIndex&&(e.checked=e.__value===b.$currentClassAtlasCompareIndex);
a.$classAtlasIndices&&k!==(k=b.c)&&(e.__value=k);e.value=e.__value;(a.$inceptionLabels||a.$classAtlasIndices)&&h!==(h=b.$inceptionLabels[b.c])&&R(l,h);(a.$currentClassAtlasCompareIndex||a.$classAtlasIndices)&&r!==(r=(b.$currentClassAtlasCompareIndex===b.c?"selected":"")+" svelte-4ghdgj")&&(d.className=r);a.$classAtlasIndices&&A!==(A=b.c)&&(d.title=A)},d(a){a&&E(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(e),1);e.removeEventListener("change",c,void 0)}}}function Xf(b){z(this,b);this._state=
q(q(this.store._init(["inceptionLabels","currentClassAtlasCompareIndex","classAtlasIndices"]),{}),b.data);this.store._add(this,["inceptionLabels","currentClassAtlasCompareIndex","classAtlasIndices"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[ka];this._fragment=kl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function ll({$classComparisons:b,classComparisonIndex:a}){return b[a].left}function ml({$classComparisons:b,classComparisonIndex:a}){return b[a].right}
function Yf(b){let {component:a,ctx:c}=this._svelte;a.set({classComparisonIndex:c.i})}function Zf(b,a,c){b=Object.create(b);b.comparison=a[c];b.i=c;return b}function nl(b,a){var c,d,e,f,g,h=a.$inceptionLabels[a.leftIndex],l,v,r,A,u,S,w,y,x=a.$inceptionLabels[a.rightIndex],I,t,q,W,C=a.showControls&&$f(b,a),G=new ab({root:b.root,store:b.store,data:{classFilter:a.leftIndex,filterType:a.filterType}}),K=new ab({root:b.root,store:b.store,data:{classFilter:a.rightIndex,filterType:a.filterType}});return{c(){C&&
C.c();c=n("\n\n");d=m("div");e=m("div");f=m("h4");g=n("\u201c");l=n(h);v=n("\u201d");r=n("\n    ");A=m("div");G._fragment.c();u=n("\n  ");S=m("div");w=m("h4");y=n("\u201c");I=n(x);t=n("\u201d");q=n("\n    ");W=m("div");K._fragment.c();f.className="svelte-a1781g";A.className="atlas";w.className="svelte-a1781g";W.className="atlas";p(d,"display","grid");p(d,"grid-auto-flow","column");p(d,"grid-column-gap","20px");p(d,"grid-auto-columns","1fr")},m(a,b){C&&C.m(a,b);a.insertBefore(c,b);a.insertBefore(d,
b);d.appendChild(e);e.appendChild(f);f.appendChild(g);f.appendChild(l);f.appendChild(v);e.appendChild(r);e.appendChild(A);G._mount(A,null);d.appendChild(u);d.appendChild(S);S.appendChild(w);w.appendChild(y);w.appendChild(I);w.appendChild(t);S.appendChild(q);S.appendChild(W);K._mount(W,null)},p(a,d){d.showControls?C?C.p(a,d):(C=$f(b,d),C.c(),C.m(c.parentNode,c)):C&&(C.d(1),C=null);(a.$inceptionLabels||a.leftIndex)&&h!==(h=d.$inceptionLabels[d.leftIndex])&&R(l,h);var e={};a.leftIndex&&(e.classFilter=
d.leftIndex);a.filterType&&(e.filterType=d.filterType);G._set(e);(a.$inceptionLabels||a.rightIndex)&&x!==(x=d.$inceptionLabels[d.rightIndex])&&R(I,x);e={};a.rightIndex&&(e.classFilter=d.rightIndex);a.filterType&&(e.filterType=d.filterType);K._set(e)},d(a){C&&C.d(a);a&&(E(c),E(d));G.destroy();K.destroy()}}}function $f(b,a){for(var c,d=a.$classComparisons,e=[],f=0;f<d.length;f+=1)e[f]=ag(b,Zf(a,d,f));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=xa()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,
b);a.insertBefore(c,b)},p(a,f){if(a.$classComparisons){d=f.$classComparisons;for(var g=0;g<d.length;g+=1){let k=Zf(f,d,g);e[g]?e[g].p(a,k):(e[g]=ag(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Y(e,a);a&&E(c)}}}function ag(b,a){var c,d=a.comparison.leftLabel,e,f,g=a.comparison.rightLabel,h;return{c(){c=m("button");e=n(d);f=n(" vs. ");h=n(g);c._svelte={component:b,ctx:a};c.addEventListener("click",Yf,void 0)},m(a,b){a.insertBefore(c,b);c.appendChild(e);
c.appendChild(f);c.appendChild(h)},p(b,f){a=f;b.$classComparisons&&d!==(d=a.comparison.leftLabel)&&R(e,d);b.$classComparisons&&g!==(g=a.comparison.rightLabel)&&R(h,g);c._svelte.ctx=a},d(a){a&&E(c);c.removeEventListener("click",Yf,void 0)}}}function Gd(b){z(this,b);this._state=q(q(this.store._init(["classComparisons","inceptionLabels"]),{classComparisonIndex:0,showControls:!0,filterType:"top"}),b.data);this.store._add(this,["classComparisons","inceptionLabels"]);this._recompute({$classComparisons:1,
classComparisonIndex:1},this._state);this._intro=!0;this._handlers.destroy=[ka];this._fragment=nl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function ol({width:b}){return b}function pl({width:b,margin:a}){return b+a.left+a.right}function ql({height:b,margin:a}){return b+a.top+a.bottom}function rl({width:b}){return b/10}function sl({currentClassComparisonIndex:b,$classComparisons:a}){return a[b]}function bg(b,a,c){b=Object.create(b);b.annotation=a[c];b.iter=
c;return b}function cg(b,a,c){b=Object.create(b);b.tick=a[c];return b}function dg(b,a,c){b=Object.create(b);b.tick=a[c];return b}function tl(b,a){for(var c,d,e,k,g,h,l,v,r,A,u,p,w,y,x=a.comparison.leftLabel,I,q,pb,W,C,G=a.comparison.rightLabel,K,J,H,M,P,Z,ea,Q,L,fa,da,pa,z,B,D,F,Qa,N,O,V,T,ca,X,Da,ka,ma,ra,wa,ta,na,oa,nb=U(11),ja=[],ba=0;ba<nb.length;ba+=1)ja[ba]=eg(b,dg(a,nb,ba));var la=U(11),ua=[];for(ba=0;ba<la.length;ba+=1)ua[ba]=fg(b,cg(a,la,ba));var va=a.comparison.annotation&&gg(b,a);return{c(){c=
m("div");d=t("svg");e=t("defs");k=t("marker");g=t("path");h=t("g");l=t("image");A=t("g");u=t("text");p=t("tspan");w=n("more attributed to ");y=t("tspan");I=n(x);q=t("text");pb=t("tspan");W=n("more attributed to ");C=t("tspan");K=n(G);J=t("g");H=t("line");M=t("line");Z=t("g");ea=t("g");Q=t("line");L=t("line");fa=t("text");da=t("tspan");pa=n("positioned");z=t("tspan");B=n("by similarity");D=t("tspan");F=n("(one-dimensional");Qa=t("tspan");N=n("t-SNE)");V=t("g");T=t("line");Da=t("line");for(var b=0;b<
ja.length;b+=1)ja[b].c();wa=xa();for(b=0;b<ua.length;b+=1)ua[b].c();ta=xa();va&&va.c();f(g,"d","M0,0 L0,10 L10,5 z");f(g,"fill",a.color);f(k,"id","arrow");f(k,"markerWidth","7");f(k,"markerHeight","7");f(k,"refX","10");f(k,"refY","5");f(k,"orient","auto");f(k,"markerUnits","strokeWidth");f(k,"viewBox","0 0 10 10");f(l,"id","comparisonImg");f(l,"width",a.width);f(l,"height",a.height);Xa(l,"xlink:href",v="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+
a.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg");f(l,"alt",r=a.comparison.label);f(p,"x","-10");f(p,"dy","1.3em");f(y,"x","-10");f(y,"dy","1.3em");f(y,"font-weight","bold");f(u,"y","-50");f(u,"text-anchor","end");f(u,"class","svelte-1jr0ob8");f(pb,"x","10");f(pb,"dy","1.3em");f(C,"x","10");f(C,"dy","1.3em");f(C,"font-weight","bold");f(q,"y","-50");f(q,"class",
"svelte-1jr0ob8");f(H,"x2","-50");f(H,"transform","translate(-120,0)");f(H,"stroke",a.color);f(H,"marker-end","url(#arrow)");f(M,"x2","50");f(M,"transform","translate(120,0)");f(M,"stroke",a.color);f(M,"marker-end","url(#arrow)");f(J,"transform","translate(0, -28)");f(A,"transform",P="translate("+a.width/2+", 0)");f(Q,"y2","-50");f(Q,"transform","translate(0,-38)");f(Q,"stroke",a.color);f(Q,"marker-end","url(#arrow)");f(L,"y2","50");f(L,"transform","translate(0,30)");f(L,"stroke",a.color);f(L,"marker-end",
"url(#arrow)");f(ea,"transform","translate(10, 0)");f(da,"x","0");f(da,"y","-1.8em");f(z,"x","0");f(z,"y","-0.6em");f(D,"x","0");f(D,"y","0.6em");f(Qa,"x","0");f(Qa,"y","1.8em");f(fa,"alignment-baseline","middle");f(fa,"class","svelte-1jr0ob8");f(Z,"transform",O="translate("+(-a.margin.left+8)+","+a.height/2+")");f(T,"y1",ca=-a.margin.top+4);f(T,"y2",X=a.height+8);f(T,"stroke","white");f(T,"stroke-width","5");f(T,"stroke-opacity","0.6");f(Da,"y1",ka=-a.margin.top+4);f(Da,"y2",ma=a.height+8);f(Da,
"stroke","black");f(V,"transform",ra="translate("+a.width/2+", 0)");f(h,"transform",na="translate("+a.margin.left+","+a.margin.top+")");f(d,"class","overlay svelte-1jr0ob8");f(d,"viewBox",oa="0 0 "+a.outerWidth+" "+a.outerHeight);c.className="overlay-wrap svelte-1jr0ob8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(k);k.appendChild(g);d.appendChild(h);h.appendChild(l);h.appendChild(A);A.appendChild(u);u.appendChild(p);p.appendChild(w);u.appendChild(y);y.appendChild(I);
A.appendChild(q);q.appendChild(pb);pb.appendChild(W);q.appendChild(C);C.appendChild(K);A.appendChild(J);J.appendChild(H);J.appendChild(M);h.appendChild(Z);Z.appendChild(ea);ea.appendChild(Q);ea.appendChild(L);Z.appendChild(fa);fa.appendChild(da);da.appendChild(pa);fa.appendChild(z);z.appendChild(B);fa.appendChild(D);D.appendChild(F);fa.appendChild(Qa);Qa.appendChild(N);h.appendChild(V);V.appendChild(T);V.appendChild(Da);for(a=0;a<ja.length;a+=1)ja[a].m(h,null);h.appendChild(wa);for(a=0;a<ua.length;a+=
1)ua[a].m(h,null);h.appendChild(ta);va&&va.m(h,null)},p(a,c){a.color&&f(g,"fill",c.color);a.width&&f(l,"width",c.width);a.height&&f(l,"height",c.height);a.comparison&&v!==(v="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+c.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg")&&Xa(l,"xlink:href",v);a.comparison&&r!==
(r=c.comparison.label)&&f(l,"alt",r);a.comparison&&x!==(x=c.comparison.leftLabel)&&R(I,x);a.comparison&&G!==(G=c.comparison.rightLabel)&&R(K,G);a.color&&(f(H,"stroke",c.color),f(M,"stroke",c.color));a.width&&P!==(P="translate("+c.width/2+", 0)")&&f(A,"transform",P);a.color&&(f(Q,"stroke",c.color),f(L,"stroke",c.color));(a.margin||a.height)&&O!==(O="translate("+(-c.margin.left+8)+","+c.height/2+")")&&f(Z,"transform",O);a.margin&&ca!==(ca=-c.margin.top+4)&&f(T,"y1",ca);a.height&&X!==(X=c.height+8)&&
f(T,"y2",X);a.margin&&ka!==(ka=-c.margin.top+4)&&f(Da,"y1",ka);a.height&&ma!==(ma=c.height+8)&&f(Da,"y2",ma);a.width&&ra!==(ra="translate("+c.width/2+", 0)")&&f(V,"transform",ra);if(a.width||a.height){nb=U(11);for(var e=0;e<nb.length;e+=1){var k=dg(c,nb,e);ja[e]?ja[e].p(a,k):(ja[e]=eg(b,k),ja[e].c(),ja[e].m(h,wa))}for(;e<ja.length;e+=1)ja[e].d(1);ja.length=nb.length}if(a.width||a.height){la=U(11);for(e=0;e<la.length;e+=1)k=cg(c,la,e),ua[e]?ua[e].p(a,k):(ua[e]=fg(b,k),ua[e].c(),ua[e].m(h,ta));for(;e<
ua.length;e+=1)ua[e].d(1);ua.length=la.length}c.comparison.annotation?va?va.p(a,c):(va=gg(b,c),va.c(),va.m(h,null)):va&&(va.d(1),va=null);a.margin&&na!==(na="translate("+c.margin.left+","+c.margin.top+")")&&f(h,"transform",na);(a.outerWidth||a.outerHeight)&&oa!==(oa="0 0 "+c.outerWidth+" "+c.outerHeight)&&f(d,"viewBox",oa)},d(a){a&&E(c);Y(ja,a);Y(ua,a);va&&va.d()}}}function eg(b,a){var c,d;return{c(){c=t("line");f(c,"x2",a.width);f(c,"transform",d="translate(0, "+a.height/10*a.tick+")");f(c,"stroke",
"black");f(c,"stroke-opacity","0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&f(c,"x2",b.width);a.height&&d!==(d="translate(0, "+b.height/10*b.tick+")")&&f(c,"transform",d)},d(a){a&&E(c)}}}function fg(b,a){var c,d;return{c(){c=t("line");f(c,"y2",a.width);f(c,"transform",d="translate("+a.height/10*a.tick+", 0)");f(c,"stroke","black");f(c,"stroke-opacity","0.15");f(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&f(c,"y2",b.width);a.height&&
d!==(d="translate("+b.height/10*b.tick+", 0)")&&f(c,"transform",d)},d(a){a&&E(c)}}}function gg(b,a){for(var c,d=a.comparison.annotation,e=[],f=0;f<d.length;f+=1)e[f]=hg(b,bg(a,d,f));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=xa()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.comparison||a.cellWidth||a.Math||a.width){d=f.comparison.annotation;for(var g=0;g<d.length;g+=1){let k=bg(f,d,g);e[g]?e[g].p(a,k):(e[g]=hg(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<
e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Y(e,a);a&&E(c)}}}function hg(b,a){var c,d,e,k,g,h=a.annotation.desc,l,v,m,A,u,p,w,y,x;return{c(){c=t("g");d=t("line");g=t("text");l=n(h);A=t("g");u=t("circle");w=t("circle");f(d,"x1",e=(a.annotation.pos.y+.5)*a.cellWidth+a.cellWidth/2*a.Math.sqrt(2));f(d,"x2",k=a.width+10);f(d,"stroke","black");f(d,"stroke-opacity","0.4");f(g,"x",v=a.width+20);f(g,"alignment-baseline","middle");f(g,"class","svelte-1jr0ob8");f(c,"transform",m="translate(0, "+(a.annotation.pos.x+
.5)*a.cellWidth+")");f(u,"r",p=a.cellWidth/2*a.Math.sqrt(2));f(u,"fill","none");f(u,"stroke","white");f(u,"stroke-opacity","0.5");f(u,"stroke-width","5");f(w,"r",y=a.cellWidth/2*a.Math.sqrt(2));f(w,"fill","none");f(w,"stroke","black");f(w,"stroke-opacity","1");f(A,"transform",x="translate("+(a.annotation.pos.y+.5)*a.cellWidth+", "+(a.annotation.pos.x+.5)*a.cellWidth+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(g);g.appendChild(l);a.insertBefore(A,b);A.appendChild(u);A.appendChild(w)},
p(a,b){(a.comparison||a.cellWidth||a.Math)&&e!==(e=(b.annotation.pos.y+.5)*b.cellWidth+b.cellWidth/2*b.Math.sqrt(2))&&f(d,"x1",e);a.width&&k!==(k=b.width+10)&&f(d,"x2",k);a.comparison&&h!==(h=b.annotation.desc)&&R(l,h);a.width&&v!==(v=b.width+20)&&f(g,"x",v);(a.comparison||a.cellWidth)&&m!==(m="translate(0, "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&f(c,"transform",m);(a.cellWidth||a.Math)&&p!==(p=b.cellWidth/2*b.Math.sqrt(2))&&f(u,"r",p);(a.cellWidth||a.Math)&&y!==(y=b.cellWidth/2*b.Math.sqrt(2))&&
f(w,"r",y);(a.comparison||a.cellWidth)&&x!==(x="translate("+(b.annotation.pos.y+.5)*b.cellWidth+", "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&f(A,"transform",x)},d(a){a&&(E(c),E(A))}}}function Va(b){z(this,b);this._state=q(q(q({Math},this.store._init(["classComparisons"])),{width:504,selected:0,margin:{top:60,right:80,bottom:5,left:80},color:"#9a9cad",currentClassComparisonIndex:0}),b.data);this.store._add(this,["classComparisons"]);this._recompute({width:1,margin:1,height:1,currentClassComparisonIndex:1,
$classComparisons:1},this._state);this._intro=!0;this._handlers.destroy=[ka];this._fragment=tl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function ig(b,a,c){b=Object.create(b);b.row=a[c];b.i=c;return b}function jg(b,a,c){b=Object.create(b);b.c=a[c];return b}function ul(b,a){for(var c,d=a.classifications,e=[],f=0;f<d.length;f+=1)e[f]=kg(b,jg(a,d,f));return{c(){c=m("div");for(var b=0;b<e.length;b+=1)e[b].c();c.className="adversarial svelte-1vijrjb";p(c,"grid-template-columns",
"repeat("+a.classifications.length+", 1fr)")},m(a,b){a.insertBefore(c,b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},p(a,f){if(a.classifications||a.left||a.right||a.aspectRatio){d=f.classifications;for(var g=0;g<d.length;g+=1){let k=jg(f,d,g);e[g]?e[g].p(a,k):(e[g]=kg(b,k),e[g].c(),e[g].m(c,null))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}a.classifications&&p(c,"grid-template-columns","repeat("+f.classifications.length+", 1fr)")},d(a){a&&E(c);Y(e,a)}}}function lg(b,a){var c,d,e=a.i+1,f,g,h,l,v=
a.row[0],r,A,u,p=mg(a.row[1]),w,y,x;return{c(){c=m("tr");d=m("td");f=n(e);g=n(".");h=n("\n            ");l=m("td");r=n(v);A=n("\n            ");u=m("td");w=n(p);y=n("%");d.className="svelte-1vijrjb";l.className="svelte-1vijrjb";u.className="svelte-1vijrjb";c.className=x=(a.row[0]===a.left?"left":"")+" "+(a.row[0]===a.right?"right":"")+" svelte-1vijrjb"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);d.appendChild(g);c.appendChild(h);c.appendChild(l);l.appendChild(r);c.appendChild(A);
c.appendChild(u);u.appendChild(w);u.appendChild(y)},p(a,b){a.classifications&&v!==(v=b.row[0])&&R(r,v);a.classifications&&p!==(p=mg(b.row[1]))&&R(w,p);(a.classifications||a.left||a.right)&&x!==(x=(b.row[0]===b.left?"left":"")+" "+(b.row[0]===b.right?"right":"")+" svelte-1vijrjb")&&(c.className=x)},d(a){a&&E(c)}}}function kg(b,a){for(var c,d,e,f,g,h,l,v=a.c.caption,r,A,u=new N({root:b.root,store:b.store,data:{style:"image-rendering: crisp-edges;image-rendering: pixelated;",src:a.c.image,alt:""+a.left+
" / "+a.right,aspectRatio:a.aspectRatio}}),p=a.c.rows,w=[],y=0;y<p.length;y+=1)w[y]=lg(b,ig(a,p,y));return{c(){c=m("div");d=m("div");u._fragment.c();e=n("\n      ");f=m("div");g=m("table");for(var a=0;a<w.length;a+=1)w[a].c();h=n("\n      ");l=m("div");r=n(v);A=n("\n    ");d.className="image";g.className="svelte-1vijrjb";f.className="table";l.className="figcaption svelte-1vijrjb";c.className="class svelte-1vijrjb"},m(a,b){a.insertBefore(c,b);c.appendChild(d);u._mount(d,null);c.appendChild(e);c.appendChild(f);
f.appendChild(g);for(a=0;a<w.length;a+=1)w[a].m(g,null);c.appendChild(h);c.appendChild(l);l.appendChild(r);c.appendChild(A)},p(a,c){var d={};a.classifications&&(d.src=c.c.image);if(a.left||a.right)d.alt=""+c.left+" / "+c.right;a.aspectRatio&&(d.aspectRatio=c.aspectRatio);u._set(d);if(a.classifications||a.left||a.right){p=c.c.rows;for(d=0;d<p.length;d+=1){let e=ig(c,p,d);w[d]?w[d].p(a,e):(w[d]=lg(b,e),w[d].c(),w[d].m(g,null))}for(;d<w.length;d+=1)w[d].d(1);w.length=p.length}a.classifications&&v!==
(v=c.c.caption)&&R(r,v)},d(a){a&&E(c);u.destroy();Y(w,a)}}}function Lb(b){z(this,b);this._state=q({image:"",left:"",right:"",classifications:[],aspectRatio:1},b.data);this._intro=!0;this._fragment=ul(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function vl(b,a){var c,d,e,f,g,h,l,v,r,A,u,t,w=new N({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D10000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"10,000 activations"}}),y=new N({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D100000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",alt:"100,000 activations"}}),x=new N({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D1000000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"1,000,000 activations"}});return{c(){c=m("div");d=m("div");w._fragment.c();e=n("\n    ");f=m("div");f.textContent="10,000 activations";g=n("\n  ");h=m("div");y._fragment.c();l=n("\n    ");v=m("div");v.textContent="100,000 activations";r=n("\n  ");A=m("div");x._fragment.c();u=n("\n    ");t=m("div");t.textContent="1,000,000 activations";p(f,"margin-top","4px");p(v,"margin-top","4px");p(t,"margin-top","4px");c.className="svelte-1ppku9e svelte-ref-root"},m(a,k){a.insertBefore(c,k);c.appendChild(d);
w._mount(d,null);d.appendChild(e);d.appendChild(f);c.appendChild(g);c.appendChild(h);y._mount(h,null);h.appendChild(l);h.appendChild(v);c.appendChild(r);c.appendChild(A);x._mount(A,null);A.appendChild(u);A.appendChild(t);b.refs.root=c},p:T,d(a){a&&E(c);w.destroy();y.destroy();x.destroy();b.refs.root===c&&(b.refs.root=null)}}}function ng(b){z(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=vl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),
D(this))}function wl(b,a){var c,d,e,f,g,h,l,v,r,A,u,t,w,y,x,q=new N({root:b.root,store:b.store,data:{src:"assets/images/grid-size-32x32.png",alt:"32 x 32"}}),aa=new N({root:b.root,store:b.store,data:{src:"assets/images/grid-size-8x8.png",alt:"8 x 8"}}),pb=new N({root:b.root,store:b.store,data:{src:"assets/images/grid-size-2x2.png",alt:"2 x 2"}});return{c(){c=m("div");d=m("div");e=m("div");q._fragment.c();f=n("\n      ");g=m("div");g.innerHTML="<b>32 x 32</b> When the grid is too small, the feature visualizations are too small to see.";
h=n("\n  ");l=m("div");v=m("div");aa._fragment.c();r=n("\n      ");A=m("div");A.innerHTML="<b>8 x 8</b> When just right, the activation atlas shows all the concepts with feature visualizations that are big enough to see.";u=n("\n  ");t=m("div");w=m("div");pb._fragment.c();y=n("\n      ");x=m("div");x.innerHTML="<b>2 x 2</b> When the grid is too big, concepts are lost in the averages. One sees less diversity within related concepts.";e.className="atlas";g.className="figcaption svelte-dmx176";v.className=
"atlas";A.className="figcaption svelte-dmx176";w.className="atlas";x.className="figcaption svelte-dmx176";p(c,"display","grid");p(c,"grid-auto-flow","column");p(c,"grid-column-gap","20px");p(c,"grid-auto-columns","1fr")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);q._mount(e,null);d.appendChild(f);d.appendChild(g);c.appendChild(h);c.appendChild(l);l.appendChild(v);aa._mount(v,null);l.appendChild(r);l.appendChild(A);c.appendChild(u);c.appendChild(t);t.appendChild(w);pb._mount(w,null);
t.appendChild(y);t.appendChild(x)},p:T,d(a){a&&E(c);q.destroy();aa.destroy();pb.destroy()}}}function og(b){z(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=wl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function xl(){this.refs.figure.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.figure.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.figure.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});
this.fire("offscreen")})}function yl(b,a){var c,d=b._slotted.default;return{c(){c=m("d-figure")},m(a,f){a.insertBefore(c,f);d&&c.appendChild(d);b.refs.figure=c},p:T,d(a){a&&E(c);d&&oa(c,d);b.refs.figure===c&&(b.refs.figure=null)}}}function pg(b){z(this,b);this.refs={};this._state=q({ready:!1,onscreen:!1},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=yl(this,this._state);this.root._oncreate.push(()=>{xl.call(this);this.fire("update",{changed:wa({},this._state),current:this._state})});
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function zl({inputWidth:b,columnWidth:a,columnMargin:c}){return 2*b+3*a+4*c}function Al({inputWidth:b}){return b+40}function Bl({timerCount:b,numCells:a}){return Math.round(b)%(a*a)}function Cl({clippedCount:b,numCells:a}){return b%a}function Dl({clippedCount:b,numCells:a}){return Math.floor(b/a)}function El({inputWidth:b,numCells:a,cellPadding:c}){return(b+c)/a-c}function Fl({numCells:b,windowSize:a}){return b+a-1}function Gl({inputWidth:b,
numInputCells:a,cellPadding:c}){return(b+c)/a-c}function Hl({numCells:b}){return U(b).map((a)=>U(b).map((a)=>U(6).map((a)=>Math.random()-.5)))}function qg(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.y*c.numCells+c.x})}function rg(b,a,c){b=Object.create(b);b.x=a[c];return b}function sg(b,a,c){b=Object.create(b);b.y=a[c];return b}function tg(b,a,c){b=Object.create(b);b.activation=a[c];b.i=c;return b}function ug(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.Math.min(c.numCells-
1,c.Math.max(0,c.y-c.windowSize+2))*c.numCells+c.Math.min(c.numCells-1,c.Math.max(0,c.x-c.windowSize+2))})}function vg(b,a,c){b=Object.create(b);b.x=a[c];return b}function wg(b,a,c){b=Object.create(b);b.y=a[c];return b}function Il(b,a){function c(a){b.set({timerCount:47})}var d,e,k,g,h,l,v,r,A,u,q,w,y,x,I,aa,pb,W,C,G,K,J,H,M,P,Z,ea,Q,L,fa,da,z,B,D,F,N,Qa,O,V,R,T,ca,X,Da,ka,ma,la,ra,ta,na,wa,oa,ja,ba,xa,ua,va,Ea,Ja,sa,Aa,Fa,Na,Ia,ab,Ba,ya,Ta,gb,qa,Oa,hb,Ra,Pa,Sa,ib,$a,Ga,ob,La,qb,bb,Ya,kb,Ma,ha,cb,
rb,db,eb,lb={};if(void 0!==a.onscreen){lb.onscreen=a.onscreen;var Za=!0}var Ca=new pg({root:b.root,store:b.store,data:lb,_bind(a,c){var d={};!Za&&a.onscreen&&(d.onscreen=c.onscreen);b._set(d);Za=void 0}});b.root._beforecreate.push(()=>{Ca._bind({onscreen:1},Ca.get())});Ca.on("onscreen",function(a){b.set({timerCount:47})});for(var Va=U(a.numInputCells),ia=[],Ka=0;Ka<Va.length;Ka+=1)ia[Ka]=xg(b,wg(a,Va,Ka));var Wa=a.activations[a.windowX][a.windowY],Ha=[];for(Ka=0;Ka<Wa.length;Ka+=1)Ha[Ka]=yg(b,tg(a,
Wa,Ka));var za=U(a.numCells),Ua=[];for(Ka=0;Ka<za.length;Ka+=1)Ua[Ka]=zg(b,sg(a,za,Ka));return{c(){d=m("div");Ca._fragment.c();e=n("\n\n  ");k=t("svg");g=t("clipPath");h=t("rect");r=t("clipPath");A=t("rect");x=t("g");I=t("g");aa=t("text");pb=n("Input image");W=t("image");for(var b=0;b<ia.length;b+=1)ia[b].c();C=t("rect");M=t("g");P=t("path");Q=t("text");L=n("Image patch");fa=t("g");da=t("image");B=t("rect");D=t("text");F=t("tspan");N=n("Overlapping patches");Qa=t("tspan");O=n("of the input image are");
V=t("tspan");R=n("evaluated one by one.");X=t("g");Da=t("path");la=t("text");ra=n("Activations");for(b=0;b<Ha.length;b+=1)Ha[b].c();ta=t("text");na=t("tspan");wa=n("We record a single ");oa=t("tspan");ja=n("activation value for each ");ba=t("tspan");xa=n("of the 512 neurons.");ua=t("tspan");va=n("(values shown are mocked)");sa=t("g");Aa=t("path");Ia=t("text");ab=n("Feature visualization");Ba=t("g");ya=t("image");gb=t("rect");qa=t("text");Oa=t("tspan");hb=n("We then produce a  ");Ra=t("tspan");Pa=
n("feature visualization");Sa=t("tspan");ib=n("and place them on a grid.");ob=t("g");La=t("path");Ya=t("text");kb=n("Activation grid");Ma=t("image");for(b=0;b<Ua.length;b+=1)Ua[b].c();ha=t("rect");f(h,"x",l=a.windowX*a.cellWidth);f(h,"y",v=a.windowY*a.cellWidth);f(h,"width",a.cellWidth);f(h,"height",a.cellWidth);f(g,"id","activationGridClipRect");f(A,"x",u=a.windowX*a.inputCellWidth);f(A,"y",q=a.windowY*a.inputCellWidth);f(A,"width",w=a.inputCellWidth*a.windowSize);f(A,"height",y=a.inputCellWidth*
a.windowSize);f(r,"id","activationGridClipRectInput");f(aa,"class","head svelte-qwhwb1");f(aa,"dy","-13");Xa(W,"xlink:href","assets/images/dogcat.jpg");f(W,"width",a.inputWidth);f(W,"height",a.inputWidth);f(C,"stroke","rgb(255, 170, 0)");f(C,"pointer-events","none");f(C,"stroke-width","2");f(C,"fill-opacity","0");f(C,"x",G=a.windowX*a.inputCellWidth);f(C,"y",K=a.windowY*a.inputCellWidth);f(C,"width",J=a.inputCellWidth*a.windowSize);f(C,"height",H=a.inputCellWidth*a.windowSize);f(I,"transform","translate(0, 0)");
f(P,"class","arrow svelte-qwhwb1");f(P,"transform",Z="translate(0,"+a.columnWidth/2+")");f(P,"d",ea="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(Q,"class","head svelte-qwhwb1");f(Q,"dy","-13");f(da,"image-rendering","pixelated");Xa(da,"xlink:href","assets/images/dogcat.jpg");f(da,"width",a.inputWidth);f(da,"height",a.inputWidth);f(da,"clip-path","url(#activationGridClipRectInput)");f(fa,"transform",z="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+
a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")");f(B,"stroke","rgb(255, 170, 0)");f(B,"stroke-width","4");f(B,"fill-opacity","0");f(B,"width",a.columnWidth);f(B,"height",a.columnWidth);f(F,"x","0");f(F,"dy","1.4em");f(Qa,"x","0");f(Qa,"dy","1.4em");f(V,"x","0");f(V,"dy","1.4em");f(D,"class","figcaption svelte-qwhwb1");f(D,"transform",T="translate(0, "+(a.columnWidth+10)+")");f(M,"transform",ca="translate("+(a.inputWidth+a.columnMargin)+", 0)");f(Da,"class","arrow svelte-qwhwb1");f(Da,
"transform",ka="translate(0,"+a.columnWidth/2+")");f(Da,"d",ma="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(la,"class","head svelte-qwhwb1");f(la,"dy","-13");f(na,"x","0");f(na,"dy","1.4em");f(oa,"x","0");f(oa,"dy","1.4em");f(ba,"x","0");f(ba,"dy","1.4em");f(ua,"x","0");f(ua,"dy","1.4em");f(ta,"class","figcaption svelte-qwhwb1");f(ta,"transform",Ea="translate(0, "+(a.columnWidth+10)+")");f(X,"transform",Ja="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+
", 0)");f(Aa,"class","arrow svelte-qwhwb1");f(Aa,"transform",Fa="translate(0,"+a.columnWidth/2+")");f(Aa,"d",Na="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(Ia,"class","head svelte-qwhwb1");f(Ia,"dy","-13");f(ya,"image-rendering","pixelated");Xa(ya,"xlink:href","assets/images/dogcat-grid.jpg");f(ya,"width",a.inputWidth);f(ya,"height",a.inputWidth);f(ya,"clip-path","url(#activationGridClipRect)");f(Ba,"transform",Ta="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*
a.cellWidth+", -"+a.windowY*a.cellWidth+")");f(gb,"stroke","#ff6600");f(gb,"stroke-width","4");f(gb,"fill-opacity","0");f(gb,"width",a.columnWidth);f(gb,"height",a.columnWidth);f(Oa,"x","0");f(Oa,"dy","1.4em");f(Ra,"x","0");f(Ra,"dy","1.4em");f(Sa,"x","0");f(Sa,"dy","1.4em");f(qa,"class","figcaption svelte-qwhwb1");f(qa,"transform",$a="translate(0, "+(a.columnWidth+10)+")");f(sa,"transform",Ga="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)");f(La,"class","arrow svelte-qwhwb1");
f(La,"transform",qb="translate(0,"+a.columnWidth/2+")");f(La,"d",bb="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");f(Ya,"class","head svelte-qwhwb1");f(Ya,"dy","-13");Xa(Ma,"xlink:href","assets/images/dogcat-grid.jpg");f(Ma,"width",a.inputWidth);f(Ma,"height",a.inputWidth);f(ha,"stroke","#ff6600");f(ha,"pointer-events","none");f(ha,"stroke-width","2");f(ha,"fill-opacity","0");f(ha,"x",cb=a.windowX*a.cellWidth);f(ha,"y",rb=a.windowY*a.cellWidth);f(ha,"width",a.cellWidth);
f(ha,"height",a.cellWidth);f(ob,"transform",db="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)");f(x,"transform","translate(0, 30)");p(k,"width","100%");f(k,"viewBox",eb="0 0 "+a.width+" "+a.height);d.addEventListener("mouseout",c,void 0);p(d,"position","relative");p(d,"background","white");p(d,"text-align","right")},m(a,b){a.insertBefore(d,b);Ca._mount(d,null);d.appendChild(e);d.appendChild(k);k.appendChild(g);g.appendChild(h);k.appendChild(r);r.appendChild(A);k.appendChild(x);
x.appendChild(I);I.appendChild(aa);aa.appendChild(pb);I.appendChild(W);for(a=0;a<ia.length;a+=1)ia[a].m(I,null);I.appendChild(C);x.appendChild(M);M.appendChild(P);M.appendChild(Q);Q.appendChild(L);M.appendChild(fa);fa.appendChild(da);M.appendChild(B);M.appendChild(D);D.appendChild(F);F.appendChild(N);D.appendChild(Qa);Qa.appendChild(O);D.appendChild(V);V.appendChild(R);x.appendChild(X);X.appendChild(Da);X.appendChild(la);la.appendChild(ra);for(a=0;a<Ha.length;a+=1)Ha[a].m(X,null);X.appendChild(ta);
ta.appendChild(na);na.appendChild(wa);ta.appendChild(oa);oa.appendChild(ja);ta.appendChild(ba);ba.appendChild(xa);ta.appendChild(ua);ua.appendChild(va);x.appendChild(sa);sa.appendChild(Aa);sa.appendChild(Ia);Ia.appendChild(ab);sa.appendChild(Ba);Ba.appendChild(ya);sa.appendChild(gb);sa.appendChild(qa);qa.appendChild(Oa);Oa.appendChild(hb);qa.appendChild(Ra);Ra.appendChild(Pa);qa.appendChild(Sa);Sa.appendChild(ib);x.appendChild(ob);ob.appendChild(La);ob.appendChild(Ya);Ya.appendChild(kb);ob.appendChild(Ma);
for(a=0;a<Ua.length;a+=1)Ua[a].m(ob,null);ob.appendChild(ha)},p(c,d){a=d;d={};!Za&&c.onscreen&&(d.onscreen=a.onscreen,Za=void 0!==a.onscreen);Ca._set(d);Za=void 0;(c.windowX||c.cellWidth)&&l!==(l=a.windowX*a.cellWidth)&&f(h,"x",l);(c.windowY||c.cellWidth)&&v!==(v=a.windowY*a.cellWidth)&&f(h,"y",v);c.cellWidth&&(f(h,"width",a.cellWidth),f(h,"height",a.cellWidth));(c.windowX||c.inputCellWidth)&&u!==(u=a.windowX*a.inputCellWidth)&&f(A,"x",u);(c.windowY||c.inputCellWidth)&&q!==(q=a.windowY*a.inputCellWidth)&&
f(A,"y",q);(c.inputCellWidth||c.windowSize)&&w!==(w=a.inputCellWidth*a.windowSize)&&f(A,"width",w);(c.inputCellWidth||c.windowSize)&&y!==(y=a.inputCellWidth*a.windowSize)&&f(A,"height",y);c.inputWidth&&(f(W,"width",a.inputWidth),f(W,"height",a.inputWidth));if(c.numInputCells||c.windowX||c.windowSize||c.windowY||c.inputCellWidth||c.cellPadding||c.Math||c.numCells){Va=U(a.numInputCells);for(d=0;d<Va.length;d+=1){var e=wg(a,Va,d);ia[d]?ia[d].p(c,e):(ia[d]=xg(b,e),ia[d].c(),ia[d].m(I,C))}for(;d<ia.length;d+=
1)ia[d].d(1);ia.length=Va.length}(c.windowX||c.inputCellWidth)&&G!==(G=a.windowX*a.inputCellWidth)&&f(C,"x",G);(c.windowY||c.inputCellWidth)&&K!==(K=a.windowY*a.inputCellWidth)&&f(C,"y",K);(c.inputCellWidth||c.windowSize)&&J!==(J=a.inputCellWidth*a.windowSize)&&f(C,"width",J);(c.inputCellWidth||c.windowSize)&&H!==(H=a.inputCellWidth*a.windowSize)&&f(C,"height",H);c.columnWidth&&Z!==(Z="translate(0,"+a.columnWidth/2+")")&&f(P,"transform",Z);c.columnMargin&&ea!==(ea="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/
3+",0 m-5,-5 l5,5 l-5,5")&&f(P,"d",ea);c.inputWidth&&(f(da,"width",a.inputWidth),f(da,"height",a.inputWidth));(c.columnWidth||c.inputCellWidth||c.windowSize||c.windowX||c.windowY)&&z!==(z="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")")&&f(fa,"transform",z);c.columnWidth&&(f(B,"width",a.columnWidth),f(B,"height",a.columnWidth));c.columnWidth&&T!==(T="translate(0, "+(a.columnWidth+10)+")")&&f(D,"transform",T);(c.inputWidth||
c.columnMargin)&&ca!==(ca="translate("+(a.inputWidth+a.columnMargin)+", 0)")&&f(M,"transform",ca);c.columnWidth&&ka!==(ka="translate(0,"+a.columnWidth/2+")")&&f(Da,"transform",ka);c.columnMargin&&ma!==(ma="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&f(Da,"d",ma);if(c.activations||c.columnWidth||c.inputWidth||c.windowX||c.windowY){Wa=a.activations[a.windowX][a.windowY];for(d=0;d<Wa.length;d+=1)e=tg(a,Wa,d),Ha[d]?Ha[d].p(c,e):(Ha[d]=yg(b,e),Ha[d].c(),Ha[d].m(X,ta));for(;d<
Ha.length;d+=1)Ha[d].d(1);Ha.length=Wa.length}c.columnWidth&&Ea!==(Ea="translate(0, "+(a.columnWidth+10)+")")&&f(ta,"transform",Ea);(c.inputWidth||c.columnMargin||c.columnWidth)&&Ja!==(Ja="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+", 0)")&&f(X,"transform",Ja);c.columnWidth&&Fa!==(Fa="translate(0,"+a.columnWidth/2+")")&&f(Aa,"transform",Fa);c.columnMargin&&Na!==(Na="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&f(Aa,"d",Na);c.inputWidth&&(f(ya,
"width",a.inputWidth),f(ya,"height",a.inputWidth));(c.columnWidth||c.cellWidth||c.windowX||c.windowY)&&Ta!==(Ta="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")")&&f(Ba,"transform",Ta);c.columnWidth&&(f(gb,"width",a.columnWidth),f(gb,"height",a.columnWidth));c.columnWidth&&$a!==($a="translate(0, "+(a.columnWidth+10)+")")&&f(qa,"transform",$a);(c.inputWidth||c.columnMargin||c.columnWidth)&&Ga!==(Ga="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+
a.columnMargin))+", 0)")&&f(sa,"transform",Ga);c.columnWidth&&qb!==(qb="translate(0,"+a.columnWidth/2+")")&&f(La,"transform",qb);c.columnMargin&&bb!==(bb="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&f(La,"d",bb);c.inputWidth&&(f(Ma,"width",a.inputWidth),f(Ma,"height",a.inputWidth));if(c.numCells||c.windowY||c.windowX||c.cellWidth||c.cellPadding){za=U(a.numCells);for(d=0;d<za.length;d+=1)e=sg(a,za,d),Ua[d]?Ua[d].p(c,e):(Ua[d]=zg(b,e),Ua[d].c(),Ua[d].m(ob,ha));for(;d<Ua.length;d+=
1)Ua[d].d(1);Ua.length=za.length}(c.windowX||c.cellWidth)&&cb!==(cb=a.windowX*a.cellWidth)&&f(ha,"x",cb);(c.windowY||c.cellWidth)&&rb!==(rb=a.windowY*a.cellWidth)&&f(ha,"y",rb);c.cellWidth&&(f(ha,"width",a.cellWidth),f(ha,"height",a.cellWidth));(c.inputWidth||c.columnMargin||c.columnWidth)&&db!==(db="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)")&&f(ob,"transform",db);(c.width||c.height)&&eb!==(eb="0 0 "+a.width+" "+a.height)&&f(k,"viewBox",eb)},d(a){a&&E(d);Ca.destroy();
Y(ia,a);Y(Ha,a);Y(Ua,a);d.removeEventListener("mouseout",c,void 0)}}}function Ag(b,a){var c,d,e,k;return{c(){c=t("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",ug,void 0);f(c,"stroke","white");f(c,"fill","#aaa");f(c,"fill-opacity",d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5);f(c,"stroke-opacity","0.2");f(c,"stroke-width","1");f(c,"x",e=a.x*(a.inputCellWidth+a.cellPadding));f(c,"y",k=a.y*(a.inputCellWidth+a.cellPadding));f(c,
"width",a.inputCellWidth);f(c,"height",a.inputCellWidth)},m(a,b){a.insertBefore(c,b)},p(b,h){a=h;c._svelte.ctx=a;(b.numInputCells||b.windowX||b.windowSize||b.windowY)&&d!==(d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5)&&f(c,"fill-opacity",d);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&e!==(e=a.x*(a.inputCellWidth+a.cellPadding))&&f(c,"x",e);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&k!==(k=a.y*(a.inputCellWidth+a.cellPadding))&&f(c,
"y",k);b.inputCellWidth&&(f(c,"width",a.inputCellWidth),f(c,"height",a.inputCellWidth))},d(a){a&&E(c);c.removeEventListener("mouseover",ug,void 0)}}}function xg(b,a){for(var c,d=U(a.numInputCells),e=[],f=0;f<d.length;f+=1)e[f]=Ag(b,vg(a,d,f));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=xa()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numInputCells||a.windowX||a.windowSize||a.windowY||a.inputCellWidth||a.cellPadding||a.Math||a.numCells){d=U(f.numInputCells);
for(var g=0;g<d.length;g+=1){let k=vg(f,d,g);e[g]?e[g].p(a,k):(e[g]=Ag(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Y(e,a);a&&E(c)}}}function Bg(b,a){var c,d,e,k,g,h;return{c(){c=t("g");d=t("text");e=n("\u2026");k=t("line");f(d,"transform","rotate(90)translate(-7, -25)");f(d,"font-size","11");f(k,"y1","7");f(k,"y2","7");f(k,"stroke","#eee");f(k,"x2",g=2*a.inputWidth/3-20);f(c,"transform",h="translate(0,"+(20+20*(a.activations[0][0].length-1))+")")},
m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);c.appendChild(k)},p(a,b){a.inputWidth&&g!==(g=2*b.inputWidth/3-20)&&f(k,"x2",g);a.activations&&h!==(h="translate(0,"+(20+20*(b.activations[0][0].length-1))+")")&&f(c,"transform",h)},d(a){a&&E(c)}}}function yg(b,a){var c,d,e,k=a.i===a.activations[0][0].length-1?512:a.i,g,h,l,v=Cg(a.activation),m,A,u,p,w=a.i!==a.activations[a.windowX][a.windowY].length-1&&Bg(b,a);return{c(){w&&w.c();c=t("g");d=t("text");e=n("neuron ");g=n(k);h=n(":");l=t("text");
m=n(v);u=t("line");f(d,"font-size","11");f(d,"fill","#999");f(d,"dy","");f(l,"text-anchor","end");f(l,"font-size","11");f(l,"font-family","monospace");f(l,"dx",A=2*a.inputWidth/3-20);f(u,"y1","7");f(u,"y2","7");f(u,"stroke","#eee");f(u,"x2",a.columnWidth);f(c,"transform",p="translate(0,"+(a.i===a.activations[0][0].length-1?20+20*(a.i+1):20+20*a.i)+")")},m(a,b){w&&w.m(a,b);a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);d.appendChild(g);d.appendChild(h);c.appendChild(l);l.appendChild(m);c.appendChild(u)},
p(a,d){d.i!==d.activations[d.windowX][d.windowY].length-1?w?w.p(a,d):(w=Bg(b,d),w.c(),w.m(c.parentNode,c)):w&&(w.d(1),w=null);a.activations&&k!==(k=d.i===d.activations[0][0].length-1?512:d.i)&&R(g,k);(a.activations||a.windowX||a.windowY)&&v!==(v=Cg(d.activation))&&R(m,v);a.inputWidth&&A!==(A=2*d.inputWidth/3-20)&&f(l,"dx",A);a.columnWidth&&f(u,"x2",d.columnWidth);a.activations&&p!==(p="translate(0,"+(d.i===d.activations[0][0].length-1?20+20*(d.i+1):20+20*d.i)+")")&&f(c,"transform",p)},d(a){w&&w.d(a);
a&&E(c)}}}function Dg(b,a){var c,d,e,k;return{c(){c=t("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",qg,void 0);f(c,"stroke","#ddd");f(c,"fill","#aaa");f(c,"fill-opacity",d=a.y===a.windowY&&a.x===a.windowX?.01:.5);f(c,"stroke-width","1");f(c,"x",e=a.x*(a.cellWidth+a.cellPadding));f(c,"y",k=a.y*(a.cellWidth+a.cellPadding));f(c,"width",a.cellWidth);f(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(b,h){a=h;c._svelte.ctx=a;(b.numCells||b.windowY||b.windowX)&&d!==(d=a.y===
a.windowY&&a.x===a.windowX?.01:.5)&&f(c,"fill-opacity",d);(b.numCells||b.cellWidth||b.cellPadding)&&e!==(e=a.x*(a.cellWidth+a.cellPadding))&&f(c,"x",e);(b.numCells||b.cellWidth||b.cellPadding)&&k!==(k=a.y*(a.cellWidth+a.cellPadding))&&f(c,"y",k);b.cellWidth&&(f(c,"width",a.cellWidth),f(c,"height",a.cellWidth))},d(a){a&&E(c);c.removeEventListener("mouseover",qg,void 0)}}}function zg(b,a){for(var c,d=U(a.numCells),e=[],f=0;f<d.length;f+=1)e[f]=Dg(b,rg(a,d,f));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();
c=xa()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numCells||a.windowY||a.windowX||a.cellWidth||a.cellPadding){d=U(f.numCells);for(var g=0;g<d.length;g+=1){let k=rg(f,d,g);e[g]?e[g].p(a,k):(e[g]=Dg(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Y(e,a);a&&E(c)}}}function Hd(b){z(this,b);this._state=q(q({Math},{paused:!0,inputWidth:250,columnWidth:150,columnMargin:50,numCells:14,cellPadding:0,windowSize:3,windowX:0,
windowY:0,activations:U,timerCount:47}),b.data);this._recompute({inputWidth:1,columnWidth:1,columnMargin:1,timerCount:1,numCells:1,clippedCount:1,cellPadding:1,windowSize:1,numInputCells:1},this._state);this._intro=!0;this._fragment=Il(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Jl({width:b,columnPadding:a}){return(b+a)/3-a}function Kl({columnWidth:b,inputPadding:a}){return(b+a)/3-a}function Ll({inputWidth:b,numCells:a,cellPadding:c}){return(b+
c)/a-c}function Ml({columnWidth:b,numIcons:a}){return b/a}function Eg(b,a,c,d){return`M${b},${a} L${b+10},${a} L${b+40},${d} L${c},${d} m-5,-5 l5,5 l-5,5`}function Nl(){console.log("loading");let {webURL:b}=this.get();dd(b).then((a)=>{this.set({webData:a})})}function Fg(b,a,c){b=Object.create(b);b.x=a[c];return b}function Gg(b,a,c){b=Object.create(b);b.y=a[c];return b}function Hg(b,a,c){b=Object.create(b);b.icon=a[c];return b}function Ig(b,a,c){b=Object.create(b);b.x=a[c];return b}function Jg(b,a,
c){b=Object.create(b);b.y=a[c];return b}function Kg(b,a,c){b=Object.create(b);b.input=a[c];b.i=c;return b}function Ol(b,a){for(var c,d,e,k,g,h,l,v,m,n,u,q,w,y,x,I,aa,B,W,C=a.inputs,G=[],K=0;K<C.length;K+=1)G[K]=Lg(b,Kg(a,C,K));var J=a.webData,H=[];for(K=0;K<J.length;K+=1)H[K]=Mg(b,Hg(a,J,K));var M=U(a.numIcons),P=[];for(K=0;K<M.length;K+=1)P[K]=Ng(b,Gg(a,M,K));return{c(){c=t("svg");d=t("g");e=t("g");k=t("image");for(var b=0;b<G.length;b+=1)G[b].c();h=t("g");l=t("image");for(b=0;b<H.length;b+=1)H[b].c();
m=xa();for(b=0;b<P.length;b+=1)P[b].c();u=t("rect");y=t("path");I=t("rect");Xa(k,"xlink:href","assets/images/mixed4c-layout.jpg");f(k,"width",a.columnWidth);f(k,"height",a.columnWidth);f(e,"transform",g="translate("+1*(a.columnWidth+a.columnPadding)+", 0)");f(l,"opacity",v=0<a.webData.length?1:0);Xa(l,"xlink:href",a.renderURL);f(l,"width",a.columnWidth);f(l,"height",a.columnWidth);f(h,"transform",n="translate("+2*(a.columnWidth+a.columnPadding)+", 0)");f(u,"fill","none");f(u,"stroke","black");f(u,
"stroke-width","2");f(u,"x",q=1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);f(u,"y",w=a.iconHighlight.y*a.iconWidth);f(u,"width",a.iconWidth);f(u,"height",a.iconWidth);f(y,"fill","none");f(y,"stroke","black");f(y,"d",x="M"+(1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth+a.iconWidth/2)+","+a.iconHighlight.y*a.iconWidth+"l0,-30 l"+(a.columnWidth+a.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5");f(I,"fill","none");f(I,"stroke","black");f(I,"stroke-width","2");f(I,"x",
aa=2*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);f(I,"y",B=a.iconHighlight.y*a.iconWidth);f(I,"width",a.iconWidth);f(I,"height",a.iconWidth);f(d,"transform","translate(0, 40)");p(c,"width","100%");f(c,"viewBox",W="0 0 "+a.width+" "+a.height)},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(k);for(a=0;a<G.length;a+=1)G[a].m(d,null);d.appendChild(h);h.appendChild(l);for(a=0;a<H.length;a+=1)H[a].m(h,null);h.appendChild(m);for(a=0;a<P.length;a+=1)P[a].m(h,
null);d.appendChild(u);d.appendChild(y);d.appendChild(I)},p(a,r){a.columnWidth&&(f(k,"width",r.columnWidth),f(k,"height",r.columnWidth));(a.columnWidth||a.columnPadding)&&g!==(g="translate("+1*(r.columnWidth+r.columnPadding)+", 0)")&&f(e,"transform",g);if(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding||a.inputPadding||a.Math||a.numCells){C=r.inputs;for(var p=0;p<C.length;p+=1){var A=Kg(r,C,p);G[p]?G[p].p(a,A):(G[p]=Lg(b,A),G[p].c(),G[p].m(d,h))}for(;p<G.length;p+=
1)G[p].d(1);G.length=C.length}a.webData&&v!==(v=0<r.webData.length?1:0)&&f(l,"opacity",v);a.renderURL&&Xa(l,"xlink:href",r.renderURL);a.columnWidth&&(f(l,"width",r.columnWidth),f(l,"height",r.columnWidth));if(a.webData||a.iconWidth){J=r.webData;for(p=0;p<J.length;p+=1)A=Hg(r,J,p),H[p]?H[p].p(a,A):(H[p]=Mg(b,A),H[p].c(),H[p].m(h,m));for(;p<H.length;p+=1)H[p].d(1);H.length=J.length}if(a.numIcons||a.iconWidth){M=U(r.numIcons);for(p=0;p<M.length;p+=1)A=Gg(r,M,p),P[p]?P[p].p(a,A):(P[p]=Ng(b,A),P[p].c(),
P[p].m(h,null));for(;p<P.length;p+=1)P[p].d(1);P.length=M.length}(a.columnWidth||a.columnPadding)&&n!==(n="translate("+2*(r.columnWidth+r.columnPadding)+", 0)")&&f(h,"transform",n);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&q!==(q=1*(r.columnWidth+r.columnPadding)+r.iconHighlight.x*r.iconWidth)&&f(u,"x",q);(a.iconHighlight||a.iconWidth)&&w!==(w=r.iconHighlight.y*r.iconWidth)&&f(u,"y",w);a.iconWidth&&(f(u,"width",r.iconWidth),f(u,"height",r.iconWidth));(a.columnWidth||a.columnPadding||
a.iconHighlight||a.iconWidth)&&x!==(x="M"+(1*(r.columnWidth+r.columnPadding)+r.iconHighlight.x*r.iconWidth+r.iconWidth/2)+","+r.iconHighlight.y*r.iconWidth+"l0,-30 l"+(r.columnWidth+r.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5")&&f(y,"d",x);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&aa!==(aa=2*(r.columnWidth+r.columnPadding)+r.iconHighlight.x*r.iconWidth)&&f(I,"x",aa);(a.iconHighlight||a.iconWidth)&&B!==(B=r.iconHighlight.y*r.iconWidth)&&f(I,"y",B);a.iconWidth&&(f(I,"width",r.iconWidth),
f(I,"height",r.iconWidth));(a.width||a.height)&&W!==(W="0 0 "+r.width+" "+r.height)&&f(c,"viewBox",W)},d(a){a&&E(c);Y(G,a);Y(H,a);Y(P,a)}}}function Og(b,a){var c,d,e;return{c(){c=t("rect");f(c,"stroke","white");f(c,"fill","#aaa");f(c,"fill-opacity","0.6");f(c,"stroke-width","2");f(c,"x",d=a.x*(a.cellWidth+a.cellPadding));f(c,"y",e=a.y*(a.cellWidth+a.cellPadding));f(c,"width",a.cellWidth);f(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numCells||a.cellWidth||a.cellPadding)&&d!==(d=
b.x*(b.cellWidth+b.cellPadding))&&f(c,"x",d);(a.numCells||a.cellWidth||a.cellPadding)&&e!==(e=b.y*(b.cellWidth+b.cellPadding))&&f(c,"y",e);a.cellWidth&&(f(c,"width",b.cellWidth),f(c,"height",b.cellWidth))},d(a){a&&E(c)}}}function Pg(b,a){for(var c,d=U(a.numCells),e=[],f=0;f<d.length;f+=1)e[f]=Og(b,Ig(a,d,f));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=xa()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numCells||a.cellWidth||a.cellPadding){d=U(f.numCells);for(var g=
0;g<d.length;g+=1){let k=Ig(f,d,g);e[g]?e[g].p(a,k):(e[g]=Og(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Y(e,a);a&&E(c)}}}function Qg(b,a){var c,d,e,k;return{c(){c=t("line");f(c,"stroke-dasharray","2 2");f(c,"y1",d=a.inputWidth+10);f(c,"y2",e=a.inputWidth+10);f(c,"x2",k=3*(a.inputWidth+a.inputPadding)-a.inputPadding);f(c,"stroke","#ddd")},m(a,b){a.insertBefore(c,b)},p(a,b){a.inputWidth&&d!==(d=b.inputWidth+10)&&f(c,"y1",d);a.inputWidth&&e!==(e=b.inputWidth+
10)&&f(c,"y2",e);(a.inputWidth||a.inputPadding)&&k!==(k=3*(b.inputWidth+b.inputPadding)-b.inputPadding)&&f(c,"x2",k)},d(a){a&&E(c)}}}function Lg(b,a){for(var c,d,e,k,g,h,l,v,r,m,u,p,w,y,x,q=(a.Math.random()+"").slice(0,5),aa,B,W=(a.Math.random()+"").slice(0,5),C,G,K,J,H,M,P,z=U(a.numCells),D=[],Q=0;Q<z.length;Q+=1)D[Q]=Pg(b,Jg(a,z,Q));var L=a.i!==a.inputs.length-1&&Qg(b,a);return{c(){c=t("g");d=t("image");k=t("g");g=t("image");for(var b=0;b<D.length;b+=1)D[b].c();v=t("rect");u=t("path");w=t("g");
y=t("text");x=n("[");aa=n(q);B=n(", ");C=n(W);G=n(", \u2026]\n          ");L&&L.c();M=t("path");Xa(d,"xlink:href",e="assets/images/"+a.input.id+".jpg");f(d,"width",a.inputWidth);f(d,"height",a.inputWidth);Xa(g,"xlink:href",h="assets/images/"+a.input.id+".jpg");f(g,"width",a.inputWidth);f(g,"height",a.inputWidth);f(k,"transform",l="translate("+(a.inputWidth+a.inputPadding)+", 0)");f(v,"fill","none");f(v,"stroke","black");f(v,"stroke-width","2");f(v,"x",r=1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+
a.cellPadding));f(v,"y",m=a.input.y*(a.cellWidth+a.cellPadding));f(v,"width",a.cellWidth);f(v,"height",a.cellWidth);f(u,"fill","none");f(u,"stroke","black");f(u,"d",p="M"+(1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding)+a.cellWidth)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" L"+(2*(a.inputWidth+a.inputPadding)-10)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" m-5,-5 l5,5 l-5,5");f(y,"font-size","9");f(y,"dy",K=a.cellWidth/1.5);f(w,"transform",J=
"translate("+2*(a.inputWidth+a.inputPadding)+", "+a.input.y*(a.cellWidth+a.cellPadding)+")");f(c,"transform",H="translate(0, "+(a.inputWidth+20)*a.i+")");f(M,"fill","none");f(M,"stroke","black");f(M,"d",P=Eg(a.columnWidth,a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2+(a.inputWidth+20)*a.i,a.columnWidth+a.columnPadding+a.columnWidth*a.input.px,a.columnWidth*a.input.py))},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(k);k.appendChild(g);for(var e=0;e<D.length;e+=1)D[e].m(k,null);c.appendChild(v);
c.appendChild(u);c.appendChild(w);w.appendChild(y);y.appendChild(x);y.appendChild(aa);y.appendChild(B);y.appendChild(C);y.appendChild(G);L&&L.m(c,null);a.insertBefore(M,b)},p(a,n){a.inputs&&e!==(e="assets/images/"+n.input.id+".jpg")&&Xa(d,"xlink:href",e);a.inputWidth&&(f(d,"width",n.inputWidth),f(d,"height",n.inputWidth));a.inputs&&h!==(h="assets/images/"+n.input.id+".jpg")&&Xa(g,"xlink:href",h);a.inputWidth&&(f(g,"width",n.inputWidth),f(g,"height",n.inputWidth));if(a.numCells||a.cellWidth||a.cellPadding){z=
U(n.numCells);for(var A=0;A<z.length;A+=1){let c=Jg(n,z,A);D[A]?D[A].p(a,c):(D[A]=Pg(b,c),D[A].c(),D[A].m(k,null))}for(;A<D.length;A+=1)D[A].d(1);D.length=z.length}(a.inputWidth||a.inputPadding)&&l!==(l="translate("+(n.inputWidth+n.inputPadding)+", 0)")&&f(k,"transform",l);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&r!==(r=1*(n.inputWidth+n.inputPadding)+n.input.x*(n.cellWidth+n.cellPadding))&&f(v,"x",r);(a.inputs||a.cellWidth||a.cellPadding)&&m!==(m=n.input.y*(n.cellWidth+
n.cellPadding))&&f(v,"y",m);a.cellWidth&&(f(v,"width",n.cellWidth),f(v,"height",n.cellWidth));(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&p!==(p="M"+(1*(n.inputWidth+n.inputPadding)+n.input.x*(n.cellWidth+n.cellPadding)+n.cellWidth)+","+(n.input.y*(n.cellWidth+n.cellPadding)+n.cellWidth/2)+" L"+(2*(n.inputWidth+n.inputPadding)-10)+","+(n.input.y*(n.cellWidth+n.cellPadding)+n.cellWidth/2)+" m-5,-5 l5,5 l-5,5")&&f(u,"d",p);a.Math&&q!==(q=(n.Math.random()+"").slice(0,5))&&R(aa,
q);a.Math&&W!==(W=(n.Math.random()+"").slice(0,5))&&R(C,W);a.cellWidth&&K!==(K=n.cellWidth/1.5)&&f(y,"dy",K);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&J!==(J="translate("+2*(n.inputWidth+n.inputPadding)+", "+n.input.y*(n.cellWidth+n.cellPadding)+")")&&f(w,"transform",J);n.i!==n.inputs.length-1?L?L.p(a,n):(L=Qg(b,n),L.c(),L.m(c,null)):L&&(L.d(1),L=null);a.inputWidth&&H!==(H="translate(0, "+(n.inputWidth+20)*n.i+")")&&f(c,"transform",H);(a.columnWidth||a.inputs||a.cellWidth||
a.cellPadding||a.inputWidth||a.columnPadding)&&P!==(P=Eg(n.columnWidth,n.input.y*(n.cellWidth+n.cellPadding)+n.cellWidth/2+(n.inputWidth+20)*n.i,n.columnWidth+n.columnPadding+n.columnWidth*n.input.px,n.columnWidth*n.input.py))&&f(M,"d",P)},d(a){a&&E(c);Y(D,a);L&&L.d();a&&E(M)}}}function Mg(b,a){var c,d,e,k;return{c(){c=t("rect");f(c,"stroke","none");f(c,"fill","white");f(c,"fill-opacity",d=50<+a.icon.n?0:1);f(c,"x",e=a.icon.y*a.iconWidth);f(c,"y",k=a.icon.x*a.iconWidth);f(c,"width",a.iconWidth);f(c,
"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){a.webData&&d!==(d=50<+b.icon.n?0:1)&&f(c,"fill-opacity",d);(a.webData||a.iconWidth)&&e!==(e=b.icon.y*b.iconWidth)&&f(c,"x",e);(a.webData||a.iconWidth)&&k!==(k=b.icon.x*b.iconWidth)&&f(c,"y",k);a.iconWidth&&(f(c,"width",b.iconWidth),f(c,"height",b.iconWidth))},d(a){a&&E(c)}}}function Rg(b,a){var c,d,e;return{c(){c=t("rect");f(c,"stroke","#ddd");f(c,"stroke-opacity","0.5");f(c,"fill","none");f(c,"stroke-width","1");f(c,"x",d=a.x*a.iconWidth);
f(c,"y",e=a.y*a.iconWidth);f(c,"width",a.iconWidth);f(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numIcons||a.iconWidth)&&d!==(d=b.x*b.iconWidth)&&f(c,"x",d);(a.numIcons||a.iconWidth)&&e!==(e=b.y*b.iconWidth)&&f(c,"y",e);a.iconWidth&&(f(c,"width",b.iconWidth),f(c,"height",b.iconWidth))},d(a){a&&E(c)}}}function Ng(b,a){for(var c,d=U(a.numIcons),e=[],f=0;f<d.length;f+=1)e[f]=Rg(b,Fg(a,d,f));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=xa()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,
b);a.insertBefore(c,b)},p(a,f){if(a.numIcons||a.iconWidth){d=U(f.numIcons);for(var g=0;g<d.length;g+=1){let k=Fg(f,d,g);e[g]?e[g].p(a,k):(e[g]=Rg(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Y(e,a);a&&E(c)}}}function Id(b){z(this,b);this._state=q(q({Math},{width:1E3,height:380,columnPadding:50,inputPadding:20,numCells:6,cellPadding:0,numIcons:10,iconHighlight:{x:2,y:0},layoutData:[],webData:[],webURL:"https://storage.googleapis.com/activation-atlas/build/process/web/web--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",
dataURL:"https://storage.googleapis.com/activation-atlas/build/process/layout_data/layout_data--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",renderURL:"https://storage.googleapis.com/activation-atlas/build/process/render/render--x=0--y=0--tries=4--alpha=False--tile_size=10--whiten=true--steps=2048--icon_size=80--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.jpg",
inputs:[{id:"dogcat",x:2,y:1,px:.25,py:.033},{id:"dog",x:3,y:3,px:.28,py:.066},{id:"ocean",x:2,y:3,px:.25,py:.85}]}),b.data);this._recompute({width:1,columnPadding:1,columnWidth:1,inputPadding:1,inputWidth:1,numCells:1,cellPadding:1,numIcons:1},this._state);this._intro=!0;this._fragment=Ol(this,this._state);this.root._oncreate.push(()=>{Nl.call(this);this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Pl(){setTimeout(()=>
{this.refs.atlas.home()},100)}function Ql({}){}function Rl(b,a){function c(){b.set({gridSize:t.__value})}function d(){b.set({gridSize:q.__value})}function e(){b.set({gridSize:C.__value})}function k(){b.set({gridSize:H.__value})}function g(){b.set({showLabels:F.checked})}function h(){b.set({clientWidth:N.clientWidth,clientHeight:N.clientHeight})}var l,v,r,A,u,t,w,y,x,q,B,z,W,C,G,K,D,H,M,P,Z,F,Q,L,N,da,pa={id:"inceptionv1_"+a.layerName,scaleCountFactor:"200",iconCrop:a.iconCrop,disableBehaviors:!0};
if(void 0!==a.gridSize){pa.gridSize=a.gridSize;var O=!0}if(void 0!==a.showLabels){pa.showLabels=a.showLabels;var T=!0}var R=new Rb({root:b.root,store:b.store,data:pa,_bind(a,c){var d={};!O&&a.gridSize&&(d.gridSize=c.gridSize);!T&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);T=O=void 0}});b.root._beforecreate.push(()=>{R._bind({gridSize:1,showLabels:1},R.get())});b.refs.atlas=R;pa={clientWidth:a.clientWidth,clientHeight:a.clientHeight,minWidth:1E3};var U=new Qc({root:b.root,store:b.store,slots:{default:V()},
data:pa});return{c(){l=m("div");v=m("div");r=m("label");r.textContent="Grid size:";A=n("\n    ");u=m("label");t=m("input");w=n(" 20x20");y=n("\n    ");x=m("label");q=m("input");B=n(" 40x40");z=n("\n    ");W=m("label");C=m("input");G=n(" 80x80");K=n("\n    ");D=m("label");H=m("input");M=n(" 160x160");P=n("\n\n    ");Z=m("label");F=m("input");Q=n(" attribution labels");L=n("\n\n\n");N=m("div");R._fragment.c();U._fragment.c();b._bindingGroups[0].push(t);t.addEventListener("change",c,void 0);f(t,"type",
"radio");t.__value=0;t.value=t.__value;t.className="svelte-1q4832y";b._bindingGroups[0].push(q);q.addEventListener("change",d,void 0);f(q,"type","radio");q.__value=1;q.value=q.__value;q.className="svelte-1q4832y";b._bindingGroups[0].push(C);C.addEventListener("change",e,void 0);f(C,"type","radio");C.__value=2;C.value=C.__value;C.className="svelte-1q4832y";b._bindingGroups[0].push(H);H.addEventListener("change",k,void 0);f(H,"type","radio");H.__value=3;H.value=H.__value;H.className="svelte-1q4832y";
F.addEventListener("change",g,void 0);f(F,"type","checkbox");F.className="svelte-1q4832y";p(Z,"float","right");p(v,"grid-column","text");v.className="svelte-1q4832y svelte-ref-controls";l.className="base-grid";b.root._beforecreate.push(h);N.className="atlas svelte-1q4832y";p(N,"grid-column","screen")},m(c,d){c.insertBefore(l,d);l.appendChild(v);v.appendChild(r);v.appendChild(A);v.appendChild(u);u.appendChild(t);t.checked=t.__value===a.gridSize;u.appendChild(w);v.appendChild(y);v.appendChild(x);x.appendChild(q);
q.checked=q.__value===a.gridSize;x.appendChild(B);v.appendChild(z);v.appendChild(W);W.appendChild(C);C.checked=C.__value===a.gridSize;W.appendChild(G);v.appendChild(K);v.appendChild(D);D.appendChild(H);H.checked=H.__value===a.gridSize;D.appendChild(M);v.appendChild(P);v.appendChild(Z);Z.appendChild(F);F.checked=a.showLabels;Z.appendChild(Q);b.refs.controls=v;c.insertBefore(L,d);c.insertBefore(N,d);R._mount(U._slotted.default,null);U._mount(N,null);da=Aa(N,h)},p(b,c){a=c;b.gridSize&&(t.checked=t.__value===
a.gridSize);b.gridSize&&(q.checked=q.__value===a.gridSize);b.gridSize&&(C.checked=C.__value===a.gridSize);b.gridSize&&(H.checked=H.__value===a.gridSize);b.showLabels&&(F.checked=a.showLabels);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);b.iconCrop&&(c.iconCrop=a.iconCrop);!O&&b.gridSize&&(c.gridSize=a.gridSize,O=void 0!==a.gridSize);!T&&b.showLabels&&(c.showLabels=a.showLabels,T=void 0!==a.showLabels);R._set(c);T=O=void 0;c={};b.clientWidth&&(c.clientWidth=a.clientWidth);b.clientHeight&&(c.clientHeight=
a.clientHeight);U._set(c)},d(a){a&&E(l);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(t),1);t.removeEventListener("change",c,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(q),1);q.removeEventListener("change",d,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(C),1);C.removeEventListener("change",e,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(H),1);H.removeEventListener("change",k,void 0);F.removeEventListener("change",g,void 0);b.refs.controls===
v&&(b.refs.controls=null);a&&(E(L),E(N));R.destroy();b.refs.atlas===R&&(b.refs.atlas=null);U.destroy();da.cancel()}}}function Sg(b){z(this,b);this.refs={};this._state=q({layerName:"mixed4c",gridSize:1,iconCrop:.4},b.data);this._bindingGroups=[[]];this._intro=!0;this._handlers.update=[Ql];this._fragment=Rl(this,this._state);this.root._oncreate.push(()=>{Pl.call(this);this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),
D(this))}function Sl(b,a){var c,d,e,f,g,h,l,v,r,A,u,t,w,y={id:"inceptionv1_"+a.layerName,textShadow:!0,backgroundColor:"#dfdfdf"};if(void 0!==a.gridSize){y.gridSize=a.gridSize;var x=!0}if(void 0!==a.homeX){y.homeX=a.homeX;var q=!0}if(void 0!==a.homeY){y.homeY=a.homeY;var B=!0}if(void 0!==a.homeScale){y.homeScale=a.homeScale;var D=!0}if(void 0!==a.aspectRatio){y.aspectRatio=a.aspectRatio;var z=!0}if(void 0!==a.scale){y.scale=a.scale;var C=!0}if(void 0!==a.extent){y.extent=a.extent;var G=!0}if(void 0!==
a.showLabels){y.showLabels=a.showLabels;var K=!0}var J=new Rb({root:b.root,store:b.store,data:y,_bind(a,c){var d={};!x&&a.gridSize&&(d.gridSize=c.gridSize);!q&&a.homeX&&(d.homeX=c.homeX);!B&&a.homeY&&(d.homeY=c.homeY);!D&&a.homeScale&&(d.homeScale=c.homeScale);!z&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!C&&a.scale&&(d.scale=c.scale);!G&&a.extent&&(d.extent=c.extent);!K&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);K=G=C=z=D=B=q=x=void 0}});b.root._beforecreate.push(()=>{J._bind({gridSize:1,
homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,extent:1,showLabels:1},J.get())});b.refs.atlas=J;y={};if(void 0!==a.extent){y.extent=a.extent;var H=!0}var M=new vb({root:b.root,store:b.store,data:y,_bind(a,c){var d={};!H&&a.extent&&(d.extent=c.extent);b._set(d);H=void 0}});b.root._beforecreate.push(()=>{M._bind({extent:1},M.get())});M.on("drag",function(a){b.refs.atlas.translateTo(a.gcx,a.gcy)});var P=new Fb({root:b.root,store:b.store,data:{name:"home",color:"rgb(100, 100, 100)"}}),F=new Ob({root:b.root,
store:b.store,slots:{default:V()},data:{backgroundColor:"rgb(245, 245 ,245)"}});F.on("click",function(a){b.refs.atlas.home(2E3)});var N=new Fb({root:b.root,store:b.store,data:{name:"add",color:"rgb(100, 100, 100)"}}),Q=new Ob({root:b.root,store:b.store,slots:{default:V()},data:{backgroundColor:"rgb(245, 245 ,245)"}});Q.on("click",function(a){b.refs.atlas.scaleBy(2)});var L=new Fb({root:b.root,store:b.store,data:{name:"remove",color:"rgb(100, 100, 100)"}}),O=new Ob({root:b.root,store:b.store,slots:{default:V()},
data:{backgroundColor:"rgb(245, 245 ,245)"}});O.on("click",function(a){b.refs.atlas.scaleBy(.5)});return{c(){c=m("div");d=m("div");J._fragment.c();e=n("\n  ");f=m("div");g=m("div");h=m("img");r=n("\n      ");M._fragment.c();A=n("\n    ");u=m("div");P._fragment.c();F._fragment.c();t=n("\n      ");N._fragment.c();Q._fragment.c();w=n("\n      ");L._fragment.c();O._fragment.c();d.className="detail svelte-12h17x1";h.src=l="assets/images/renders/thumbnail-"+a.layerName+".jpg";h.alt=v="thumbnail for "+a.layerName;
h.className="svelte-12h17x1";g.className="atlas svelte-12h17x1";u.className="controls svelte-12h17x1";p(c,"display","grid");p(c,"grid-gap","20px");p(c,"grid-template-columns","1fr 120px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);J._mount(d,null);c.appendChild(e);c.appendChild(f);f.appendChild(g);g.appendChild(h);g.appendChild(r);M._mount(g,null);f.appendChild(A);f.appendChild(u);P._mount(F._slotted.default,null);F._mount(u,null);u.appendChild(t);N._mount(Q._slotted.default,null);Q._mount(u,null);
u.appendChild(w);L._mount(O._slotted.default,null);O._mount(u,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!x&&b.gridSize&&(c.gridSize=a.gridSize,x=void 0!==a.gridSize);!q&&b.homeX&&(c.homeX=a.homeX,q=void 0!==a.homeX);!B&&b.homeY&&(c.homeY=a.homeY,B=void 0!==a.homeY);!D&&b.homeScale&&(c.homeScale=a.homeScale,D=void 0!==a.homeScale);!z&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,z=void 0!==a.aspectRatio);!C&&b.scale&&(c.scale=a.scale,C=void 0!==a.scale);!G&&b.extent&&(c.extent=
a.extent,G=void 0!==a.extent);!K&&b.showLabels&&(c.showLabels=a.showLabels,K=void 0!==a.showLabels);J._set(c);K=G=C=z=D=B=q=x=void 0;b.layerName&&l!==(l="assets/images/renders/thumbnail-"+a.layerName+".jpg")&&(h.src=l);b.layerName&&v!==(v="thumbnail for "+a.layerName)&&(h.alt=v);c={};!H&&b.extent&&(c.extent=a.extent,H=void 0!==a.extent);M._set(c);H=void 0},d(a){a&&E(c);J.destroy();b.refs.atlas===J&&(b.refs.atlas=null);M.destroy();P.destroy();F.destroy();N.destroy();Q.destroy();L.destroy();O.destroy()}}}
function hb(b){z(this,b);this.refs={};this._state=q({layerName:"mixed4c",gridSize:2,homeScale:14,showLabels:!0},b.data);this._intro=!0;this._fragment=Sl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Tl({width:b}){return b}function Ul(b,a){var c,d;return{c(){c=m("div");d=m("canvas");p(d,"position","absolute");p(d,"top","0");p(d,"left","calc(50% - "+a.width/2+"px)");d.className="singleIcon";d.width=a.width;d.height=a.height;p(c,"position","relative");
p(c,"overflow","hidden");p(c,"height",""+a.width+"px")},m(a,f){a.insertBefore(c,f);c.appendChild(d);b.refs.canvas=d},p(a,b){a.width&&(p(d,"left","calc(50% - "+b.width/2+"px)"),d.width=b.width);a.height&&(d.height=b.height);a.width&&p(c,"height",""+b.width+"px")},d(a){a&&E(c);b.refs.canvas===d&&(b.refs.canvas=null)}}}function Sc(b){z(this,b);this.refs={};this._state=q({iconCrop:0,width:null,icon:null,config:null},b.data);this._recompute({width:1},this._state);this._intro=!0;this._fragment=Ul(this,
this._state);this.root._oncreate.push(()=>{this.render();this.fire("update",{changed:wa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function Vl({layerName:b}){return"inceptionv1_"+b}function Wl({pointList:b,layers:a,pathZoomIndex:c}){let d=[];b.forEach((b)=>{if(a&&a[c]){var e=Math.floor(b[0]*a[c].length);b=Math.floor(b[1]*a[c].length);a[c][b]&&a[c][b][e]&&0<a[c][b][e].num_activations&&d.push(a[c][b][e])}});return d}function Xl({layers:b}){return b?
b.length-1:1}function Tg(b,a,c){b=Object.create(b);b.icon=a[c];b.i=c;return b}function Yl(b,a){function c(){b.set({width:d.clientWidth,height:d.clientHeight})}for(var d,e,k,g,h,l,v,r,A,u,q,w,y,x,I=a.imgList,B=[],D=0;D<I.length;D+=1)B[D]=Ug(b,Tg(a,I,D));D={id:a.fullId};void 0!==a.config&&(D.config=a.config,y=!0);void 0!==a.layers&&(D.layers=a.layers,x=!0);var z=new ld({root:b.root,store:b.store,data:D,_bind(a,c){var d={};!y&&a.config&&(d.config=c.config);!x&&a.layers&&(d.layers=c.layers);b._set(d);
x=y=void 0}});b.root._beforecreate.push(()=>{z._bind({config:1,layers:1},z.get())});return{c(){d=m("div");e=m("div");k=m("div");g=n("\n    ");h=m("div");l=n("\n    ");v=t("svg");r=t("path");A=n("\n  ");u=m("div");for(var q=0;q<B.length;q+=1)B[q].c();w=n("\n\n  ");z._fragment.c();p(k,"position","absolute");p(k,"left","0px");p(k,"top","1px");p(k,"background-color",a.color);p(k,"border-radius","50%");p(k,"width","8px");p(k,"height","8px");p(h,"position","relative");p(h,"top","4px");p(h,"margin","0 4px");
p(h,"border-top","solid 2px "+a.color);f(r,"d","M 0 0 L 10 5 L 0 10 z");f(r,"fill",a.color);p(v,"position","absolute");p(v,"right","0");p(v,"top","0");f(v,"width","10");f(v,"height","10");f(v,"viewBox","0 0 10 10");p(e,"position","relative");p(e,"height","10px");u.className="icons svelte-w4igyz";p(u,"height",""+a.iconHeight+"px");b.root._beforecreate.push(c);d.className="set-of-icons svelte-w4igyz"},m(a,f){a.insertBefore(d,f);d.appendChild(e);e.appendChild(k);e.appendChild(g);e.appendChild(h);e.appendChild(l);
e.appendChild(v);v.appendChild(r);d.appendChild(A);d.appendChild(u);for(var m=0;m<B.length;m+=1)B[m].m(u,null);b.refs.icons=u;q=Aa(d,c);b.refs.annotation=d;a.insertBefore(w,f);z._mount(a,f)},p(c,d){a=d;c.color&&(p(k,"background-color",a.color),p(h,"border-top","solid 2px "+a.color),f(r,"fill",a.color));if(c.imgList||c.iconHeight||c.config){I=a.imgList;for(d=0;d<I.length;d+=1){let e=Tg(a,I,d);B[d]?B[d].p(c,e):(B[d]=Ug(b,e),B[d].c(),B[d].m(u,null))}for(;d<B.length;d+=1)B[d].d(1);B.length=I.length}c.iconHeight&&
p(u,"height",""+a.iconHeight+"px");d={};c.fullId&&(d.id=a.fullId);!y&&c.config&&(d.config=a.config,y=void 0!==a.config);!x&&c.layers&&(d.layers=a.layers,x=void 0!==a.layers);z._set(d);x=y=void 0},d(a){a&&E(d);Y(B,a);b.refs.icons===u&&(b.refs.icons=null);q.cancel();b.refs.annotation===d&&(b.refs.annotation=null);a&&E(w);z.destroy(a)}}}function Ug(b,a){var c=new Sc({root:b.root,store:b.store,data:{icon:a.icon,width:a.iconHeight,config:a.config}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,
b){var d={};a.imgList&&(d.icon=b.icon);a.iconHeight&&(d.width=b.iconHeight);a.config&&(d.config=b.config);c._set(d)},d(a){c.destroy(a)}}}function Jd(b){z(this,b);this.refs={};this._state=q({container:null,arrow:null,arrowHeight:30,imgList:[],color:"#ff6600",iconHeight:100,width:100,height:100},b.data);this._recompute({layerName:1,layers:1,pointList:1,pathZoomIndex:1},this._state);this._intro=!0;this._fragment=Yl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}
function Zl({pointList:b}){return b.length}function $l({viewWidth:b,viewHeight:a}){return b&&a?Math.min(b,a):0}function am({viewWidth:b,viewHeight:a,edgeLength:c}){return b&&a?[(b-c)/2,(a-c)/2]:[0,0]}function bm({pointList:b,edgeLength:a}){let c=[],d="M";b.forEach(function(b){d=d+b[0]*a+" "+b[1]*a+" L"});c.push(d.substring(0,d.length-2));return c}function cm(b,a){var c,d,e,k,g,h,l,v,r,p,u,q,w,y,x,B,E,D,z=a.ready&&Vg(b,a),C=new N({root:b.root,store:b.store,data:{background:!1,border:!1,aspectRatio:1,
src:"assets/images/renders/thumbnail-"+a.layerName+".jpg",alt:"thumbnail for "+a.layerName,style:"width: 100%;display: block;"}}),G={};if(void 0!==a.ready){G.ready=a.ready;var K=!0}var J=new Ya({root:b.root,store:b.store,slots:{default:V()},data:G,_bind(a,c){var d={};!K&&a.ready&&(d.ready=c.ready);b._set(d);K=void 0}});b.root._beforecreate.push(()=>{J._bind({ready:1},J.get())});return{c(){c=m("div");d=m("div");z&&z.c();e=n("\n  ");k=m("div");g=m("div");C._fragment.c();h=n("\n    ");l=t("svg");v=t("defs");
r=t("marker");p=t("circle");q=t("marker");w=t("path");x=t("path");J._fragment.c();d.className="arrow";g.className="thumbnail svelte-14ap8kx";f(p,"cx","5");f(p,"cy","5");f(p,"r","3");f(r,"id",u="head"+a.uniqueId);f(r,"fill",a.color);f(r,"viewBox","0 0 10 10");f(r,"refX","5");f(r,"refY","5");f(r,"markerWidth","5");f(r,"markerHeight","5");f(r,"orient","auto-start-reverse");f(w,"d","M 0 0 L 10 5 L 0 10 z");f(q,"id",y="arrow"+a.uniqueId);f(q,"fill",a.color);f(q,"viewBox","0 0 10 10");f(q,"refX","5");f(q,
"refY","5");f(q,"markerWidth","3");f(q,"markerHeight","3");f(q,"orient","auto-start-reverse");f(x,"d",a.path_d);f(x,"stroke",a.color);f(x,"stroke-width","3");f(x,"fill","transparent");f(x,"marker-end",B="url(#arrow"+a.uniqueId+")");f(x,"marker-start",E="url(#head"+a.uniqueId+")");f(l,"viewBox",D="0 0 "+a.viewWidth+" "+a.viewHeight);f(l,"class","pathArrow svelte-14ap8kx");k.className="atlas svelte-14ap8kx";c.className="showapath svelte-14ap8kx"},m(a,f){J._slotted.default.appendChild(c);c.appendChild(d);
z&&z.m(d,null);c.appendChild(e);c.appendChild(k);k.appendChild(g);C._mount(g,null);k.appendChild(h);k.appendChild(l);l.appendChild(v);v.appendChild(r);r.appendChild(p);v.appendChild(q);q.appendChild(w);l.appendChild(x);b.refs.clickPath=x;J._mount(a,f)},p(c,e){a=e;a.ready?z?z.p(c,a):(z=Vg(b,a),z.c(),z.m(d,null)):z&&(z.d(1),z=null);e={};c.layerName&&(e.src="assets/images/renders/thumbnail-"+a.layerName+".jpg");c.layerName&&(e.alt="thumbnail for "+a.layerName);C._set(e);c.uniqueId&&u!==(u="head"+a.uniqueId)&&
f(r,"id",u);c.color&&f(r,"fill",a.color);c.uniqueId&&y!==(y="arrow"+a.uniqueId)&&f(q,"id",y);c.color&&f(q,"fill",a.color);c.path_d&&f(x,"d",a.path_d);c.color&&f(x,"stroke",a.color);c.uniqueId&&B!==(B="url(#arrow"+a.uniqueId+")")&&f(x,"marker-end",B);c.uniqueId&&E!==(E="url(#head"+a.uniqueId+")")&&f(x,"marker-start",E);(c.viewWidth||c.viewHeight)&&D!==(D="0 0 "+a.viewWidth+" "+a.viewHeight)&&f(l,"viewBox",D);e={};!K&&c.ready&&(e.ready=a.ready,K=void 0!==a.ready);J._set(e);K=void 0},d(a){z&&z.d();C.destroy();
b.refs.clickPath===x&&(b.refs.clickPath=null);J.destroy(a)}}}function Vg(b,a){var c=new Jd({root:b.root,store:b.store,data:{pointList:a.pointList,color:a.color,layerName:a.layerName}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.pointList&&(d.pointList=b.pointList);a.color&&(d.color=b.color);a.layerName&&(d.layerName=b.layerName);c._set(d)},d(a){c.destroy(a)}}}function Wa(b){z(this,b);this.refs={};this._state=q({gridSize:1,viewWidth:160,viewHeight:160,height:160,color:"#ff6600",
uniqueId:Math.random(),pointList:[]},b.data);this._recompute({pointList:1,viewWidth:1,viewHeight:1,edgeLength:1,topLeft:1},this._state);this._intro=!0;this._fragment=cm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function dm({scale:b}){return 1/b}function em({scale:b,aspectRatio:a}){return 1/b*a}function fm({gcx:b,w:a}){return b-a/2}function gm({gcy:b,h:a}){return b-a/2}function hm({l:b,w:a}){return b+a}function im({t:b,h:a}){return b+a}function jm({l:b,
width:a}){return b*a}function km({r:b,width:a}){return b*a}function lm({t:b,height:a}){return b*a}function mm({b,height:a}){return b*a}function nm(b,a){function c(){b.set({width:d.clientWidth,height:d.clientHeight})}var d,e,f=a.scale&&Wg(b,a);return{c(){d=m("div");f&&f.c();b.root._beforecreate.push(c);d.className="root svelte-dv91mv"},m(a,b){a.insertBefore(d,b);f&&f.m(d,null);e=Aa(d,c)},p(a,c){c.scale?f?f.p(a,c):(f=Wg(b,c),f.c(),f.m(d,null)):f&&(f.d(1),f=null)},d(a){a&&E(d);f&&f.d();e.cancel()}}}
function Wg(b,a){function c(a){b.mouseMove(a)}function d(a){b.mouseUp(a)}function e(a){b.mouseMove(a)}function k(a){b.mouseDown(a)}function g(a){b.mouseUp(a)}var h,l,v,r,A,u,q,w=a.annotationValue&&Xg(b,a);return{c(){h=t("svg");l=t("path");A=n("\n  ");u=m("div");w&&w.c();l.addEventListener("mousemove",c,void 0);l.addEventListener("mouseup",d,void 0);f(l,"class",v=(a.background?"":"transparent")+" svelte-dv91mv");f(l,"d",r="M0,0 L"+a.width+",0 L"+a.width+","+a.height+" L0,"+a.height+" z M"+a.left+","+
a.top+" L"+a.left+","+a.bottom+" L"+a.right+","+a.bottom+"  L"+a.right+","+a.top+" z");f(h,"width",a.width);f(h,"height",a.height);f(h,"class","svelte-dv91mv");u.addEventListener("mousemove",e,void 0);u.addEventListener("mousedown",k,void 0);u.addEventListener("mouseup",g,void 0);u.className=q="reticle "+(a.round?"round":"")+" svelte-dv91mv";p(u,"box-sizing","content-box");p(u,"border-color",a.color);p(u,"top",""+(a.top-2.5)+"px");p(u,"left",""+(a.left-2.5)+"px");p(u,"width",""+(a.right-a.left-1)+
"px");p(u,"height",""+(a.bottom-a.top-1)+"px");p(u,"cursor",(a.enableDragging?"move":"default")+"\n      ")},m(a,b){a.insertBefore(h,b);h.appendChild(l);a.insertBefore(A,b);a.insertBefore(u,b);w&&w.m(u,null)},p(a,c){a.background&&v!==(v=(c.background?"":"transparent")+" svelte-dv91mv")&&f(l,"class",v);(a.width||a.height||a.left||a.top||a.bottom||a.right)&&r!==(r="M0,0 L"+c.width+",0 L"+c.width+","+c.height+" L0,"+c.height+" z M"+c.left+","+c.top+" L"+c.left+","+c.bottom+" L"+c.right+","+c.bottom+
"  L"+c.right+","+c.top+" z")&&f(l,"d",r);a.width&&f(h,"width",c.width);a.height&&f(h,"height",c.height);c.annotationValue?w?w.p(a,c):(w=Xg(b,c),w.c(),w.m(u,null)):w&&(w.d(1),w=null);a.round&&q!==(q="reticle "+(c.round?"round":"")+" svelte-dv91mv")&&(u.className=q);a.color&&p(u,"border-color",c.color);a.top&&p(u,"top",""+(c.top-2.5)+"px");a.left&&p(u,"left",""+(c.left-2.5)+"px");(a.right||a.left)&&p(u,"width",""+(c.right-c.left-1)+"px");(a.bottom||a.top)&&p(u,"height",""+(c.bottom-c.top-1)+"px");
a.enableDragging&&p(u,"cursor",(c.enableDragging?"move":"default")+"\n      ")},d(a){a&&E(h);l.removeEventListener("mousemove",c,void 0);l.removeEventListener("mouseup",d,void 0);a&&(E(A),E(u));w&&w.d();u.removeEventListener("mousemove",e,void 0);u.removeEventListener("mousedown",k,void 0);u.removeEventListener("mouseup",g,void 0)}}}function Xg(b,a){var c,d,e,f;return{c(){c=m("div");d=m("div");e=m("div");f=n(a.annotationValue);e.className="annotation svelte-dv91mv";d.className="annotationTab svelte-dv91mv";
p(d,"background",a.color);c.className="annotationTabParent svelte-dv91mv";p(c,"top",""+(a.w*a.width-2)/2+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(f)},p(a,b){a.annotationValue&&R(f,b.annotationValue);a.color&&p(d,"background",b.color);(a.w||a.width)&&p(c,"top",""+(b.w*b.width-2)/2+"px")},d(a){a&&E(c)}}}function ra(b){z(this,b);this._state=q({width:0,height:0,dragging:!1,startPos:{x:-100,y:-100},background:!0,round:!1,color:"#ff6600",enableDragging:!0},b.data);
this._recompute({scale:1,aspectRatio:1,gcx:1,w:1,width:1,gcy:1,h:1,height:1,l:1,t:1,r:1,b:1},this._state);this._intro=!0;this._fragment=nm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function om(b,a){var c,d,e,f,g,h,l,v,r,q=new N({root:b.root,store:b.store,data:{src:"assets/images/renders/layers-"+a.subject+"-"+a.index+".jpg",aspectRatio:4/3,border:!1}}),u=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/thumbnail-"+
a.layerName+".jpg",alt:"thumbnail for "+a.layerName}}),t=new ra({root:b.root,store:b.store,data:{aspectRatio:4/3,scale:a.homeScale,gcx:a.homeX,gcy:a.homeY,enableDragging:!1}});return{c(){c=m("div");d=m("div");q._fragment.c();e=n("\n\n  ");f=m("div");g=m("div");h=m("div");u._fragment.c();l=n("\n      ");t._fragment.c();v=n("\n\n  ");r=m("div");d.className="atlas svelte-1crd5r";p(h,"opacity","0.4");p(g,"position","relative");f.className="thumbnail svelte-1crd5r";r.className="figcaption svelte-1crd5r";
c.className="root svelte-1crd5r"},m(b,k){b.insertBefore(c,k);c.appendChild(d);q._mount(d,null);c.appendChild(e);c.appendChild(f);f.appendChild(g);g.appendChild(h);u._mount(h,null);g.appendChild(l);t._mount(g,null);c.appendChild(v);c.appendChild(r);r.innerHTML=a.caption},p(a,b){var c={};if(a.subject||a.index)c.src="assets/images/renders/layers-"+b.subject+"-"+b.index+".jpg";q._set(c);c={};a.layerName&&(c.src="assets/images/renders/thumbnail-"+b.layerName+".jpg");a.layerName&&(c.alt="thumbnail for "+
b.layerName);u._set(c);c={};a.homeScale&&(c.scale=b.homeScale);a.homeX&&(c.gcx=b.homeX);a.homeY&&(c.gcy=b.homeY);t._set(c);a.caption&&(r.innerHTML=b.caption)},d(a){a&&E(c);q.destroy();u.destroy();t.destroy()}}}function Yg(b){z(this,b);this._state=q({caption:"",layerName:"mixed4c",gridSize:3,homeScale:48,showLabels:!0},b.data);this._intro=!0;this._fragment=om(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function pm(b,a){var c,d,e=b._slotted.default,f,g=a.label&&
Zg(b,a);return{c(){c=m("div");d=m("div");f=n("\n  ");g&&g.c();d.className="loupe svelte-k0t0vh";p(d,"border-color",a.color);c.className="root svelte-k0t0vh";p(c,"width",""+a.width+"px");p(c,"height",""+a.height+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);e&&d.appendChild(e);c.appendChild(f);g&&g.m(c,null)},p(a,e){a.color&&p(d,"border-color",e.color);e.label?g?g.p(a,e):(g=Zg(b,e),g.c(),g.m(c,null)):g&&(g.d(1),g=null);a.width&&p(c,"width",""+e.width+"px");a.height&&p(c,"height",""+e.height+"px")},
d(a){a&&E(c);e&&oa(d,e);g&&g.d()}}}function Zg(b,a){var c,d;return{c(){c=m("div");d=n(a.label);c.className="label svelte-k0t0vh";p(c,"background-color",a.color)},m(a,b){a.insertBefore(c,b);c.appendChild(d)},p(a,b){a.label&&R(d,b.label);a.color&&p(c,"background-color",b.color)},d(a){a&&E(c)}}}function ub(b){z(this,b);this._state=q({label:null,width:null,height:null,color:"#ff6600"},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=pm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,
b.anchor))}function qm(b,a){var c,d,e,f,g,h,l,v=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-1-1.jpg"}}),r=new ra({root:b.root,store:b.store,data:{aspectRatio:"1",scale:a.$focus1Highlight.scale,gcx:a.$focus1Highlight.x,gcy:a.$focus1Highlight.y,background:!1,round:!0,enableDragging:!1}}),p=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-1-2.jpg"}}),u=new ub({root:b.root,store:b.store,slots:{default:V()}});
return{c(){c=m("div");d=m("div");v._fragment.c();e=n("\n    ");r._fragment.c();f=n("\n  ");g=m("div");p._fragment.c();u._fragment.c();h=n("\n  ");l=m("div");l.textContent='When we map opacity to the amount that each activation contributes to "fireboat", we see a main cluster of icons showing red boats and splashing, spraying water. While there are some stray areas elsewhere, it seems that this is region of the atlas that is dedicated specifically to classifying red boats with splashing water nearby.';
d.className="main svelte-17cyjzl";g.className="detail svelte-17cyjzl";l.className="figcaption svelte-17cyjzl";c.className="root svelte-17cyjzl"},m(a,b){a.insertBefore(c,b);c.appendChild(d);v._mount(d,null);d.appendChild(e);r._mount(d,null);c.appendChild(f);c.appendChild(g);p._mount(u._slotted.default,null);u._mount(g,null);c.appendChild(h);c.appendChild(l)},p(a,b){var c={};a.$focus1Highlight&&(c.scale=b.$focus1Highlight.scale);a.$focus1Highlight&&(c.gcx=b.$focus1Highlight.x);a.$focus1Highlight&&(c.gcy=
b.$focus1Highlight.y);r._set(c)},d(a){a&&E(c);v.destroy();r.destroy();p.destroy();u.destroy()}}}function $g(b){z(this,b);this._state=q(this.store._init(["focus1Highlight"]),b.data);this.store._add(this,["focus1Highlight"]);this._intro=!0;this._handlers.destroy=[ka];this._fragment=qm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function rm(b,a){var c,d,e,f,g,h,l,v,r,p,u,q,t,y,x=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-1.jpg"}}),
B=new ra({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"3",extent:[[a.$focusHighlights[0].x,a.$focusHighlights[0].y],[a.$focusHighlights[0].x+.1,a.$focusHighlights[0].y+.1]],scale:a.$focusHighlights[0].scale,gcx:a.$focusHighlights[0].x,gcy:a.$focusHighlights[0].y,background:!1,round:!0,enableDragging:!1}}),z=new ra({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"2",scale:a.$focusHighlights[1].scale,gcx:a.$focusHighlights[1].x,gcy:a.$focusHighlights[1].y,background:!1,
round:!0,enableDragging:!1}}),D=new ra({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"1",scale:a.$focusHighlights[2].scale,gcx:a.$focusHighlights[2].x,gcy:a.$focusHighlights[2].y,background:!1,round:!0,enableDragging:!1}}),F=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-4.jpg"}}),C=new ub({root:b.root,store:b.store,slots:{default:V()},data:{label:1}}),G=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-3.jpg"}}),
K=new ub({root:b.root,store:b.store,slots:{default:V()},data:{label:2}}),J=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-2.jpg"}}),H=new ub({root:b.root,store:b.store,slots:{default:V()},data:{label:3}});return{c(){c=m("div");d=m("div");x._fragment.c();e=n("\n    ");B._fragment.c();f=n("\n    ");z._fragment.c();g=n("\n    ");D._fragment.c();h=n("\n  ");l=m("div");v=m("div");F._fragment.c();C._fragment.c();r=n("\n    ");p=m("div");G._fragment.c();
K._fragment.c();u=n("\n    ");q=m("div");J._fragment.c();H._fragment.c();t=n("\n    ");y=m("div");y.textContent='In mixed4d we see we see the attribution toward "fireboat" is high in several clusters located in different positions around the atlas. One is very focused on windows, another on geysers and splashing water, and yet another on crane-like objects.';d.className="main svelte-f72nro";v.className="loupe svelte-f72nro";p.className="loupe svelte-f72nro";q.className="loupe svelte-f72nro";y.className=
"figcaption svelte-f72nro";l.className="detail svelte-f72nro";c.className="root svelte-f72nro"},m(a,b){a.insertBefore(c,b);c.appendChild(d);x._mount(d,null);d.appendChild(e);B._mount(d,null);d.appendChild(f);z._mount(d,null);d.appendChild(g);D._mount(d,null);c.appendChild(h);c.appendChild(l);l.appendChild(v);F._mount(C._slotted.default,null);C._mount(v,null);l.appendChild(r);l.appendChild(p);G._mount(K._slotted.default,null);K._mount(p,null);l.appendChild(u);l.appendChild(q);J._mount(H._slotted.default,
null);H._mount(q,null);l.appendChild(t);l.appendChild(y)},p(a,b){var c={};a.$focusHighlights&&(c.extent=[[b.$focusHighlights[0].x,b.$focusHighlights[0].y],[b.$focusHighlights[0].x+.1,b.$focusHighlights[0].y+.1]]);a.$focusHighlights&&(c.scale=b.$focusHighlights[0].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[0].x);a.$focusHighlights&&(c.gcy=b.$focusHighlights[0].y);B._set(c);c={};a.$focusHighlights&&(c.scale=b.$focusHighlights[1].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[1].x);a.$focusHighlights&&
(c.gcy=b.$focusHighlights[1].y);z._set(c);c={};a.$focusHighlights&&(c.scale=b.$focusHighlights[2].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[2].x);a.$focusHighlights&&(c.gcy=b.$focusHighlights[2].y);D._set(c)},d(a){a&&E(c);x.destroy();B.destroy();z.destroy();D.destroy();F.destroy();C.destroy();G.destroy();K.destroy();J.destroy();H.destroy()}}}function ah(b){z(this,b);this._state=q(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=
[ka];this._fragment=rm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function bh(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function ch(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function sm(b,a){for(var c,d,e,f,g,h,l,v,r,p,u=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-1.jpg"}}),q=a.$focusHighlights,t=[],y=0;y<q.length;y+=1)t[y]=dh(b,ch(a,q,y));var x=new N({root:b.root,store:b.store,data:{border:!1,
background:!1,src:"assets/images/renders/focus-3-1.jpg"}}),B=a.$focusHighlights,z=[];for(y=0;y<B.length;y+=1)z[y]=eh(b,bh(a,B,y));return{c(){c=m("div");d=m("h4");d.textContent="Activations for Fireboat";e=n("\n  ");f=m("div");u._fragment.c();g=n("\n    ");for(var a=0;a<t.length;a+=1)t[a].c();h=n("\n  ");l=m("h4");l.textContent="Activations for Streetcar";v=n("\n  ");r=m("div");x._fragment.c();p=n("\n    ");for(a=0;a<z.length;a+=1)z[a].c();d.className="svelte-1ow7yzn";f.className="main svelte-1ow7yzn";
l.className="svelte-1ow7yzn";r.className="main svelte-1ow7yzn";c.className="root svelte-1ow7yzn"},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(e);c.appendChild(f);u._mount(f,null);f.appendChild(g);for(a=0;a<t.length;a+=1)t[a].m(f,null);c.appendChild(h);c.appendChild(l);c.appendChild(v);c.appendChild(r);x._mount(r,null);r.appendChild(p);for(a=0;a<z.length;a+=1)z[a].m(r,null)},p(a,c){if(a.$focusHighlights){q=c.$focusHighlights;for(var d=0;d<q.length;d+=1){var e=ch(c,q,d);t[d]?t[d].p(a,
e):(t[d]=dh(b,e),t[d].c(),t[d].m(f,null))}for(;d<t.length;d+=1)t[d].d(1);t.length=q.length}if(a.$focusHighlights){B=c.$focusHighlights;for(d=0;d<B.length;d+=1)e=bh(c,B,d),z[d]?z[d].p(a,e):(z[d]=eh(b,e),z[d].c(),z[d].m(r,null));for(;d<z.length;d+=1)z[d].d(1);z.length=B.length}},d(a){a&&E(c);u.destroy();Y(t,a);x.destroy();Y(z,a)}}}function dh(b,a){var c=new ra({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:a.i+1,scale:a.h.scale,gcx:a.h.x,gcy:a.h.y,background:!1,round:!0,enableDragging:!1}});
return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.$focusHighlights&&(d.scale=b.h.scale);a.$focusHighlights&&(d.gcx=b.h.x);a.$focusHighlights&&(d.gcy=b.h.y);c._set(d)},d(a){c.destroy(a)}}}function eh(b,a){var c=new ra({root:b.root,store:b.store,data:{color:"#ffaa00",aspectRatio:"1",annotationValue:a.i+1,scale:a.h.scale,gcx:a.h.x,gcy:a.h.y,background:!1,round:!0,enableDragging:!1}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.$focusHighlights&&(d.scale=b.h.scale);
a.$focusHighlights&&(d.gcx=b.h.x);a.$focusHighlights&&(d.gcy=b.h.y);c._set(d)},d(a){c.destroy(a)}}}function fh(b){z(this,b);this._state=q(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=[ka];this._fragment=sm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}function gh(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function hh(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function tm(b,
a){for(var c,d,e,f,g,h,l,v,r,q,u,t,w,y,x,z,B,D,F=a.$focusHighlights,C=[],G=0;G<F.length;G+=1)C[G]=ih(b,hh(a,F,G));var K=a.$focusHighlights,J=[];for(G=0;G<K.length;G+=1)J[G]=jh(b,gh(a,K,G));return{c(){c=m("div");d=m("h4");e=n("Fireboat");f=n("\n    ");for(var b=0;b<C.length;b+=1)C[b].c();g=n("\n\n    ");h=m("h4");l=n("Streetcar");v=n("\n    ");for(b=0;b<J.length;b+=1)J[b].c();r=n("\n\n    ");q=m("div");u=n("\n    ");t=m("div");t.textContent='At mixed4d, Both "streetcar" and "fireboat" contain activations for what look like windows.';
w=n("\n    ");y=m("div");y.textContent="Both classes contain activations for crane-like apparatuses, though they are less prominent than the window activations.";x=n("\n    ");z=m("div");z.textContent='"Fireboat" activations have much stronger attributions from water than "streetcar", where there is virtually no positive evidence.';B=n("\n    ");D=m("div");D.textContent='The activations for "streetcar" have much stronger attributions from buildings than does "fireboat".';p(d,"width",""+a.loupeSize+
"px");d.className="svelte-1946vr6";p(h,"width",""+a.loupeSize+"px");h.className="svelte-1946vr6";t.className="figcaption svelte-1946vr6";y.className="figcaption svelte-1946vr6";z.className="figcaption svelte-1946vr6";D.className="figcaption svelte-1946vr6";c.className="root svelte-1946vr6"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);c.appendChild(f);for(a=0;a<C.length;a+=1)C[a].m(c,null);c.appendChild(g);c.appendChild(h);h.appendChild(l);c.appendChild(v);for(a=0;a<J.length;a+=1)J[a].m(c,
null);c.appendChild(r);c.appendChild(q);c.appendChild(u);c.appendChild(t);c.appendChild(w);c.appendChild(y);c.appendChild(x);c.appendChild(z);c.appendChild(B);c.appendChild(D)},p(a,e){a.loupeSize&&p(d,"width",""+e.loupeSize+"px");if(a.$focusHighlights){F=e.$focusHighlights;for(var f=C.length;f<F.length;f+=1){let a=hh(e,F,f);C[f]=ih(b,a);C[f].c();C[f].m(c,g)}for(f=F.length;f<C.length;f+=1)C[f].d(1);C.length=F.length}a.loupeSize&&p(h,"width",""+e.loupeSize+"px");if(a.$focusHighlights){K=e.$focusHighlights;
for(f=J.length;f<K.length;f+=1)a=gh(e,K,f),J[f]=jh(b,a),J[f].c(),J[f].m(c,r);for(f=K.length;f<J.length;f+=1)J[f].d(1);J.length=K.length}},d(a){a&&E(c);Y(C,a);Y(J,a)}}}function ih(b,a){var c,d=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-"+(a.i+2)+".jpg"}});a={label:a.i+1};var e=new ub({root:b.root,store:b.store,slots:{default:V()},data:a});return{c(){c=m("div");d._fragment.c();e._fragment.c();c.className="loupe svelte-1946vr6"},m(a,b){a.insertBefore(c,
b);d._mount(e._slotted.default,null);e._mount(c,null)},d(a){a&&E(c);d.destroy();e.destroy()}}}function jh(b,a){var c,d=new N({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-3-"+(a.i+2)+".jpg"}});a={label:a.i+1,color:"#ffaa00"};var e=new ub({root:b.root,store:b.store,slots:{default:V()},data:a});return{c(){c=m("div");d._fragment.c();e._fragment.c();c.className="loupe svelte-1946vr6"},m(a,b){a.insertBefore(c,b);d._mount(e._slotted.default,null);e._mount(c,null)},
d(a){a&&E(c);d.destroy();e.destroy()}}}function kh(b){z(this,b);this._state=q(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=[ka];this._fragment=tm(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),D(this))}var B={destroy:function(b){this.destroy=T;this.fire("destroy");this.set=T;this._fragment.d(!1!==b);this._fragment=null;this._state={}},get:Rd,fire:Qd,on:Sd,set:function(b){this._set(q({},
b));this.root._lock||D(this.root)},_recompute:T,_set:function(b){var a=this._state,c={},d=!1;b=q(this._staged,b);this._staged={};for(var e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=q(q({},a),b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(this.fire("state",{changed:c,current:this._state,previous:a}),this._fragment.p(c,this._state),this.fire("update",{changed:c,current:this._state,previous:a})))},_stage:function(b){q(this._staged,b)},_mount:function(b,
a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_differs:Pd};q(Td.prototype,{_add(b,a){this._dependents.push({component:b,props:a})},_init(b){let a={};for(let c=0;c<b.length;c+=1){let d=b[c];a["$"+d]=this._state[d]}return a},_remove(b){let a=this._dependents.length;for(;a--;)if(this._dependents[a].component===b){this._dependents.splice(a,1);break}},_set(b,a){let c=this._state;this._state=q(q({},c),b);for(b=0;b<this._sortedComputedProperties.length;b+=1)this._sortedComputedProperties[b].update(this._state,
a);this.fire("state",{changed:a,previous:c,current:this._state});this._dependents.filter((b)=>{let c={},d=!1;for(let e=0;e<b.props.length;e+=1){let f=b.props[e];f in a&&(c["$"+f]=this._state[f],d=!0)}if(d)return b.component._stage(c),!0}).forEach((a)=>{a.component.set({})});this.fire("update",{changed:a,previous:c,current:this._state})},_sortComputedProperties(){function b(f){let g=a[f];g&&(g.deps.forEach((a)=>{if(a===e)throw Error(`Cyclical dependency detected between ${a} <-> ${f}`);b(a)}),d[f]||
(d[f]=!0,c.push(g)))}let a=this._computed,c=this._sortedComputedProperties=[],d=Object.create(null),e;for(let a in this._computed)b(e=a)},compute(b,a,c){let d,e={deps:a,update:(e,f,g)=>{var k=a.map((a)=>{a in f&&(g=!0);return e[a]});g&&(k=c.apply(null,k),this._differs(k,d)&&(d=k,f[b]=!0,e[b]=d))}};this._computed[b]=e;this._sortComputedProperties();let f=q({},this._state),g={};e.update(f,g,!0);this._set(f,g)},fire:Qd,get:Rd,on:Sd,set(b){let a=this._state,c=this._changed={},d=!1;for(let e in b){if(this._computed[e])throw Error(`'${e}' is a read-only computed property`);
this._differs(b[e],a[e])&&(c[e]=d=!0)}d&&this._set(b,c)}});var Hb={inception:"dummy;kit fox;English setter;Siberian husky;Australian terrier;English springer;grey whale;lesser panda;Egyptian cat;ibex;Persian cat;cougar;gazelle;porcupine;sea lion;malamute;badger;Great Dane;Walker hound;Welsh springer spaniel;whippet;Scottish deerhound;killer whale;mink;African elephant;Weimaraner;soft - coated wheaten terrier;Dandie Dinmont;red wolf;Old English sheepdog;jaguar;otterhound;bloodhound;Airedale;hyena;meerkat;giant schnauzer;titi;three - toed sloth;sorrel;black - footed ferret;dalmatian;black - and - tan coonhound;papillon;skunk;Staffordshire bullterrier;Mexican hairless;Bouvier des Flandres;weasel;miniature poodle;Cardigan;malinois;bighorn;fox squirrel;colobus;tiger cat;Lhasa;impala;coyote;Yorkshire terrier;Newfoundland;brown bear;red fox;Norwegian elkhound;Rottweiler;hartebeest;Saluki;grey fox;schipperke;Pekinese;Brabancon griffon;West Highland white terrier;Sealyham terrier;guenon;mongoose;indri;tiger;Irish wolfhound;wild boar;EntleBucher;zebra;ram;French bulldog;orangutan;basenji;leopard;Bernese mountain dog;Maltese dog;Norfolk terrier;toy terrier;vizsla;cairn;squirrel monkey;groenendael;clumber;Siamese cat;chimpanzee;komondor;Afghan hound;Japanese spaniel;proboscis monkey;guinea pig;white wolf;ice bear;gorilla;borzoi;toy poodle;Kerry blue terrier;ox;Scotch terrier;Tibetan mastiff;spider monkey;Doberman;Boston bull;Greater Swiss Mountain dog;Appenzeller;Shih - Tzu;Irish water spaniel;Pomeranian;Bedlington terrier;warthog;Arabian camel;siamang;miniature schnauzer;collie;golden retriever;Irish terrier;affenpinscher;Border collie;hare;boxer;silky terrier;beagle;Leonberg;German short - haired pointer;patas;dhole;baboon;macaque;Chesapeake Bay retriever;bull mastiff;kuvasz;capuchin;pug;curly - coated retriever;Norwich terrier;flat - coated retriever;hog;keeshond;Eskimo dog;Brittany spaniel;standard poodle;Lakeland terrier;snow leopard;Gordon setter;dingo;standard schnauzer;hamster;Tibetan terrier;Arctic fox;wire - haired fox terrier;basset;water buffalo;American black bear;Angora;bison;howler monkey;hippopotamus;chow;giant panda;American Staffordshire terrier;Shetland sheepdog;Great Pyrenees;Chihuahua;tabby;marmoset;Labrador retriever;Saint Bernard;armadillo;Samoyed;bluetick;redbone;polecat;marmot;kelpie;gibbon;llama;miniature pinscher;wood rabbit;Italian greyhound;lion;cocker spaniel;Irish setter;dugong;Indian elephant;beaver;Sussex spaniel;Pembroke;Blenheim spaniel;Madagascar cat;Rhodesian ridgeback;lynx;African hunting dog;langur;Ibizan hound;timber wolf;cheetah;English foxhound;briard;sloth bear;Border terrier;German shepherd;otter;koala;tusker;echidna;wallaby;platypus;wombat;revolver;umbrella;schooner;soccer ball;accordion;ant;starfish;chambered nautilus;grand piano;laptop;strawberry;airliner;warplane;airship;balloon;space shuttle;fireboat;gondola;speedboat;lifeboat;canoe;yawl;catamaran;trimaran;container ship;liner;pirate;aircraft carrier;submarine;wreck;half track;tank;missile;bobsled;dogsled;bicycle - built -for-two;mountain bike;freight car;passenger car;barrow;shopping cart;motor scooter;forklift;electric locomotive;steam locomotive;amphibian;ambulance;beach wagon;cab;convertible;jeep;limousine;minivan;Model T;racer;sports car;go-kart;golfcart;moped;snowplow;fire engine;garbage truck;pickup;tow truck;trailer truck;moving van;police van;recreational vehicle;streetcar;snowmobile;tractor;mobile home;tricycle;unicycle;horse cart;jinrikisha;oxcart;bassinet;cradle;crib;four-poster;bookcase;china cabinet;medicine chest;chiffonier;table lamp;file;park bench;barber chair;throne;folding chair;rocking chair;studio couch;toilet seat;desk;pool table;dining table;entertainment center;wardrobe;Granny Smith;orange;lemon;fig;pineapple;banana;jackfruit;custard apple;pomegranate;acorn;hip;ear;rapeseed;corn;buckeye;organ;upright;chime;drum;gong;maraca;marimba;steel drum;banjo;cello;violin;harp;acoustic guitar;electric guitar;cornet;French horn;trombone;harmonica;ocarina;panpipe;bassoon;oboe;sax;flute;daisy;yellow lady's slipper;cliff;valley;alp;volcano;promontory;sandbar;coral reef;lakeside;seashore;geyser;hatchet;cleaver;letter opener;plane;power drill;lawn mower;hammer;corkscrew;can opener;plunger;screwdriver;shovel;plow;chain saw;cock;hen;ostrich;brambling;goldfinch;house finch;junco;indigo bunting;robin;bulbul;jay;magpie;chickadee;water ouzel;kite;bald eagle;vulture;great grey owl;black grouse;ptarmigan;ruffed grouse;prairie chicken;peacock;quail;partridge;African grey;macaw;sulphur-crested cockatoo;lorikeet;coucal;bee eater;hornbill;hummingbird;jacamar;toucan;drake;red-breasted merganser;goose;black swan;white stork;black stork;spoonbill;flamingo;American egret;little blue heron;bittern;crane;limpkin;American coot;bustard;ruddy turnstone;red - backed sandpiper;redshank;dowitcher;oystercatcher;European gallinule;pelican;king penguin;albatross;great white shark;tiger shark;hammerhead;electric ray;stingray;barracouta;coho;tench;goldfish;eel;rock beauty;anemone fish;lionfish;puffer;sturgeon;gar;loggerhead;leatherback turtle;mud turtle;terrapin;box turtle;banded gecko;common iguana;American chameleon;whiptail;agama;frilled lizard;alligator lizard;Gila monster;green lizard;African chameleon;Komodo dragon;triceratops;African crocodile;American alligator;thunder snake;ringneck snake;hognose snake;green snake;king snake;garter snake;water snake;vine snake;night snake;boa constrictor;rock python;Indian cobra;green mamba;sea snake;horned viper;diamondback;sidewinder;European fire salamander;common newt;eft;spotted salamander;axolotl;bullfrog;tree frog;tailed frog;whistle;wing;paintbrush;hand blower;oxygen mask;snorkel;loudspeaker;microphone;screen;mouse;electric fan;oil filter;strainer;space heater;stove;guillotine;barometer;rule;odometer;scale;analog clock;digital clock;wall clock;hourglass;sundial;parking meter;stopwatch;digital watch;stethoscope;syringe;magnetic compass;binoculars;projector;sunglasses;loupe;radio telescope;bow;cannon [ground];assault rifle;rifle;projectile;computer keyboard;typewriter keyboard;crane;lighter;abacus;cash machine;slide rule;desktop computer;hand - held computer;notebook;web site;harvester;thresher;printer;slot;vending machine;sewing machine;joystick;switch;hook;car wheel;paddlewheel;pinwheel;potter's wheel;gas pump;carousel;swing;reel;radiator;puck;hard disc;sunglass;pick;car mirror;solar dish;remote control;disk brake;buckle;hair slide;knot;combination lock;padlock;nail;safety pin;screw;muzzle;seat belt;ski;candle;jack - o'-lantern;spotlight;torch;neck brace;pier;tripod;maypole;mousetrap;spider web;trilobite;harvestman;scorpion;black and gold garden spider;barn spider;garden spider;black widow;tarantula;wolf spider;tick;centipede;isopod;Dungeness crab;rock crab;fiddler crab;king crab;American lobster;spiny lobster;crayfish;hermit crab;tiger beetle;ladybug;ground beetle;long - horned beetle;leaf beetle;dung beetle;rhinoceros beetle;weevil;fly;bee;grasshopper;cricket;walking stick;cockroach;mantis;cicada;leafhopper;lacewing;dragonfly;damselfly;admiral;ringlet;monarch;cabbage butterfly;sulphur butterfly;lycaenid;jellyfish;sea anemone;brain coral;flatworm;nematode;conch;snail;slug;sea slug;chiton;sea urchin;sea cucumber;iron;espresso maker;microwave;Dutch oven;rotisserie;toaster;waffle iron;vacuum;dishwasher;refrigerator;washer;Crock Pot;frying pan;wok;caldron;coffeepot;teapot;spatula;altar;triumphal arch;patio;steel arch bridge;suspension bridge;viaduct;barn;greenhouse;palace;monastery;library;apiary;boathouse;church;mosque;stupa;planetarium;restaurant;cinema;home theater;lumbermill;coil;obelisk;totem pole;castle;prison;grocery store;bakery;barbershop;bookshop;butcher shop;confectionery;shoe shop;tobacco shop;toyshop;fountain;cliff dwelling;yurt;dock;brass;megalith;bannister;breakwater;dam;chainlink fence;picket fence;worm fence;stone wall;grille;sliding door;turnstile;mountain tent;scoreboard;honeycomb;plate rack;pedestal;beacon;mashed potato;bell pepper;head cabbage;broccoli;cauliflower;zucchini;spaghetti squash;acorn squash;butternut squash;cucumber;artichoke;cardoon;mushroom;shower curtain;jean;carton;handkerchief;sandal;ashcan;safe;plate;necklace;croquet ball;fur coat;thimble;pajama;running shoe;cocktail shaker;chest;manhole cover;modem;tub;tray;balance beam;bagel;prayer rug;kimono;hot pot;whiskey jug;knee pad;book jacket;spindle;ski mask;beer bottle;crash helmet;bottlecap;tile roof;mask;maillot;Petri dish;football helmet;bathing cap;teddy bear;holster;pop bottle;photocopier;vestment;crossword puzzle;golf ball;trifle;suit;water tower;feather boa;cloak;red wine;drumstick;shield;Christmas stocking;hoopskirt;menu;stage;bonnet;meat loaf;baseball;face powder;scabbard;sunscreen;beer glass;hen-of - the - woods;guacamole;lampshade;wool;hay;bow tie;mailbag;water jug;bucket;dishrag;soup bowl;eggnog;mortar;trench coat;paddle;chain;swab;mixing bowl;potpie;wine bottle;shoji;bulletproof vest;drilling platform;binder;cardigan;sweatshirt;pot;birdhouse;hamper;ping-pong ball;pencil box;pay - phone;consomme;apron;punching bag;backpack;groom;bearskin;pencil sharpener;broom;mosquito net;abaya;mortarboard;poncho;crutch;Polaroid camera;space bar;cup;racket;traffic light;quill;radio;dough;cuirass;military uniform;lipstick;shower cap;monitor;oscilloscope;mitten;brassiere;French loaf;vase;milk can;rugby ball;paper towel;earthstar;envelope;miniskirt;cowboy hat;trolleybus;perfume;bathtub;hotdog;coral fungus;bullet train;pillow;toilet tissue;cassette;carpenter's kit;ladle;stinkhorn;lotion;hair spray;academic gown;dome;crate;wig;burrito;pill bottle;chain mail;theater curtain;window shade;barrel;washbasin;ballpoint;basketball;bath towel;cowboy boot;gown;window screen;agaric;cellular telephone;nipple;barbell;mailbox;lab coat;fire screen;minibus;packet;maze;pole;horizontal bar;sombrero;pickelhaube;rain barrel;wallet;cassette player;comic book;piggy bank;street sign;bell cote;fountain pen;Windsor tie;volleyball;overskirt;sarong;purse;bolo tie;bib;parachute;sleeping bag;television;swimming trunks;measuring cup;espresso;pizza;breastplate;shopping basket;wooden spoon;saltshaker;chocolate sauce;ballplayer;goblet;gyromitra;stretcher;water bottle;dial telephone;soap dispenser;jersey;school bus;jigsaw puzzle;plastic bag;reflex camera;diaper;Band Aid;ice lolly;velvet;tennis ball;gasmask;doormat;Loafer;ice cream;pretzel;quilt;maillot;tape player;clog;iPod;bolete;scuba diver;pitcher;matchstick;bikini;sock;CD player;lens cap;thatch;vault;beaker;bubble;cheeseburger;parallel bars;flagpole;coffee mug;rubber eraser;stole;carbonara;dumbbell".split(";")};
class um extends Td{}let O=new um({scroll:!1,inceptionLabels:Hb.inception,currentClass:62,currentClassAtlasIndex:507,currentClassAtlasCompareIndex:507,classChoices:[9,622,665,652,288,233,188,169,80,76,62,61,7,355,990,746,791],classAtlasIndices:[982,507,62,9,169,7,80,76,235,41,2,442,450,454,930,378,582,780,901,946,791,738,736,744,489,387,388,399,721,672,6,665,652,288,355,348,804,600,605,631,643],multipleLayers:{abacus:[{layerName:"mixed3b",homeX:.8086,homeY:.4295,gridSize:3,homeScale:48},{layerName:"mixed4c",
homeX:.8593,homeY:.5814},{layerName:"mixed5b",homeX:.8183,homeY:.79,gridSize:4,homeScale:96}],plant:[{layerName:"mixed3b",homeX:.59,homeY:.64,gridSize:3,homeScale:48,caption:"You'll immediately notice that the early layer is very nonspecific in comparison to the others. The icons that emerge are of patterns and splotches of color. It is suggestive of the final class, but not particularly evocative."},{layerName:"mixed4c",homeX:.15,homeY:.4,caption:"By the middle layer, icons definitely resemble leaves, but they could be any type of plant. Attributions are focused on plants, but are a little all over the board."},
{layerName:"mixed5b",homeX:.178,homeY:.72,caption:"Here we see foliage with textures that are specific to cabbage, and curved into rounded balls. There are full heads of cabbage rather than individual leaves."}],water:[{layerName:"mixed4c",homeX:.365,homeY:.673,caption:'In mixed4c we see two different regions that have high attribution toward "sandbar": an area of <b>sandy textures</b>\u2026'},{layerName:"mixed4c",homeX:.318,homeY:.764,caption:"\u2026and a separate area of <b>watery textures</b>."},
{layerName:"mixed5b",homeX:.74,homeY:.48,caption:'In a later layer we see activations that contain <b>both</b> of those concepts when detecting "sandbar".'}]},currentClassComparisonIndex:0,classComparisons:[{id:"507_982",leftLabel:"snorkel",rightLabel:"scuba diver",left:507,right:982,annotation:[{pos:{x:7,y:8},desc:"train?"}]},{id:"736_744",leftLabel:"head cabbage",rightLabel:"artichoke",left:736,right:744,annotation:[]},{id:"671_672",leftLabel:"frying pan",rightLabel:"wok",left:671,right:672,annotation:[{pos:{x:1,
y:7},desc:"noodles?"}]},{id:"777_831",leftLabel:"beer bottle",rightLabel:"wine bottle",left:777,right:831,annotation:[]},{id:"543_544",leftLabel:"computer keyboard",rightLabel:"typewriter keyboard",left:543,right:544,annotation:[]},{id:"28_205",leftLabel:"red wolf",rightLabel:"timber wolf",left:28,right:205,annotation:[]},{id:"67_62",leftLabel:"grey fox",rightLabel:"red fox",left:67,right:62,annotation:[]},{id:"1_62",leftLabel:"kit fox",rightLabel:"red fox",left:1,right:62,annotation:[]},{id:"6_442",
leftLabel:Hb.inception[6],rightLabel:Hb.inception[442],left:6,right:442,annotation:[{pos:{x:2,y:7},desc:"baseball?"}]}],focus1Highlight:{scale:6,x:.844,y:.49},focusHighlights:[{scale:10,x:.873,y:.585},{scale:10,x:.709,y:.579},{scale:10,x:.221,y:.862},{scale:10,x:.807,y:.667}],pois:{mammals:{layerName:"mixed4a",gridSize:2,gcx:.6295,gcy:1-.9475,scale:8},dogs:{layerName:"mixed5a",gridSize:3,gcx:.589,gcy:1-.946,scale:10},curves:{layerName:"mixed4b",gridSize:3,gcx:.5947,gcy:.3351,scale:14},cups:{layerName:"mixed5b",
gridSize:3,gcx:.35073,gcy:.862,scale:10},patterns:{layerName:"mixed4b",gridSize:3,gcx:.91579,gcy:.32406,scale:8},text:{layerName:"mixed5a",gridSize:3,gcx:.5281,gcy:.9766,scale:19},fabric:{layerName:"mixed4b",gridSize:3,gcx:.489,gcy:.2043,scale:12},clothing:{layerName:"mixed5a",gridSize:3,gcx:.743,gcy:.48,scale:12}}});q(Nb.prototype,B);q(Nb.prototype,{mousemove:function(b){let {visible:a}=this.get();a&&this.set({x:b.clientX,y:b.clientY})},show:function(b){this.set({visible:!0});this.refs.component.set(b)},
hide:function(){this.set({visible:!1})}});Nb.prototype._recompute=function(b,a){(b.x||b.width||b.y||b.clientHeight||b.visible)&&this._differs(a.style,a.style=Ah(a))&&(b.style=!0)};var Fh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Xc.prototype=Yc.prototype;Yc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,this.precision|
0))+(this.trim?"~":"")+this.type};var Yd,Zd={"%":function(b,a){return(100*b).toFixed(a)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return Math.round(b).toString(10)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},g:function(b,a){return b.toPrecision(a)},o:function(b){return Math.round(b).toString(8)},p:function(b,a){return Vd(100*b,a)},r:Vd,s:function(b,a){var c=Db(b,a);if(!c)return b+"";var d=c[0];c=c[1];c=c-(Yd=3*Math.max(-8,
Math.min(8,Math.floor(c/3))))+1;var e=d.length;return c===e?d:c>e?d+Array(c-e+1).join("0"):0<c?d.slice(0,c)+"."+d.slice(c):"0."+Array(1-c).join("0")+Db(b,Math.max(0,a+c-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}},Xd="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),Kd,Bb;(function(b){Kd=Gh(b);Bb=Kd.format;return Kd})({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var de=Bb(".2f"),ae=Bb(",");q(ee.prototype,B);
q(Ya.prototype,B);q(Zc.prototype,B);q(ca.prototype,B);q(ca.prototype,{getComponent(){return this.refs.component}});ca.prototype._recompute=function(b,a){(b.radarReady||b.component)&&this._differs(a.ready,a.ready=Lh(a))&&(b.ready=!0);b.width&&this._differs(a.finalWidth,a.finalWidth=Mh(a))&&(b.finalWidth=!0);(b.clientWidth||b.height||b.aspectRatio||b.minHeight)&&this._differs(a.finalHeight,a.finalHeight=Nh(a))&&(b.finalHeight=!0)};q(Eb.prototype,B);Eb.prototype._recompute=function(b,a){b.clientWidth&&
this._differs(a.width,a.width=Ph(a))&&(b.width=!0);(b.width||b.aspectRatio)&&this._differs(a.height,a.height=Qh(a))&&(b.height=!0)};q(N.prototype,B);q($c.prototype,B);q(Ob.prototype,B);q(je.prototype,B);q(ke.prototype,B);q(le.prototype,B);q(Fb.prototype,B);Fb.prototype._recompute=function(b,a){b.name&&this._differs(a.Icon,a.Icon=Yh(a))&&(b.Icon=!0)};q(vb.prototype,B);q(vb.prototype,{mouseUp(){let {mouseMoveListener:b,mouseUpListener:a}=this.get();window.removeEventListener("mousemove",b);window.removeEventListener("mouseup",
a)},mouseDown(b){b.preventDefault();var {enableDragging:a}=this.get();a&&this.mouseMove(b);b=this.mouseUp.bind(this);a=this.mouseMove.bind(this);window.addEventListener("mousemove",a);window.addEventListener("mouseup",b);this.set({mouseMoveListener:a,mouseUpListener:b})},mouseMove(b){let {clientWidth:a,clientHeight:c}=this.get(),d=b.offsetX/a,e=b.offsetY/c;this.set({gcx:d,gcy:e,startPos:{x:b.screenX,y:b.screenY}});this.fire("drag",{gcx:d,gcy:e})}});vb.prototype._recompute=function(b,a){if(b.clientWidth||
b.extent)this._differs(a.left,a.left=$h(a))&&(b.left=!0),this._differs(a.right,a.right=ai(a))&&(b.right=!0);if(b.clientHeight||b.extent)this._differs(a.top,a.top=bi(a))&&(b.top=!0),this._differs(a.bottom,a.bottom=ci(a))&&(b.bottom=!0)};q(pe.prototype,B);var vm={destroy:qe,get:function(b){return b?this._state[b]:this._state},fire:function(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1)b[c].call(this,a)},observe:function(b,a,c){var d=c&&c.defer?this._observers.post:
this._observers.pre;(d[b]||(d[b]=[])).push(a);c&&!1===c.init||(a.__calling=!0,a.call(this,this._state[b]),a.__calling=!1);return{cancel:function(){var c=d[b].indexOf(a);~c&&d[b].splice(c,1)}}},on:function(b,a){if("teardown"===b)return this.on("destroy",a);var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}},set:function(b){this._set(Gb({},b));this.root._lock||(this.root._lock=!0,Qb(this.root._beforecreate),Qb(this.root._oncreate),
Qb(this.root._aftercreate),this.root._lock=!1)},teardown:qe,_recompute:ad,_set:function(b){var a=this._state,c={},d=!1,e;for(e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=Gb({},a,b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(re(this,this._observers.pre,c,this._state,a),this._fragment.p(c,this._state),re(this,this._observers.post,c,this._state,a)))},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_unmount:function(){this._fragment&&
this._fragment.u()},_differs:function(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}};let bd=new Map;Gb(se.prototype,{draw(){if(this.refs.canvas){let b=this.refs.canvas.getContext("2d"),{img:a,index:c,width:d,realHeight:e,columns:f,loaded:g}=this.get();b.clearRect(0,0,d,e);let h=Array.isArray(c)?c[0]*d:c%f*d,l=Array.isArray(c)?c[1]*e:Math.floor(c/f)*e;g?b.drawImage(a,h,l,d,e,0,0,d,e):(b.fillStyle="#ccc",b.fillRect(0,0,d,e),b.fillStyle="#eee",b.textAlign="center",b.font=
"16px sans-serif",b.fillText("...",d/2,e/2))}}},vm);se.prototype._recompute=function(b,a){(b.width||b.height)&&this._differs(a.realHeight,a.realHeight=fi(a.width,a.height))&&(b.realHeight=!0)};var ve={},cd={},wm=ue(",").parse,xm=ue("\t").parse;let fd=new Map,wc=new Map,ed=new Map,ye=new Map([["gif",uc],["png",uc],["jpeg",uc],["jpg",uc],["csv",function(b){return vc(b).then((a)=>Promise.resolve(wm(a)))}],["tsv",function(b){return vc(b).then((a)=>Promise.resolve(xm(a)))}],["txt",vc],["text",vc],["json",
function(b){return fetch(b).then(we).then((a)=>a.json())}]]);var yc=[235,287,237,982,507,41,176,3,2,112,158,14,442,450,454,513,523,529,930,600,605,736,744,358,756,936,942,943,366,365,367,484,483,488,489,387,388,399,411,405],lh={vm:"shan-gpu-06-vm",id:"inceptionv1_mixed3a",build_dir:"build",cloud_dir:"gs://activation-atlas-public",model:"inceptionv1",layer:"mixed3a",sample_type:"random",sample_images:1E6,filter:4E5,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"false",steps:1024,icon_size:80,
layout:"200_0.05_euclidean",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},mh={vm:"shan-gpu-06-vm",id:"inceptionv1_mixed3b",build_dir:"build",cloud_dir:"gs://activation-atlas-public",model:"inceptionv1",layer:"mixed3b",sample_type:"random",sample_images:1E6,filter:4E5,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"false",steps:1024,icon_size:80,layout:"200_0.05_euclidean",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},nh={vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4a",build_dir:"build",
cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4a"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},oh={vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4b",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4b"],sample_type:"random",sample_images:1E6,filter:null,
tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},ph={vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4c",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4c"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,
x:null,y:null,alpha:!1},qh={vm:"shan-gpu-07-vm",id:"inceptionv1_mixed4d",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4d"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},rh={vm:"shan-gpu-07-vm",id:"inceptionv1_mixed4e",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",
model:"InceptionV1",layer:["mixed4e"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},sh={vm:"shan-gpu-08-vm",id:"inceptionv1_mixed5a",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed5a"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,
160,320],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},th={vm:"shan-gpu-07-vm",id:"inceptionv1_mixed5b",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed5b"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160,320],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1};
let ni={inceptionv1_mixed3a:lh,inceptionv1_mixed3b:mh,inceptionv1_mixed4a:nh,inceptionv1_mixed4b:oh,inceptionv1_mixed4c:ph,inceptionv1_mixed4d:qh,inceptionv1_mixed4e:rh,inceptionv1_mixed5a:sh,inceptionv1_mixed5b:th};q(xc.prototype,B);q(xc.prototype,{render(){let {grid:b,gridSize:a,icons:c,classHeatmap:d,layerName:e}=this.get(),f=this.refs.canvas.getContext("2d"),g=f.getImageData(0,0,a,a),h=g.data,l=!1,m=!1;switch(e){case "mixed4a":m=l=!0;break;case "mixed4d":l=!0;m=!1;break;case "mixed5a":l=!0;m=
!1;break;case "mixed5b":l=!0,m=!1}for(let e of c){var r=1;-1<d&&(r=yc.indexOf(d),r=Math.max(.1,20*Math.max(0,e.f[r])));h[(l?a-e.x-1:e.x)*a*4+4*(m?a-e.y-1:e.y)+3]=40+e.n/Math.pow(b+1,2)*a*a*(20<a?8E-4:1.5E-4)*r}f.putImageData(g,0,0)}});xc.prototype._recompute=function(b,a){b.clientWidth&&this._differs(a.height,a.height=ki(a))&&(b.height=!0);(b.model||b.layerName)&&this._differs(a.id,a.id=li(a))&&(b.id=!0)};q(Be.prototype,B);q(gd.prototype,B);gd.prototype._recompute=function(b,a){b.inceptionLabels&&
this._differs(a.labels,a.labels=ri(a))&&(b.labels=!0)};var Ge={},hd={},ym=Fe(",").parse,zm=Fe("\t").parse;let kd=new Map,Bc=new Map,jd=new Map,Je=new Map([["gif",zc],["png",zc],["jpeg",zc],["jpg",zc],["csv",function(b){return Ac(b).then((a)=>Promise.resolve(ym(a)))}],["tsv",function(b){return Ac(b).then((a)=>Promise.resolve(zm(a)))}],["txt",Ac],["text",Ac],["json",function(b){return fetch(b).then(He).then((a)=>a.json())}]]);(function(b){1===b.length&&(b=vi(b));return{left:function(a,c,d,e){null==
d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0>b(a[f],c)?d=f+1:e=f}return d},right:function(a,c,d,e){null==d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0<b(a[f],c)?e=f:d=f+1}return d}}})(Ke);let xi={inceptionv1_mixed3a:lh,inceptionv1_mixed3b:mh,inceptionv1_mixed4a:nh,inceptionv1_mixed4b:oh,inceptionv1_mixed4c:ph,inceptionv1_mixed4d:qh,inceptionv1_mixed4e:rh,inceptionv1_mixed5a:sh,inceptionv1_mixed5b:th};q(ld.prototype,B);var zi={value:function(){}};Cc.prototype=md.prototype=
{constructor:Cc,on:function(b,a){var c=this._,d=yi(b+"",c),e,f=-1,g=d.length;if(2>arguments.length)for(;++f<g;){var h;if(h=e=(b=d[f]).type){a:{h=c[e];for(var l=0,m=h.length;l<m;++l)if((e=h[l]).name===b.name){e=e.value;break a}e=void 0}h=e}if(h)return e}else{if(null!=a&&"function"!==typeof a)throw Error("invalid callback: "+a);for(;++f<g;)if(e=(b=d[f]).type)c[e]=Le(c[e],b.name,a);else if(null==a)for(e in c)c[e]=Le(c[e],b.name,null);return this}},copy:function(){var b={},a=this._,c;for(c in a)b[c]=
a[c].slice();return new Cc(b)},call:function(b,a){if(0<(e=arguments.length-2))for(var c=Array(e),d=0,e,f;d<e;++d)c[d]=arguments[d+2];if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);f=this._[b];d=0;for(e=f.length;d<e;++d)f[d].value.apply(a,c)},apply:function(b,a,c){if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);b=this._[b];for(var d=0,e=b.length;d<e;++d)b[d].value.apply(a,c)}};var Me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},uh=function(b){return function(){return this.matches(b)}};if("undefined"!==typeof document){var La=document.documentElement;if(!La.matches){var Am=La.webkitMatchesSelector||La.msMatchesSelector||La.mozMatchesSelector||La.oMatchesSelector;uh=function(b){return function(){return Am.call(this,b)}}}}var vh=uh;Ec.prototype={constructor:Ec,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,
a){return this._parent.insertBefore(b,a)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};Qe.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=this._names.indexOf(b)}};var Ue=
{},F=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(Ue={mouseenter:"mouseover",mouseleave:"mouseout"}));var We=[null];ma.prototype=Ra.prototype={constructor:ma,select:function(b){"function"!==typeof b&&(b=nd(b));for(var a=this._groups,c=a.length,d=Array(c),e=0;e<c;++e)for(var f=a[e],g=f.length,h=d[e]=Array(g),l,m,r=0;r<g;++r)(l=f[r])&&(m=b.call(l,l.__data__,r,f))&&("__data__"in l&&(m.__data__=l.__data__),h[r]=m);return new ma(d,this._parents)},selectAll:function(b){"function"!==
typeof b&&(b=Oe(b));for(var a=this._groups,c=a.length,d=[],e=[],f=0;f<c;++f)for(var g=a[f],h=g.length,l,m=0;m<h;++m)if(l=g[m])d.push(b.call(l,l.__data__,m,g)),e.push(l);return new ma(d,e)},filter:function(b){"function"!==typeof b&&(b=vh(b));for(var a=this._groups,c=a.length,d=Array(c),e=0;e<c;++e)for(var f=a[e],g=f.length,h=d[e]=[],l,m=0;m<g;++m)(l=f[m])&&b.call(l,l.__data__,m,f)&&h.push(l);return new ma(d,this._parents)},data:function(b,a){if(!b)return q=Array(this.size()),m=-1,this.each(function(a){q[++m]=
a}),q;var c=a?Gi:Fi,d=this._parents,e=this._groups;"function"!==typeof b&&(b=Ei(b));for(var f=e.length,g=Array(f),h=Array(f),l=Array(f),m=0;m<f;++m){var r=d[m],n=e[m],p=n.length,q=b.call(r,r&&r.__data__,m,d),t=q.length,y=h[m]=Array(t),x=g[m]=Array(t);p=l[m]=Array(p);c(r,n,y,x,p,q,a);n=r=0;for(var z;r<t;++r)if(p=y[r]){for(r>=n&&(n=r+1);!(z=x[n])&&++n<t;);p._next=z||null}}g=new ma(g,d);g._enter=h;g._exit=l;return g},enter:function(){return new ma(this._enter||this._groups.map(Pe),this._parents)},exit:function(){return new ma(this._exit||
this._groups.map(Pe),this._parents)},merge:function(b){var a=this._groups;b=b._groups;for(var c=a.length,d=Math.min(c,b.length),e=Array(c),f=0;f<d;++f)for(var g=a[f],h=b[f],l=g.length,m=e[f]=Array(l),n,p=0;p<l;++p)if(n=g[p]||h[p])m[p]=n;for(;f<c;++f)e[f]=a[f];return new ma(e,this._parents)},order:function(){for(var b=this._groups,a=-1,c=b.length;++a<c;)for(var d=b[a],e=d.length-1,f=d[e],g;0<=--e;)if(g=d[e])f&&f!==g.nextSibling&&f.parentNode.insertBefore(g,f),f=g;return this},sort:function(b){function a(a,
c){return a&&c?b(a.__data__,c.__data__):!a-!c}b||(b=Hi);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g=c[f],h=g.length,l=e[f]=Array(h),m,n=0;n<h;++n)if(m=g[n])l[n]=m;l.sort(a)}return(new ma(e,this._parents)).order()},call:function(){var b=arguments[0];arguments[0]=this;b.apply(null,arguments);return this},nodes:function(){var b=Array(this.size()),a=-1;this.each(function(){b[++a]=this});return b},node:function(){for(var b=this._groups,a=0,c=b.length;a<c;++a)for(var d=b[a],e=0,
f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){var b=0;this.each(function(){++b});return b},empty:function(){return!this.node()},each:function(b){for(var a=this._groups,c=0,d=a.length;c<d;++c)for(var e=a[c],f=0,g=e.length,h;f<g;++f)(h=e[f])&&b.call(h,h.__data__,f,e);return this},attr:function(b,a){var c=Dc(b);if(2>arguments.length){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==a?c.local?Ji:Ii:"function"===typeof a?
c.local?Ni:Mi:c.local?Li:Ki)(c,a))},style:function(b,a,c){return 1<arguments.length?this.each((null==a?Oi:"function"===typeof a?Qi:Pi)(b,a,null==c?"":c)):wb(this.node(),b)},property:function(b,a){return 1<arguments.length?this.each((null==a?Ri:"function"===typeof a?Ti:Si)(b,a)):this.node()[b]},classed:function(b,a){var c=(b+"").trim().split(/^|\s+/);if(2>arguments.length){for(var d=od(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"===typeof a?
Wi:a?Ui:Vi)(c,a))},text:function(b){return arguments.length?this.each(null==b?Xi:("function"===typeof b?Zi:Yi)(b)):this.node().textContent},html:function(b){return arguments.length?this.each(null==b?$i:("function"===typeof b?bj:aj)(b)):this.node().innerHTML},raise:function(){return this.each(cj)},lower:function(){return this.each(dj)},append:function(b){var a="function"===typeof b?b:Ne(b);return this.select(function(){return this.appendChild(a.apply(this,arguments))})},insert:function(b,a){var c=
"function"===typeof b?b:Ne(b),d=null==a?ej:"function"===typeof a?a:nd(a);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(fj)},clone:function(b){return this.select(b?hj:gj)},datum:function(b){return arguments.length?this.property("__data__",b):this.node().__data__},on:function(b,a,c){var d=jj(b+""),e=d.length,f;if(2>arguments.length){var g=this.node().__on;if(g)for(var h=0,l=g.length,m;h<l;++h){var n=
0;for(m=g[h];n<e;++n)if((f=d[n]).type===m.type&&f.name===m.name)return m.value}}else{g=a?lj:kj;null==c&&(c=!1);for(n=0;n<e;++n)this.each(g(d[n],a,c));return this}},dispatch:function(b,a){return this.each(("function"===typeof a?nj:mj)(b,a))}};var bb=1/.7,qj=/^#([0-9a-f]{3})$/,rj=/^#([0-9a-f]{6})$/,sj=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,tj=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,uj=
/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,vj=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,wj=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,xj=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
cf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xb(la,Ib,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}});xb(X,rd,Ma(la,{brighter:function(b){b=null==b?bb:Math.pow(bb,b);return new X(this.r*b,this.g*b,this.b*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new X(this.r*b,this.g*b,this.b*b,this.opacity)},rgb:function(){return this},
displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+sd(this.r)+sd(this.g)+sd(this.b)},toString:function(){var b=this.opacity;b=isNaN(b)?1:Math.max(0,Math.min(1,b));return(1===b?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===b?")":", "+b+")")}}));xb(Na,function(b,a,
c,d){return 1===arguments.length?yj(b):new Na(b,a,c,null==d?1:d)},Ma(la,{brighter:function(b){b=null==b?bb:Math.pow(bb,b);return new Na(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new Na(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=this.h%360+360*(0>this.h),a=isNaN(b)||isNaN(this.s)?0:this.s,c=this.l;a=c+(.5>c?c:1-c)*a;c=2*c-a;return new X(td(240<=b?b-240:b+120,c,a),td(b,c,a),td(120>b?b+240:b-120,c,a),this.opacity)},displayable:function(){return(0<=
this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var df=Math.PI/180,gf=180/Math.PI,ff=4/29,Sa=6/29,ef=3*Sa*Sa,zj=Sa*Sa*Sa;xb(Ia,function(b,a,c,d){return 1===arguments.length?ud(b):new Ia(b,a,c,null==d?1:d)},Ma(la,{brighter:function(b){return new Ia(this.l+18*(null==b?1:b),this.a,this.b,this.opacity)},darker:function(b){return new Ia(this.l-18*(null==b?1:b),this.a,this.b,this.opacity)},rgb:function(){var b=(this.l+16)/116,a=isNaN(this.a)?b:b+this.a/500,
c=isNaN(this.b)?b:b-this.b/200;a=.96422*xd(a);b=1*xd(b);c=.82521*xd(c);return new X(yd(3.1338561*a-1.6168667*b-.4906146*c),yd(-.9787684*a+1.9161415*b+.033454*c),yd(.0719453*a-.2289914*b+1.4052427*c),this.opacity)}}));xb(ya,function(b,a,c,d){return 1===arguments.length?Aj(b):new ya(b,a,c,null==d?1:d)},Ma(la,{brighter:function(b){return new ya(this.h,this.c,this.l+18*(null==b?1:b),this.opacity)},darker:function(b){return new ya(this.h,this.c,this.l-18*(null==b?1:b),this.opacity)},rgb:function(){return ud(this).rgb()}}));
var wh=1.78277*-.29227-.1347134789;xb(cb,function(b,a,c,d){if(1===arguments.length){var e=b;if(e instanceof cb)e=new cb(e.h,e.s,e.l,e.opacity);else{e instanceof X||(e=qd(e));var f=e.g/255,g=e.b/255,h=(wh*g+e.r/255*-1.7884503806-3.5172982438*f)/(wh+-1.7884503806-3.5172982438);g-=h;var l=(1.97294*(f-h)- -.29227*g)/-.90649;g=(f=Math.sqrt(l*l+g*g)/(1.97294*h*(1-h)))?Math.atan2(l,g)*gf-120:NaN;e=new cb(0>g?g+360:g,f,h,e.opacity)}}else e=new cb(b,a,c,null==d?1:d);return e},Ma(la,{brighter:function(b){b=
null==b?bb:Math.pow(bb,b);return new cb(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new cb(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=isNaN(this.h)?0:(this.h+120)*df,a=+this.l,c=isNaN(this.s)?0:this.s*a*(1-a),d=Math.cos(b);b=Math.sin(b);return new X(255*(a+c*(-.14861*d+1.78277*b)),255*(a+c*(-.29227*d+-.90649*b)),255*(a+1.97294*c*d),this.opacity)}}));var tf=function c(a){function d(a,c){var d=e((a=rd(a)).r,(c=rd(c)).r),f=e(a.g,c.g),g=
e(a.b,c.b),k=jf(a.opacity,c.opacity);return function(c){a.r=d(c);a.g=f(c);a.b=g(c);a.opacity=k(c);return a+""}}var e=Dj(a);d.gamma=c;return d}(1),zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ad=new RegExp(zd.source,"g"),lf=180/Math.PI,Ld={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Mb,Md,xh,Tc,Bm=mf(function(a){if("none"===a)return Ld;Mb||(Mb=document.createElement("DIV"),Md=document.documentElement,xh=document.defaultView);Mb.style.transform=a;a=xh.getComputedStyle(Md.appendChild(Mb),
null).getPropertyValue("transform");Md.removeChild(Mb);a=a.slice(7,-1).split(",");return kf(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5])},"px, ","px)","deg)"),Cm=mf(function(a){if(null==a)return Ld;Tc||(Tc=document.createElementNS("http://www.w3.org/2000/svg","g"));Tc.setAttribute("transform",a);if(!(a=Tc.transform.baseVal.consolidate()))return Ld;a=a.matrix;return kf(a.a,a.b,a.c,a.d,a.e,a.f)},", ",")",")"),db=Math.SQRT2,zb=0,Jb=0,lb=0,Kc,eb,Jc=0,Ta=0,Hc=0,yb="object"===typeof performance&&performance.now?
performance:Date,of="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};Ic.prototype=pf.prototype={constructor:Ic,restart:function(a,c,d){if("function"!==typeof a)throw new TypeError("callback is not a function");d=(null==d?Gc():+d)+(null==c?0:+c);this._next||eb===this||(eb?eb._next=this:Kc=this,eb=this);this._call=a;this._time=d;Bd()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Bd())}};var Lj=md("start",
"end","interrupt"),Mj=[],Dm=Ra.prototype.constructor,yh=0,Cb=Ra.prototype;na.prototype=function(a){return Ra().transition(a)}.prototype={constructor:na,select:function(a){var c=this._name,d=this._id;"function"!==typeof a&&(a=nd(a));for(var e=this._groups,f=e.length,g=Array(f),h=0;h<f;++h)for(var l=e[h],m=l.length,n=g[h]=Array(m),p,q,t=0;t<m;++t)(p=l[t])&&(q=a.call(p,p.__data__,t,l))&&("__data__"in p&&(q.__data__=p.__data__),n[t]=q,Lc(n[t],c,d,t,n,Ja(p,d)));return new na(g,this._parents,c,d)},selectAll:function(a){var c=
this._name,d=this._id;"function"!==typeof a&&(a=Oe(a));for(var e=this._groups,f=e.length,g=[],h=[],l=0;l<f;++l)for(var m=e[l],n=m.length,p,q=0;q<n;++q)if(p=m[q]){for(var t=a.call(p,p.__data__,q,m),w,y=Ja(p,d),x=0,z=t.length;x<z;++x)(w=t[x])&&Lc(w,c,d,x,t,y);g.push(t);h.push(p)}return new na(g,h,c,d)},filter:function(a){"function"!==typeof a&&(a=vh(a));for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f)for(var g=c[f],h=g.length,l=e[f]=[],m,n=0;n<h;++n)(m=g[n])&&a.call(m,m.__data__,n,g)&&l.push(m);
return new na(e,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();var c=this._groups;a=a._groups;for(var d=c.length,e=Math.min(d,a.length),f=Array(d),g=0;g<e;++g)for(var h=c[g],l=a[g],m=h.length,n=f[g]=Array(m),p,q=0;q<m;++q)if(p=h[q]||l[q])n[q]=p;for(;g<d;++g)f[g]=c[g];return new na(f,this._parents,this._name,this._id)},selection:function(){return new Dm(this._groups,this._parents)},transition:function(){for(var a=this._name,c=this._id,d=++yh,e=this._groups,
f=e.length,g=0;g<f;++g)for(var h=e[g],l=h.length,m,n=0;n<l;++n)if(m=h[n]){var p=Ja(m,c);Lc(m,a,d,n,h,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new na(e,this._parents,a,d)},call:Cb.call,nodes:Cb.nodes,node:Cb.node,size:Cb.size,empty:Cb.empty,each:Cb.each,on:function(a,c){var d=this._id;return 2>arguments.length?Ja(this.node(),d).on.on(a):this.each(dk(d,a,c))},attr:function(a,c){var d=Dc(a),e="transform"===d?Cm:sf;return this.attrTween(a,"function"===typeof c?
(d.local?Uj:Tj)(d,e,Dd(this,"attr."+a,c)):null==c?(d.local?Qj:Pj)(d):(d.local?Sj:Rj)(d,e,c+""))},attrTween:function(a,c){var d="attr."+a;if(2>arguments.length)return(d=this.tween(d))&&d._value;if(null==c)return this.tween(d,null);if("function"!==typeof c)throw Error();var e=Dc(a);return this.tween(d,(e.local?Vj:Wj)(e,c))},style:function(a,c,d){var e="transform"===(a+="")?Bm:sf;return null==c?this.styleTween(a,fk(a,e)).on("end.style."+a,gk(a)):this.styleTween(a,"function"===typeof c?ik(a,e,Dd(this,
"style."+a,c)):hk(a,e,c+""),d)},styleTween:function(a,c,d){var e="style."+(a+="");if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==c)return this.tween(e,null);if("function"!==typeof c)throw Error();return this.tween(e,jk(a,c,null==d?"":d))},text:function(a){return this.tween("text","function"===typeof a?lk(Dd(this,"text",a)):kk(null==a?"":a+""))},remove:function(){return this.on("end.remove",ek(this._id))},tween:function(a,c){var d=this._id;a+="";if(2>arguments.length){d=Ja(this.node(),
d).tween;for(var e=0,f=d.length,g;e<f;++e)if((g=d[e]).name===a)return g.value;return null}return this.each((null==c?Nj:Oj)(d,a,c))},delay:function(a){var c=this._id;return arguments.length?this.each(("function"===typeof a?Xj:Yj)(c,a)):Ja(this.node(),c).delay},duration:function(a){var c=this._id;return arguments.length?this.each(("function"===typeof a?Zj:ak)(c,a)):Ja(this.node(),c).duration},ease:function(a){var c=this._id;return arguments.length?this.each(bk(c,a)):Ja(this.node(),c).ease}};var Nd=
{time:null,delay:0,duration:250,ease:function(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}};Ra.prototype.interrupt=function(a){return this.each(function(){Mc(this,a)})};Ra.prototype.transition=function(a){var c;if(a instanceof na){var d=a._id;a=a._name}else d=++yh,(c=Nd).time=Gc(),a=null==a?null:a+"";for(var e=this._groups,f=e.length,g=0;g<f;++g)for(var h=e[g],l=h.length,m,n=0;n<l;++n)if(m=h[n]){var p=m,q=a,t=d,w=n,y=h,x;if(!(x=c))a:{x=void 0;for(var z=d;!(x=m.__transition)||!(x=x[z]);)if(!(m=m.parentNode)){x=
(Nd.time=Gc(),Nd);break a}}Lc(p,q,t,w,y,x)}return new na(e,this._parents,a,d)};Oa.prototype={constructor:Oa,scale:function(a){return 1===a?this:new Oa(this.k*a,this.x,this.y)},translate:function(a,c){return 0===a&0===c?this:new Oa(this.k,this.x+this.k*a,this.y+this.k*c)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-
this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oc=new Oa(1,0,0);uf.prototype=Oa.prototype;var sa={components:[],running:!1,add:function(a){~sa.components.indexOf(a)||(sa.components.push(a),sa.running||(sa.running=
!0,requestAnimationFrame(sa.next)))},next:function(){for(var a=window.performance.now(),c=!1,d=sa.components.length;d--;){var e=sa.components[d],f={},g=!1,h;for(h in e._currentTweens){var l=e._currentTweens[h];a>=l.end?(f[h]=l.to,delete e._currentTweens[h],l.fulfil()):(c=g=!0,a>=l.start&&(f[h]=l.value(l.ease((a-l.start)/l.duration))))}e._tweening=!0;e.set(f);e._tweening=!1;g||sa.components.splice(d,1)}c?requestAnimationFrame(sa.next):sa.running=!1}};q(Pc.prototype,B);q(Pc.prototype,{tween:function(a,
c,d){var e=this;void 0===d&&(d={});if(!this._currentTweens){this._currentTweens=Object.create(null);this._tweening=!1;var f=this.set;this.set=function(a){if(!e._tweening)for(var c in a)e._currentTweens[c]&&e._currentTweens[c].abort();f.call(e,a)}}this._currentTweens[a]&&this._currentTweens[a].abort();var g=window.performance.now()+(d.delay||0),h=d.duration||400,l=g+h,m={key:a,value:(d.interpolate||Ed)(this.get()[a],c),to:c,start:g,end:l,duration:h,ease:d.easing||uk,running:!0,abort:function(){m.running=
!1;delete e._currentTweens[a]}};this._currentTweens[a]=m;sa.add(this);c=new Promise(function(a){m.fulfil=a});c.abort=m.abort;return c},zoomEventFilter:function(){let {scrollWheel:a,disableBehaviors:c}=this.get();return c?!1:a?!F.button:!("wheel"===F.type&&!1===F.ctrlKey)&&!F.button},mouseMove:function(a){this.set({msx:a.offsetX,msy:a.offsetY});let {}=this.get()},update:function(){var {el:a}=this.get();a=uf(a);this.set({scale:a.k,transform:a,translateX:a.x,translateY:a.y})},onzoom:function(a){a.update();
a.fire("zoom")},zoomTo:function(a,c,d=1,e=1E3){let {selection:f,z:g,minSize:h,clientWidth:l,clientHeight:m}=this.get();f.transition().duration(e).call(g.transform,Oc.translate(l/2,m/2).scale(d).translate(-a*h,-c*h))},translateTo:function(a,c){let {z:d,selection:e,minSize:f}=this.get();d.translateTo(e,a*f,c*f)},home:function(a=0){let {homeX:c,homeY:d,homeScale:e}=this.get();this.zoomTo(c,d,e,a)},scaleTo:function(a,c=0){let {z:d,selection:e}=this.get();e.transition().duration(c).call(d.scaleTo,a)}});
Pc.prototype._recompute=function(a,c){(a.clientWidth||a.clientHeight)&&this._differs(c.minSize,c.minSize=vk(c))&&(a.minSize=!0);(a.msx||a.msy)&&this._differs(c.mouseOver,c.mouseOver=wk(c))&&(a.mouseOver=!0);(a.transform||a.msx||a.msy||a.clientHeight||a.clientWidth||a.minSize)&&this._differs(c.mouseGlobalPosition,c.mouseGlobalPosition=xk(c))&&(a.mouseGlobalPosition=!0);(a.scale||a.translateX||a.translateY||a.minSize||a.clientWidth||a.clientHeight)&&this._differs(c.extent,c.extent=yk(c))&&(a.extent=
!0);a.extent&&(this._differs(c.gcx,c.gcx=zk(c))&&(a.gcx=!0),this._differs(c.gcy,c.gcy=Ak(c))&&(a.gcy=!0))};q(Rb.prototype,B);q(Rb.prototype,{fullscreen(){this.refs.root.webkitRequestFullscreen()},home(a=0){this.refs.d3Zoom.home(a)},translateTo(a,c){this.refs.d3Zoom.translateTo(a,c)},zoomTo(a,c,d,e=1E3){this.refs.d3Zoom.zoomTo(a,c,d,e)},transitionTo(a,c,d,e=0){this.refs.d3Zoom.transformTo(a,c,d,e)},scaleBy(a){let {scale:c}=this.get();this.refs.d3Zoom.scaleTo(c*a,300)},iconToGlobalPosition(a,c){let {density:d,
scale:e,translateX:f,translateY:g,config:h,w:l,h:m}=this.get();var n=h.grid_size[c];c=a.gw*e*Math.min(l,m);n=c*Math.min(1,Math.sqrt(d*a.num_activations/(("number"==typeof h.filter[0]?h.filter[0]:h.sample_images)/(n*n))));return{sourceX:a.localX*h.icon_size,sourceY:a.localY*h.icon_size,iconX:a.gy*e*Math.min(l,m)+f+(c-n)/2,iconY:a.gx*e*Math.min(l,m)+g+(c-n)/2,iconWidth:n}},clear(){let {viewHeight:a,viewWidth:c,context:d,backgroundColor:e,labelsContext:f}=this.get();d.globalAlpha=1;d.fillStyle=e;d.clearRect(0,
0,c,a);d.fillRect(0,0,c,a);f.globalAlpha=1;f.clearRect(0,0,c,a)},render(){let {id:a,labelsContext:c,loading:d,classHeatmap:e,showLabels:f,labels:g,labelsBufferCanvas:h,imageSmoothing:l,scale:m,w:n,h:p,translateX:q,translateY:t,context:w,config:y,layers:x,currentZoomIndex:z,strokeColor:B,strokeThickness:D,maxAttributionValue:E}=this.get();this.clear();w.imageSmoothingEnabled=l;c.strokeStyle=B;c.lineWidth=D;w.fillStyle="white";if(y&&x&&!d){let d=[{i:z,opacity:1}];this.set({visibleLayers:d});d.forEach((d)=>
{let k=d.i;d=x[k];var l=Math.min(n,p);let r=Math.max(0,Math.floor(-(q/m/l)*d.length)),v=r+Math.ceil(n/m/l*d.length);var u=Math.max(0,Math.floor(-(t/m/l)*d.length));for(l=u+Math.ceil(p/m/l*d.length);u<=l;u++)for(let l=r;l<=v;l++)if(d[u]&&d[u][l]){let m=d[u][l],{iconX:n,iconY:p,iconWidth:r}=this.iconToGlobalPosition(m,k),q=a;{c.globalAlpha=.3;c.strokeRect(n,p,r,r);c.globalAlpha=1;var y=Math.ceil(40/r);let a=Math.ceil(60/r);f&&g&&-1===e&&0==m.y%a&&0==m.x%y&&(c.globalAlpha=1,y=m.top_class_indices[0],
c.drawImage(h,y%10*150,20*Math.floor(y/10)+4,Math.min(r*a-5,100),20,n,p+r-20-2,Math.min(r*a-5,100),20));id(m.url).then((a)=>{let {id:c,visibleLayers:d}=this.get();if(d.reduce((a,c)=>c.i===k?a+1:a,0)&&q===c){let {config:c,classHeatmap:d,classHeatmapMultiplier:g,classHeatmapPositive:h}=this.get(),{sourceX:l,sourceY:n,iconX:p,iconY:r,iconWidth:q}=this.iconToGlobalPosition(m,k);var e=1;-1<d&&(e=m.full_class_indices.indexOf(d),-1<e?(e=m.full_class_values[e]/E,e*=h,e=Math.max(0,e)*g):e=0);var f=Math.min(8/
q,.6);w.globalAlpha=1;f=f*c.icon_size/2;-1<d&&w.fillRect(p,r,q,q);w.globalAlpha=e;w.drawImage(a,n+f,l+f,c.icon_size-2*f,c.icon_size-2*f,p,r,q,q)}})}}})}}});Rb.prototype._recompute=function(a,c){(a.layers||a.layer)&&this._differs(c.maxAttributionValue,c.maxAttributionValue=Dk(c))&&(a.maxAttributionValue=!0);(a.viewWidth||a.screenResolution)&&this._differs(c.w,c.w=Ek(c))&&(a.w=!0);(a.viewHeight||a.screenResolution)&&this._differs(c.h,c.h=Fk(c))&&(a.h=!0);(a.scale||a.gridSize||a.config||a.classHeatmap||
a.w||a.h||a.autoGridSizeMultiplier)&&this._differs(c.currentZoomIndex,c.currentZoomIndex=Gk(c))&&(a.currentZoomIndex=!0);(a.currentZoomIndex||a.layers)&&this._differs(c.currentLayerData,c.currentLayerData=Hk(c))&&(a.currentLayerData=!0);(a.labelsBufferContext||a.labels||a.fontSize||a.textColor||a.textShadowColor)&&this._differs(c.labelsBuffer,c.labelsBuffer=Ik(c))&&(a.labelsBuffer=!0);(a.currentLayerData||a.config||a.mouseGlobalPosition||a.w||a.h||a.translateX||a.translateY)&&this._differs(c.hoverIconData,
c.hoverIconData=Kk(c))&&(a.hoverIconData=!0);(a.hoverIconData||a.mouseGlobalPosition)&&this._differs(c.showHover,c.showHover=Jk(c))&&(a.showHover=!0);(a.hoverIconData||a.scale||a.w||a.h||a.translateX)&&this._differs(c.hoverIconX,c.hoverIconX=Lk(c))&&(a.hoverIconX=!0);(a.hoverIconData||a.scale||a.w||a.h||a.translateY)&&this._differs(c.hoverIconY,c.hoverIconY=Mk(c))&&(a.hoverIconY=!0);(a.hoverIconData||a.scale||a.w||a.h)&&this._differs(c.hoverIconW,c.hoverIconW=Nk(c))&&(a.hoverIconW=!0);(a.mouseGlobalPosition||
a.hoverIconData||a.enableHover)&&this._differs(c.showHoverIcon,c.showHoverIcon=Ok(c))&&(a.showHoverIcon=!0)};q(Fd.prototype,B);q(Qc.prototype,B);Qc.prototype._recompute=function(a,c){(a.clientWidth||a.minWidth)&&this._differs(c.scale,c.scale=Tk(c))&&(a.scale=!0);(a.clientWidth||a.width||a.minWidth)&&this._differs(c.finalWidth,c.finalWidth=Uk(c))&&(a.finalWidth=!0);(a.clientHeight||a.scale)&&this._differs(c.finalHeight,c.finalHeight=Vk(c))&&(a.finalHeight=!0)};var Sb=Bb(".3f");q($a.prototype,B);q($a.prototype,
{home(a){this.refs.atlas.home(a)},zoomTo(a,c,d,e=1E3){this.refs.atlas.zoomTo(a,c,d,e)},toggle(){let {showOptions:a}=this.get();this.set({showOptions:!a})}});$a.prototype._recompute=function(a,c){a.gridSize&&this._differs(c.realGridSize,c.realGridSize=Xk(c))&&(a.realGridSize=!0);(a.iconScaleFactor||a.realGridSize)&&this._differs(c.scaleCountFactor,c.scaleCountFactor=Yk(c))&&(a.scaleCountFactor=!0)};q(Jf.prototype,B);q(Kf.prototype,B);q(Lf.prototype,B);q(ab.prototype,B);ab.prototype._recompute=function(a,
c){(a.w||a.gridSize)&&this._differs(c.cellSize,c.cellSize=cl(c))&&(a.cellSize=!0);a.filterType&&this._differs(c.root,c.root=dl(c))&&(a.root=!0);a.gridSize&&this._differs(c.ticks,c.ticks=el(c))&&(a.ticks=!0);if(a.root||a.classFilter||a.gridSize||a.filterType)this._differs(c.config,c.config=fl(c))&&(a.config=!0),this._differs(c.src,c.src=gl(c))&&(a.src=!0)};q(Uf.prototype,B);q(Xf.prototype,B);q(Gd.prototype,B);Gd.prototype._recompute=function(a,c){if(a.$classComparisons||a.classComparisonIndex)this._differs(c.leftIndex,
c.leftIndex=ll(c))&&(a.leftIndex=!0),this._differs(c.rightIndex,c.rightIndex=ml(c))&&(a.rightIndex=!0)};q(Va.prototype,B);Va.prototype._recompute=function(a,c){a.width&&this._differs(c.height,c.height=ol(c))&&(a.height=!0);(a.width||a.margin)&&this._differs(c.outerWidth,c.outerWidth=pl(c))&&(a.outerWidth=!0);(a.height||a.margin)&&this._differs(c.outerHeight,c.outerHeight=ql(c))&&(a.outerHeight=!0);a.width&&this._differs(c.cellWidth,c.cellWidth=rl(c))&&(a.cellWidth=!0);(a.currentClassComparisonIndex||
a.$classComparisons)&&this._differs(c.comparison,c.comparison=sl(c))&&(a.comparison=!0)};var mg=Bb(".1f");q(Lb.prototype,B);q(ng.prototype,B);q(og.prototype,B);q(pg.prototype,B);var Cg=Bb(" .5f");q(Hd.prototype,B);Hd.prototype._recompute=function(a,c){(a.inputWidth||a.columnWidth||a.columnMargin)&&this._differs(c.width,c.width=zl(c))&&(a.width=!0);a.inputWidth&&this._differs(c.height,c.height=Al(c))&&(a.height=!0);(a.timerCount||a.numCells)&&this._differs(c.clippedCount,c.clippedCount=Bl(c))&&(a.clippedCount=
!0);if(a.clippedCount||a.numCells)this._differs(c.windowX,c.windowX=Cl(c))&&(a.windowX=!0),this._differs(c.windowY,c.windowY=Dl(c))&&(a.windowY=!0);(a.inputWidth||a.numCells||a.cellPadding)&&this._differs(c.cellWidth,c.cellWidth=El(c))&&(a.cellWidth=!0);(a.numCells||a.windowSize)&&this._differs(c.numInputCells,c.numInputCells=Fl(c))&&(a.numInputCells=!0);(a.inputWidth||a.numInputCells||a.cellPadding)&&this._differs(c.inputCellWidth,c.inputCellWidth=Gl(c))&&(a.inputCellWidth=!0);a.numCells&&this._differs(c.activations,
c.activations=Hl(c))&&(a.activations=!0)};q(Id.prototype,B);Id.prototype._recompute=function(a,c){(a.width||a.columnPadding)&&this._differs(c.columnWidth,c.columnWidth=Jl(c))&&(a.columnWidth=!0);(a.columnWidth||a.inputPadding)&&this._differs(c.inputWidth,c.inputWidth=Kl(c))&&(a.inputWidth=!0);(a.inputWidth||a.numCells||a.cellPadding)&&this._differs(c.cellWidth,c.cellWidth=Ll(c))&&(a.cellWidth=!0);(a.columnWidth||a.numIcons)&&this._differs(c.iconWidth,c.iconWidth=Ml(c))&&(a.iconWidth=!0)};q(Sg.prototype,
B);q(hb.prototype,B);q(Sc.prototype,B);q(Sc.prototype,{render(){let {icon:a,config:c,width:d,height:e,iconCrop:f}=this.get(),g=this.refs.canvas.getContext("2d");g.clearRect(0,0,d,e);if(a){let h=f*c.icon_size/2;dd(a.url).then((f)=>{g.drawImage(f,a.localY*c.icon_size+h,a.localX*c.icon_size+h,c.icon_size-2*h,c.icon_size-2*h,0,0,d,e)})}}});Sc.prototype._recompute=function(a,c){a.width&&this._differs(c.height,c.height=Tl(c))&&(a.height=!0)};q(Jd.prototype,B);Jd.prototype._recompute=function(a,c){a.layerName&&
this._differs(c.fullId,c.fullId=Vl(c))&&(a.fullId=!0);a.layers&&this._differs(c.pathZoomIndex,c.pathZoomIndex=Xl(c))&&(a.pathZoomIndex=!0);(a.pointList||a.layers||a.pathZoomIndex)&&this._differs(c.imgList,c.imgList=Wl(c))&&(a.imgList=!0)};q(Wa.prototype,B);Wa.prototype._recompute=function(a,c){a.pointList&&this._differs(c.numIcons,c.numIcons=Zl(c))&&(a.numIcons=!0);(a.viewWidth||a.viewHeight)&&this._differs(c.edgeLength,c.edgeLength=$l(c))&&(a.edgeLength=!0);(a.viewWidth||a.viewHeight||a.edgeLength)&&
this._differs(c.topLeft,c.topLeft=am(c))&&(a.topLeft=!0);(a.pointList||a.topLeft||a.edgeLength)&&this._differs(c.path_d,c.path_d=bm(c))&&(a.path_d=!0)};q(ra.prototype,B);q(ra.prototype,{mouseUp(){let {}=this.get();this.set({dragging:!1})},mouseDown(a){let {enableDragging:c}=this.get();c&&(a.preventDefault(),this.set({dragging:!0,startPos:{x:a.screenX,y:a.screenY}}))},mouseMove(a){let {dragging:c,startPos:d,scale:e,width:f,aspectRatio:g,height:h,left:l,top:m}=this.get();c&&(this.set({gcx:(a.screenX-
d.x+l)/f+1/e*g/2,gcy:(a.screenY-d.y+m)/h+1/e/2}),this.set({startPos:{x:a.screenX,y:a.screenY}}))}});ra.prototype._recompute=function(a,c){a.scale&&this._differs(c.h,c.h=dm(c))&&(a.h=!0);(a.scale||a.aspectRatio)&&this._differs(c.w,c.w=em(c))&&(a.w=!0);(a.gcx||a.w||a.width)&&this._differs(c.l,c.l=fm(c))&&(a.l=!0);(a.gcy||a.h||a.height||a.aspectRatio)&&this._differs(c.t,c.t=gm(c))&&(a.t=!0);(a.l||a.w)&&this._differs(c.r,c.r=hm(c))&&(a.r=!0);(a.t||a.h)&&this._differs(c.b,c.b=im(c))&&(a.b=!0);(a.l||a.width||
a.gcx||a.gcy||a.scale||a.aspectRatio||a.w||a.r)&&this._differs(c.left,c.left=jm(c))&&(a.left=!0);(a.r||a.width)&&this._differs(c.right,c.right=km(c))&&(a.right=!0);(a.t||a.height)&&this._differs(c.top,c.top=lm(c))&&(a.top=!0);(a.b||a.height)&&this._differs(c.bottom,c.bottom=mm(c))&&(a.bottom=!0)};q(Yg.prototype,B);q(ub.prototype,B);q($g.prototype,B);q(ah.prototype,B);q(fh.prototype,B);q(kh.prototype,B);document.addEventListener("DOMContentLoaded",(a)=>{O.set({tooltip:new Nb({target:document.body,
store:O,data:{width:250,component:ee}})});let c=new ca({target:document.querySelector("#cover"),store:O,data:{component:$a,componentData:{showClassFilter:!1,layerName:"mixed4d",showOptions:!1,homeX:.661,homeY:.278,homeScale:5,gridSize:2,scrollWheel:!1}}});a=document.querySelectorAll("[data-lazy-image]");for(var d of a){a=d.getAttribute("data-lazy-image");let c=d.getAttribute("alt"),e=d.getAttribute("data-lazy-image-aspect-ratio");new N({target:d,data:{src:"assets/images/"+a,alt:c,aspectRatio:e?e:
1,background:!1,border:!1}})}d=document.querySelectorAll("[data-notebook-url]");for(var e of d)d=e.getAttribute("data-notebook-url"),new $c({target:e,data:{url:d}});e=document.querySelectorAll("[data-cover-poi]");for(var f of e){let a=f.getAttribute("data-cover-poi").split(",").map((a)=>+a);f.addEventListener("click",(d)=>{d.preventDefault();d=c.getComponent();d.set({layerName:"mixed4d"});d.zoomTo(a[0],a[1],a[2],4E3)})}new Jf({target:document.querySelector("#overview")});new Kf({target:document.querySelector("#model-overview")});
new Lf({target:document.querySelector("#grid-detail")});new ca({target:document.querySelector("#activation-grid"),data:{aspectRatio:1150/290,component:Hd}});new ca({target:document.querySelector("#process"),data:{aspectRatio:2.64,component:Id}});new ca({store:O,target:document.querySelector("#one-layer"),data:{height:"calc(100vw - 40px + 28px + 40px)",component:Sg}});new ca({target:document.querySelector("#layer-annotation-1"),store:O,data:{height:300,component:hb,componentData:{homeX:.306,homeY:.035}}});
new ca({target:document.querySelector("#layer-annotation-2"),store:O,data:{height:300,component:hb,componentData:{homeX:.309,homeY:.173}}});new ca({target:document.querySelector("#layer-annotation-3"),store:O,data:{height:300,component:hb,componentData:{homeX:.335,homeY:.353,gridSize:3,homeScale:32}}});new ca({target:document.querySelector("#layer-annotation-4"),store:O,data:{component:hb,height:300,componentData:{homeX:.33,homeY:.666}}});new ca({target:document.querySelector("#layer-annotation-5"),
store:O,data:{height:300,component:hb,componentData:{homeX:.281,homeY:.761}}});new ca({target:document.querySelector("#layer-annotation-6"),store:O,data:{height:300,component:hb,componentData:{homeX:.944,homeY:.51}}});new ca({target:document.querySelector("#layer-annotation-7"),store:O,data:{height:300,component:hb,componentData:{homeX:.837,homeY:.239}}});new ca({target:document.querySelector("#layer-annotation-8"),store:O,data:{height:300,component:hb,componentData:{homeX:.594,homeY:.223}}});new Wa({target:document.querySelector("#show-a-path-0"),
store:O,data:{layerName:"mixed4c",pointList:[[.161,.3861],[.161,.39373],[.161,.4013],[.161,.409],[.161,.41664],[.161,.42427],[.161,.4319],[.161,.43954],[.161,.4471],[.161,.4548],[.161,.46244],[.161,.47008],[.161,.47771],[.161,.48535],[.161,.49299],[.161,.5],[.161,.5082],[.161,.5158],[.161,.5235],[.161,.5311]]}});new Wa({target:document.querySelector("#show-a-path-1"),store:O,data:{layerName:"mixed4c",pointList:[[.8777,.35276],[.87582,.3431],[.87388,.3336],[.8719,.324],[.86999,.31443],[.86804,.30485],
[.8661,.2952],[.86415,.2856],[.86221,.2761],[.86026,.26652],[.85832,.25694],[.85638,.24735],[.85443,.23777],[.85249,.228],[.85054,.2186],[.8486,.20902],[.84665,.19944],[.84471,.18985],[.84276,.1802],[.84082,.17069]]}});new Wa({target:document.querySelector("#show-a-path-2"),store:O,data:{layerName:"mixed4c",pointList:[[.275,.775],[.27946,.76517],[.28392,.75535],[.288389,.74553],[.292852,.73571],[.29731,.72589],[.30177,.716],[.30408,.7056],[.305765,.69495],[.307448,.68429],[.30913,.67364],[.310813,
.66298],[.31111,.65222],[.31111,.6414],[.31111,.63065],[.31111,.61986],[.31111,.60907],[.30584,.59978],[.30019,.59059],[.29454,.5814]]}});new Wa({target:document.querySelector("#show-a-path-3"),store:O,data:{layerName:"mixed4c",pointList:[[.61,.13],[.609,.132],[.607,.139],[.606,.141],[.605,.145],[.603,.151],[.6,.158],[.597,.164],[.596,.169],[.594,.175],[.593,.177],[.592,.183],[.589,.188],[.587,.191],[.585,.195],[.582,.2],[.581,.204],[.579,.208],[.578,.213],[.577,.219]]}});let g=[0,1,2];["plant","water"].forEach((a)=>
{g.forEach((c)=>{let d={index:c,subject:a};Object.assign(d,O.get().multipleLayers[a][c]);new Yg({target:document.querySelector(`#${a}-${c}`),store:O,data:d})})});let h=new ca({target:document.querySelector("#all-layer-comparison"),store:O,data:{component:$a,componentData:{showClassFilter:!1,layerName:"mixed4e",gridSize:-1}}});f=document.querySelectorAll("[data-poi]");for(let a of f){let c=a.getAttribute("data-poi"),{pois:d}=O.get();a.addEventListener("click",(a)=>{a.preventDefault();a=h.getComponent();
a.set({layerName:d[c].layerName});a.zoomTo(d[c].gcx,d[c].gcy,d[c].scale,0)})}new $g({target:document.querySelector("#focus-1"),store:O});new ah({target:document.querySelector("#focus-2"),store:O});new fh({target:document.querySelector("#focus-3"),store:O});new kh({target:document.querySelector("#focus-3-table"),store:O});new ca({target:document.querySelector("#focus-playground"),store:O,data:{component:$a,componentData:{classHeatmap:235,layerName:"mixed4d"}}});new Uf({target:document.querySelector("#class-subset"),
store:O});new Xf({target:document.querySelector("#class-filter-comparison"),store:O});new Gd({target:document.querySelector("#class-comparison-2"),store:O,data:{showControls:!1,classComparisonIndex:0,filterType:"top"}});new ca({target:document.querySelector("#class-gradient-snorkel"),store:O,data:{aspectRatio:1.152,component:Va,componentData:{currentClassComparisonIndex:0}}});new ca({target:document.querySelector("#class-gradient-frying-pan"),store:O,data:{aspectRatio:1.152,component:Va,componentData:{currentClassComparisonIndex:2}}});
new ca({target:document.querySelector("#class-gradient-shark"),store:O,data:{aspectRatio:1.152,component:Va,componentData:{currentClassComparisonIndex:8}}});new Lb({target:document.querySelector("#snorkel-scuba-diver"),store:O,data:{aspectRatio:480/360,left:"snorkel",right:"scuba diver",classifications:[{image:"assets/images/snorkel-train.png",caption:"Image from ImageNet labeled as \u201csnorkel\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["snorkel",
55.6],["coral reef",18.65],["scuba diver",13.49],["loggerhead",5.52],["lionfish",1.71],["sea snake",1.36]]},{image:"assets/images/snorkel-train-medium.png",caption:"By adding a picture of one of the concepts seen in the visualization above we can change the classification. With an added picture of a steam train the confidence of \u201cscuba diver\u201d classification rises and \u201csnorkel\u201d drops significantly.",rows:[["scuba diver",91.55],["wreck",2.39],["amphibian",1.12],["snorkel",.7],["ski",
.62],["sea snake",.59]]},{image:"assets/images/snorkel-train-large.png",caption:"As the picture of the train gets bigger, the classification for \u201csteam locomotive\u201d overwhelms, but \u201cscuba diver\u201d remains.",rows:[["steam locomotive",87.7],["scuba diver",5.61],["tractor",3.9],["jeep",.49],["wreck",.38],["harvester",.33]]}]}});new Lb({target:document.querySelector("#frying-pan-wok"),store:O,data:{left:"frying pan",right:"wok",aspectRatio:806/608,classifications:[{image:"assets/images/fry-06.png",
caption:"Image from ImageNet labeled as \u201cfrying pan\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["frying pan",34.62],["stove",16.33],["strainer",11.04],["wok",9.72],["caldron",8.79],["Dutch oven",6.02]]},{image:"assets/images/fry-noodles-14.png",caption:"By adding a picture of some noodles, also from ImageNet, we can see the top classification change from \u201cfrying pan\u201d to \u201cwok.\u201d",rows:[["wok",48.3],["frying pan",18.64],["strainer",
14.03],["ladle",4.4],["stove",2.77],["caldron",2.6]]},{image:"assets/images/fry-10.png",caption:"As we make the picture of noodles larger, its influence overpowers the other classifications, but \u201cwok\u201d remains ranked above \u201cfrying pan\u201d.",rows:[["carbonara",87.79],["strainer",8.16],["wok",1.67],["ladle",.45],["frying pan",.37],["French horn",.27]]}]}});new Lb({target:document.querySelector("#adversarial-teaser"),store:O,data:{left:"great white shark",right:"grey whale",aspectRatio:996/
656,classifications:[{image:"assets/images/whale-baseball.png",caption:"",rows:[["grey whale",90.57],["killer whale",7.97],["great white shark",.67],["gar",.37],["sea lion",.13]]},{image:"assets/images/whale-baseball-medium.png",caption:"",rows:[["great white shark",56.51],["grey whale",16.94],["baseball",8.31],["killer whale",6.18],["rugby ball",4.83]]}]}});new Lb({target:document.querySelector("#shark-grey-whale"),store:O,data:{left:"great white shark",right:"grey whale",aspectRatio:996/656,classifications:[{image:"assets/images/whale-baseball.png",
caption:"",rows:[["grey whale",90.57],["killer whale",7.97],["great white shark",.67],["gar",.37],["sea lion",.13],["albatross",.07]]},{image:"assets/images/whale-baseball-medium.png",caption:"",rows:[["great white shark",56.51],["grey whale",16.94],["baseball",8.31],["killer whale",6.18],["rugby ball",4.83],["ping-pong ball",1.68]]},{image:"assets/images/whale-baseball-large.png",caption:"",rows:[["baseball",99.95],["ping-pong ball",.02],["rugby ball",.02],["great white shark",.01],["tennis ball",
0],["golf ball",0]]}]}});new ng({target:document.querySelector("#samples")});new og({target:document.querySelector("#class-grids")})})})();
//# sourceMappingURL=main.min.js.map
