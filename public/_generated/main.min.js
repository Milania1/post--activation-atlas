'use strict';(function(){function Y(){}function q(b,a){for(var c in a)b[c]=a[c];return b}function ha(b,a){for(var c in a)b[c]=1;return b}function D(b){b.parentNode.removeChild(b)}function Tb(b){for(;b.nextSibling;)b.parentNode.removeChild(b.nextSibling)}function pb(b,a){for(;b.firstChild;)a.appendChild(b.firstChild)}function Z(b,a){for(var c=0;c<b.length;c+=1)b[c]&&b[c].d(a)}function ca(){return document.createDocumentFragment()}function k(b){return document.createElement(b)}function r(b){return document.createElementNS("http://www.w3.org/2000/svg",
b)}function h(b){return document.createTextNode(b)}function ma(){return document.createComment("")}function e(b,a,c){null==c?b.removeAttribute(a):b.setAttribute(a,c)}function Wa(b,a,c){b.setAttributeNS("http://www.w3.org/1999/xlink",a,c)}function Ec(b){return""===b?void 0:+b}function da(b,a){b.data=""+a}function w(b,a,c){b.style.setProperty(a,c)}function Ta(b,a){"static"===getComputedStyle(b).position&&(b.style.position="relative");let c=document.createElement("object");c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");
c.type="text/html";let d;c.onload=()=>{d=c.contentDocument.defaultView;d.addEventListener("resize",a)};/Trident/.test(navigator.userAgent)?(b.appendChild(c),c.data="about:blank"):(c.data="about:blank",b.appendChild(c));return{cancel:()=>{d&&d.removeEventListener&&d.removeEventListener("resize",a);b.removeChild(c)}}}function Zc(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}function nf(b,a){return b!=b?a==a:b!==a}function $c(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=
0;c<b.length;c+=1){var d=b[c];if(!d.__calling)try{d.__calling=!0,d.call(this,a)}finally{d.__calling=!1}}}function O(b){b._lock=!0;Fc(b._beforecreate);Fc(b._oncreate);Fc(b._aftercreate);b._lock=!1}function ad(){return this._state}function F(b,a){b._handlers=Object.create(null);b._slots=Object.create(null);b._bind=a._bind;b._staged={};b.options=a;b.root=a.root||b;b.store=a.store||b.root.store;a.root||(b._beforecreate=[],b._oncreate=[],b._aftercreate=[])}function bd(b,a){var c=this._handlers[b]||(this._handlers[b]=
[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}}function Fc(b){for(;b&&b.length;)b.shift()()}function jb(){this.store._remove(this)}function cd(b,a){this._handlers={};this._dependents=[];this._computed=Object.create(null);this._sortedComputedProperties=[];this._state=q({},b);this._differs=a&&a.immutable?nf:Zc}function of(){this.refs.element.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.element.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});
this.fire("onscreen")});this.refs.element.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function pf(b,a){var c,d=b._slotted.default;return{c(){c=k("d-figure");w(c,"display",a.display)},m(a,e){a.insertBefore(c,e);d&&c.appendChild(d);b.refs.element=c},p(a,b){a.display&&w(c,"display",b.display)},d(a){a&&D(c);d&&pb(c,d);b.refs.element===c&&(b.refs.element=null)}}}function Gc(b){F(this,b);this.refs={};this._state=q({display:"block",ready:!1,onscreen:!1,offscreen:!0},
b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=pf(this,this._state);this.root._oncreate.push(()=>{of.call(this);this.fire("update",{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function qf(b,a){var c;return{c(){c=k("div");c.innerHTML='<span class="svelte-19e83wz">Loading \u2026</span>';c.className="svelte-19e83wz"},m(a,b){a.insertBefore(c,b)},p:Y,d(a){a&&D(c)}}}function Hc(b){F(this,b);this._state=q({},b.data);
this._intro=!0;this._fragment=qf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function rf({radarReady:b,component:a}){return b&&a?!0:!1}function sf({width:b,height:a,aspectRatio:c,minHeight:d}){if(a)return a;if(c)return b/=c,d?Math.min(d,b):b}function tf(){let {height:b,aspectRatio:a}=this.get();b||a||console.warn(`Require 'height'${b} or 'aspectRatio'${a} not set on LazyComponent.html`,this);let {url:c}=this.get();c&&import(c).then((a)=>{this.set({component:a.default})})}
function uf(b,a){function c(){b.set({width:d.clientWidth})}var d,f,e=a.ready?dd:ed,g=e(b,a),m={offscreen:a.offscreen,onscreen:a.onscreen};if(void 0!==a.radarReady){m.ready=a.radarReady;var l=!0}var p=new Gc({root:b.root,store:b.store,slots:{default:ca()},data:m,_bind(a,c){var d={};!l&&a.ready&&(d.radarReady=c.ready);b._set(d);l=void 0}});b.root._beforecreate.push(()=>{p._bind({ready:1},p.get())});return{c(){d=k("div");g.c();p._fragment.c();b.root._beforecreate.push(c);w(d,"height",""+a.finalHeight+
"px");d.className="svelte-1texnz1 svelte-ref-container"},m(a,e){p._slotted.default.appendChild(d);g.m(d,null);f=Ta(d,c);b.refs.container=d;p._mount(a,e)},p(c,f){a=f;e===(e=a.ready?dd:ed)&&g?g.p(c,a):(g.d(1),g=e(b,a),g.c(),g.m(d,null));c.finalHeight&&w(d,"height",""+a.finalHeight+"px");f={};c.offscreen&&(f.offscreen=a.offscreen);c.onscreen&&(f.onscreen=a.onscreen);!l&&c.radarReady&&(f.ready=a.radarReady,l=void 0!==a.radarReady);p._set(f);l=void 0},d(a){g.d();f.cancel();b.refs.container===d&&(b.refs.container=
null);p.destroy(a)}}}function ed(b,a){var c=new Hc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:Y,d(a){c.destroy(a)}}}function dd(b,a){function c(a){a={};for(var c=0;c<f.length;c+=1)a=q(a,f[c]);return{root:b.root,store:b.store,data:a}}var d,f=[a.componentData],e=a.component;if(e)var g=new e(c(a));return{c(){g&&g._fragment.c();d=ma()},m(a,b){g&&g._mount(a,b);a.insertBefore(d,b)},p(a,b){if(a.componentData){a=f;for(var l=[b.componentData],n={},m={},u={},y=a.length;y--;){var H=
a[y],J=l[y];if(J){for(v in H)v in J||(m[v]=1);for(v in J)u[v]||(n[v]=J[v],u[v]=1);a[y]=J}else for(v in H)u[v]=1}for(v in m)v in n||(n[v]=void 0);var v=n}else v={};e!==(e=b.component)?(g&&g.destroy(),e?(g=new e(c(b)),g._fragment.c(),g._mount(d.parentNode,d)):g=null):e&&g._set(v)},d(a){a&&D(d);g&&g.destroy(a)}}}function T(b){F(this,b);this.refs={};this._state=q({component:null,url:null,componentData:null,radarReady:!1,onscreen:!1,offsreen:!0,height:!1,width:null,aspectRatio:null,minHeight:null},b.data);
this._recompute({radarReady:1,component:1,width:1,height:1,aspectRatio:1,minHeight:1},this._state);this._intro=!0;this._fragment=uf(this,this._state);this.root._oncreate.push(()=>{tf.call(this);this.fire("update",{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function vf(b,a){var c,d,f,n,g,m,l;return{c(){c=k("a");d=r("svg");f=r("path");n=h("\n  ");g=k("span");m=h(a.text);e(f,"d","M14,2c0-0.3-0.2-0.5-0.5-0.5S13,1.7,13,2v12c0,0.6-0.4,1-1,1H3.1c-0.3,0-0.5-0.1-0.7-0.3L1.7,14h8.8c0.8,0,1.5-0.7,1.5-1.5\n      l0-11C12,0.7,11.3,0,10.5,0l-9,0C0.7,0,0,0.7,0,1.5v12.1c0,0.3,0.1,0.5,0.3,0.7l1.4,1.4C1.9,15.9,2.1,16,2.4,16h10.1\n      c0.8,0,1.5-0.7,1.5-1.5l0-1.8C14,9,14,2,14,2z M9.1,9.6c0,0.3-0.2,0.5-0.5,0.5H5.4c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h3.1\n      C8.8,9.1,9.1,9.3,9.1,9.6z M2.3,4.7C2.1,4.5,2.1,4.2,2.3,4C2.5,3.8,2.8,3.8,3,4l2.8,2.6L3,9.3C2.9,9.4,2.8,9.4,2.7,9.4\n      c-0.1,0-0.3-0.1-0.4-0.2c-0.2-0.2-0.2-0.5,0-0.7l2-1.9L2.3,4.7z");
e(f,"class","svelte-1i7b4jt");e(d,"viewBox","0 0 18 18");e(d,"class","svelte-1i7b4jt");g.className="svelte-1i7b4jt";c.href=a.url;c.className=l="root emphasis-"+a.emphasis+" svelte-1i7b4jt"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);c.appendChild(n);c.appendChild(g);g.appendChild(m)},p(a,b){a.text&&da(m,b.text);a.url&&(c.href=b.url);a.emphasis&&l!==(l="root emphasis-"+b.emphasis+" svelte-1i7b4jt")&&(c.className=l)},d(a){a&&D(c)}}}function kb(b){F(this,b);this._state=q({url:"",text:"Try in a notebook",
emphasis:1},b.data);this._intro=!0;this._fragment=vf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function vb(b,a){if(0>(a=(b=a?b.toExponential(a-1):b.toExponential()).indexOf("e")))return null;var c=b.slice(0,a);return[1<c.length?c[0]+c.slice(2):c,+b.slice(a+1)]}function wf(b){return b=vb(Math.abs(b)),b?b[1]:NaN}function xf(b,a){return function(c,d){for(var f=c.length,e=[],g=0,m=b[0],l=0;0<f&&0<m;){l+m+1>d&&(m=Math.max(1,d-l));e.push(c.substring(f-=m,f+m));if((l+=
m+1)>d)break;m=b[g=(g+1)%b.length]}return e.reverse().join(a)}}function yf(b){return function(a){return a.replace(/[0-9]/g,function(a){return b[+a]})}}function Ic(b){return new Jc(b)}function Jc(b){if(!(a=zf.exec(b)))throw Error("invalid format: "+b);var a;this.fill=a[1]||" ";this.align=a[2]||">";this.sign=a[3]||"-";this.symbol=a[4]||"";this.zero=!!a[5];this.width=a[6]&&+a[6];this.comma=!!a[7];this.precision=a[8]&&+a[8].slice(1);this.trim=!!a[9];this.type=a[10]||""}function fd(b,a){a=vb(b,a);if(!a)return b+
"";b=a[0];a=a[1];return 0>a?"0."+Array(-a).join("0")+b:b.length>a+1?b.slice(0,a+1)+"."+b.slice(a+1):b+Array(a-b.length+2).join("0")}function gd(b){return b}function Af(b){function a(a){function b(a){var b=r,d=z,g,l;if("c"===k)d=B(a)+d,a="";else{a=+a;var p=0>a;a=B(Math.abs(a),v);if(h){var u=a.length,t=1,ba=-1;a:for(;t<u;++t)switch(a[t]){case ".":ba=g=t;break;case "0":0===ba&&(ba=t);g=t;break;default:if(0<ba){if(!+a[t])break a;ba=0}}a=0<ba?a.slice(0,ba)+a.slice(g+1):a}p&&0===+a&&(p=!1);b=(p?"("===x?
x:"-":"-"===x||"("===x?"":x)+b;d=("s"===k?hd[8+id/3]:"")+d+(p&&"("===x?")":"");if(w)for(p=-1,g=a.length;++p<g;)if(l=a.charCodeAt(p),48>l||57<l){d=(46===l?f+a.slice(p+1):a.slice(p))+d;a=a.slice(0,p);break}}J&&!y&&(a=c(a,Infinity));l=b.length+a.length+d.length;p=l<H?Array(H-l+1).join(n):"";J&&y&&(a=c(p+a,p.length?H-d.length:Infinity),p="");switch(m){case "<":a=b+a+d+p;break;case "=":a=b+p+a+d;break;case "^":a=p.slice(0,l=p.length>>1)+b+a+d+p.slice(l);break;default:a=p+b+a+d}return e(a)}a=Ic(a);var n=
a.fill,m=a.align,x=a.sign,u=a.symbol,y=a.zero,H=a.width,J=a.comma,v=a.precision,h=a.trim,k=a.type;"n"===k?(J=!0,k="g"):jd[k]||(null==v&&(v=12),h=!0,k="g");if(y||"0"===n&&"="===m)y=!0,n="0",m="=";var r="$"===u?d[0]:"#"===u&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",z="$"===u?d[1]:/[%p]/.test(k)?g:"",B=jd[k],w=/[defgprs%]/.test(k);v=null==v?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));b.toString=function(){return a+""};return b}var c=b.grouping&&b.thousands?xf(b.grouping,b.thousands):
gd,d=b.currency,f=b.decimal,e=b.numerals?yf(b.numerals):gd,g=b.percent||"%";return{format:a,formatPrefix:function(b,c){var d=a((b=Ic(b),b.type="f",b));b=3*Math.max(-8,Math.min(8,Math.floor(wf(c)/3)));var f=Math.pow(10,-b),g=hd[8+b/3];return function(a){return d(f*a)+g}}}}function Bf(b,a){function c(a){b.fire("click")}var d,f=b._slotted.default;return{c(){d=k("button");d.addEventListener("click",c,void 0);d.className="svelte-1d81900"},m(a,b){a.insertBefore(d,b);f&&d.appendChild(f)},p:Y,d(a){a&&D(d);
f&&pb(d,f);d.removeEventListener("click",c,void 0)}}}function cc(b){F(this,b);this._state=q({},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Bf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Cf(b,a){var c,d,f;return{c(){c=r("svg");d=r("path");f=r("path");e(d,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z");e(f,"d","M0 0h24v24H0z");e(f,"fill","none");e(c,"xmlns","http://www.w3.org/2000/svg");e(c,"width","24");e(c,"height","24");e(c,"viewBox","0 0 24 24")},
m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(f)},p:Y,d(a){a&&D(c)}}}function kd(b){F(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Cf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Df(b,a){var c,d,f;return{c(){c=r("svg");d=r("path");f=r("path");e(d,"d","M19 13H5v-2h14v2z");e(f,"d","M0 0h24v24H0z");e(f,"fill","none");e(c,"xmlns","http://www.w3.org/2000/svg");e(c,"width","24");e(c,"height","24");e(c,"viewBox","0 0 24 24")},m(a,
b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(f)},p:Y,d(a){a&&D(c)}}}function ld(b){F(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Df(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ef(b,a){var c,d,f;return{c(){c=r("svg");d=r("path");f=r("path");e(d,"d","M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z");e(f,"d","M0 0h24v24H0z");e(f,"fill","none");e(c,"xmlns","http://www.w3.org/2000/svg");e(c,"width","24");e(c,"height","24");e(c,"viewBox","0 0 24 24")},
m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(f)},p:Y,d(a){a&&D(c)}}}function md(b){F(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Ef(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ff({name:b}){if("home"===b)return md;if("add"===b)return kd;if("remove"===b)return ld}function Gf(b,a){var c,d=a.Icon;if(d)var f=new d({root:b.root,store:b.store});return{c(){c=k("div");f&&f._fragment.c();w(c,"fill",a.color)},m(a,b){a.insertBefore(c,
b);f&&f._mount(c,null)},p(a,g){d!==(d=g.Icon)&&(f&&f.destroy(),d?(f=new d({root:b.root,store:b.store}),f._fragment.c(),f._mount(c,null)):f=null);a.color&&w(c,"fill",g.color)},d(a){a&&D(c);f&&f.destroy()}}}function Jb(b){F(this,b);this._state=q({color:"black"},b.data);this._recompute({name:1},this._state);this._intro=!0;this._fragment=Gf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function nd(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+
": d["+b+"]"}).join(",")+"}")}function Hf(b,a){var c=nd(b);return function(d,f){return a(c(d),f,b)}}function If(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function od(b){function a(a,b){function c(){if(H)return Kc;if(J)return J=!1,pd;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<f&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=f?H=!0:10===(d=a.charCodeAt(g++))?J=!0:13===d&&(J=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,
'"')}for(;g<f;){if(10===(d=a.charCodeAt(b=g++)))J=!0;else if(13===d)J=!0,10===a.charCodeAt(g)&&++g;else if(d!==e)continue;return a.slice(c,b)}return H=!0,a.slice(c,f)}var d=[],f=a.length,g=0,n=0,m,H=0>=f,J=!1;10===a.charCodeAt(f-1)&&--f;for(13===a.charCodeAt(f-1)&&--f;(m=c())!==Kc;){for(var v=[];m!==pd&&m!==Kc;)v.push(m),m=c();b&&null==(v=b(v,n++))||d.push(v)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":f.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var f=new RegExp('["'+
b+"\n\r]"),e=b.charCodeAt(0);return{parse:function(b,c){var d,f;b=a(b,function(a,b){if(d)return d(a,b-1);f=a;d=c?Hf(a,c):nd(a)});b.columns=f||[];return b},parseRows:a,format:function(a,c){null==c&&(c=If(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}function qd(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function dc(b){return new Promise((a,c)=>{let d=new Image;
d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function mc(b){return fetch(b).then(qd).then((a)=>a.text())}function ub(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();nc.set(c,!1);if(Lc.has(a)){let b=Lc.get(a);nc.set(b,!0)}Lc.set(a,c);return new Promise((a,f)=>{if(Array.isArray(b)){var d=b.map((a)=>rd(a));d=Promise.all(d)}else d=rd(b);d.then((b)=>{nc.get(c)||a(b)}).catch((a)=>{nc.get(c)||f(a)})})}function rd(b){if(Mc.has(b))return Mc.get(b);
var a=sd;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=sd.get(a)(b);Mc.set(b,a);return a}function td(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function Jf(b){return function(a,c){return td(b(a),c)}}function aa(b,a,c){b=+b;a=+a;c=2>(f=arguments.length)?(a=b,b=0,1):3>f?1:+c;for(var d=-1,f=Math.max(0,Math.ceil((a-b)/c))|0,e=Array(f);++d<f;)e[d]=b+d*c;return e}function Kf({changed:b}){this.set({data:null});
if(b.layer||b.classFilter||b.id||b.layout||b.filter){let {root:a,id:b,layer:d,classFilter:f,filter:e,fingerprint:g,layout:m}=this.get();ub(`${a}/${b}/${b}.json`,g).then((c)=>{this.set({config:c});if(null!==f){null==c.class_filter&&(c.class_filter="None");null==c.filter&&(c.filter="None");Array.isArray(c.grid_size)||(c.grid_size=[c.grid_size]);Array.isArray(c.class_filter)||(c.class_filter=[c.class_filter]);Array.isArray(c.layer)||(c.layer=[c.layer]);Array.isArray(c.layout)||(c.layout=[c.layout]);
Array.isArray(c.filter)||(c.filter=[c.filter]);let g=c.grid_size.map((g)=>`${a}/${b}/web/web--grid_size=${g}--layout=${c.layout[m]}--class_filter=${c.class_filter[f]}--filter=${c.filter[e]}--layer=${c.layer[d]}--model=${c.model}--sample_images=${c.sample_images}--sample_type=${c.sample_type}.json`);ub(g).then((g)=>{let l=Array(g.length);g.forEach((g,n)=>{let p=c.grid_size[n],u=c.tile_size;Array(p/u).keys();let v=[...Array(p).keys()].map((a)=>Array(p));for(let l of g){void 0!==l.x&&(l.grid_x=l.x);
void 0!==l.y&&(l.grid_y=l.y);void 0!==l.n&&(l.num_activations=l.n);void 0!==l.i&&(l.top_class_indices=l.i);void 0!==l.v&&(l.top_class_values=l.v);void 0!==l.f&&(l.full_class_values=l.f,l.full_class_indices=oc);g=l.grid_x;let n=l.grid_y,t=Math.floor(g/u),y=Math.floor(n/u);l.localX=g%u;l.localY=n%u;l.url=`${a}/${b}/render/render--x=${t}--y=${y}--tries=${c.tries}--alpha=${c.alpha?"True":"False"}--tile_size=${c.tile_size}--whiten=${c.whiten}--steps=${c.steps}--icon_size=${c.icon_size}--grid_size=${p}--layout=${c.layout[m]}--class_filter=${c.class_filter[f]}--filter=${c.filter[e]}--layer=${c.layer[d]}--model=${c.model}--sample_images=${c.sample_images}--sample_type=${c.sample_type}.jpg`;
v[l.grid_x][l.grid_y]=l}l[n]=v});this.set({layers:l});ub(`${a}/labels--model-${c.model}.txt`).then((a)=>{a=a.split("\n");this.set({labels:a})})})}})}}function Nc(b){F(this,b);this._state=q({fingerprint:Math.random()+Date.now(),root:"https://storage.googleapis.com/activation-atlas/build",id:"inceptionv1",layer:0,classFilter:0,filter:0,layout:0,config:null,layers:null,labels:null},b.data);this._intro=!0;this._handlers.update=[Kf];this._fragment={c:Y,m:Y,p:Y,d:Y};this.root._oncreate.push(()=>{this.fire("update",
{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Lf(b){return function(){return b}}function Oc(b,a){if(b===a||b!==b)return Lf(b);var c=typeof b;if(c!==typeof a||Array.isArray(b)!==Array.isArray(a))throw Error("Cannot interpolate values of different type");if(Array.isArray(b)){var d=a.map(function(a,c){return Oc(b[c],a)});return function(a){return d.map(function(b){return b(a)})}}if("object"===c){if(!b||!a)throw Error("Object cannot be null");
if("[object Date]"===Object.prototype.toString.call(b)&&"[object Date]"===Object.prototype.toString.call(a)){b=b.getTime();a=a.getTime();var f=a-b;return function(a){return new Date(b+a*f)}}var e=Object.keys(a),g={},m={};e.forEach(function(c){g[c]=Oc(b[c],a[c])});return function(a){e.forEach(function(b){m[b]=g[b](a)});return m}}if("number"===c){var l=a-b;return function(a){return b+a*l}}throw Error("Cannot interpolate "+c+" values");}function Mf(b){return b}function eb(b){return.5>b?4*b*b*b:.5*Math.pow(2*
b-2,3)+1}function Nf({width:b,unit:a}){return b/a}function Of(b,a){var c;return{c(){c=k("div");c.className="svelte-16epbqg svelte-ref-capture"},m(a,f){a.insertBefore(c,f);b.refs.capture=c},p:Y,d(a){a&&D(c);b.refs.capture===c&&(b.refs.capture=null)}}}function pc(b){F(this,b);this.refs={};this._state=q({width:100,height:100,gcx:.5,gcy:.5,scx:.5,scy:.5,unit:100},b.data);this._recompute({width:1,unit:1},this._state);this._intro=!0;this._fragment=Of(this,this._state);this.root._oncreate.push(()=>{this.fire("update",
{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Pf(){this.refs.figure.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.figure.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.figure.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function Qf(b,a){var c,d=b._slotted.default;return{c(){c=k("d-figure")},m(a,e){a.insertBefore(c,
e);d&&c.appendChild(d);b.refs.figure=c},p:Y,d(a){a&&D(c);d&&pb(c,d);b.refs.figure===c&&(b.refs.figure=null)}}}function Pc(b){F(this,b);this.refs={};this._state=q({ready:!1,onscreen:!1},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Qf(this,this._state);this.root._oncreate.push(()=>{Pf.call(this);this.fire("update",{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Rf({layers:b,layer:a}){if(null==b)return 0;
let c=0;b[a].forEach((a)=>{a.forEach((a)=>{a&&500<a.num_activations&&(a=a.full_class_values[0],a>c&&(c=a))})});return c}function Sf({viewWidth:b,viewHeight:a}){return b/a}function Tf({viewWidth:b,viewHeight:a}){return Math.min(b,a)}function Uf({gcx:b,gcy:a,scale:c,viewWidth:d,viewHeight:f,minViewDimInPx:e}){return{x:d/2-b*e*c,y:f/2-a*e*c}}function Vf({scale:b,gridSize:a}){let c=0;null!=a?c=a:(1<b&&(c=0),2<b&&(c=1),4<b&&(c=2),8<b&&(c=3),16<b&&(c=4));return+c}function Wf({currentZoomIndex:b,layers:a}){if(a&&
b)return a[b].length}function Xf({config:b,minViewDimInPx:a,currentZoomIndex:c,scale:d}){if(b)return a/b.grid_size[c]*d}function Yf({mouseMoveMode:b,onCanvas:a,currentIconInfo:c,enableHover:d}){return d&&a&&"hover"==b&&c}function Zf({minViewDimInPx:b,config:a,currentZoomIndex:c,scale:d}){if(a)return b/(a.icon_size*a.grid_size[c])*d}function $f({lastRecordedCanvasPos:b,topLeft:a,layerScale:c,config:d}){if(d)return{x:Math.floor((b.x-a.x)/(c*d.icon_size)),y:Math.floor((b.y-a.y)/(c*d.icon_size))}}function ag({config:b,
layerScale:a,topLeft:c,gridSelected:d}){if(b)return{x:d.x*b.icon_size*a+c.x-1,y:d.y*b.icon_size*a+c.y-1}}function bg({layers:b,currentZoomIndex:a,gridSelected:c}){if(b&&b[a]&&b[a][c.y]&&b[a][c.y][c.x]&&(b=b[a][c.y][c.x],0<b.num_activations))return b}function cg(){return{id:"inceptionv1",config:null,layers:null,labels:null,layer:0,layout:0,classFilter:0,filter:0,minActivations:1,showLabels:!1,showHoverImage:!1,context:null,alphaAttributionFactor:.02,scaleCountFactor:1,classHeatmap:-1,classHeatmapMultiplier:1,
classHeatmapPositive:1,gridSize:null,showGrid:!1,homeX:.5,homeY:.5,homeScale:1,iconCrop:.02,zoomFactors:{out:.5,in:2},enableClickToZoom:!0,enableHover:!0,enableDragToPan:!0,backgroundColor:"white",strokeColor:"rgb(220, 220, 220)",lastRecordedCanvasPos:{x:-100,y:-100},mouseDownScreenPos:{x:0,y:0},mouseMoveMode:"hover",onCanvas:!1,screenResolution:1,mouseDownTimer:0,mouseMoveFunction:function(){},mouseUpFunction:function(){}}}function dg({changed:b}){this.set({context:this.refs.canvas.getContext("2d")});
(b.maxAttributionValue||b.minActivations||b.classHeatmap||b.classHeatmapMultiplier||b.classHeatmapPositive||b.labels||b.showLabels||b.viewWidth||b.viewHeight||b.scale||b.iconCrop||b.currentZoomIndex||b.layers||b.alphaAttributionFactor||b.scaleCountFactor||b.gcx||b.gcy)&&this.render();b.currentIconInfo&&this.updateIconHoverImage()}function ud(b,a,c){b=Object.create(b);b.top=a[c];b.i=c;return b}function eg(b,a){function c(a){b.mouseDown(a)}function d(a){b.mouseMove(a)}function f(a){b.mouseEnter(a)}
function e(a){b.mouseOut(a)}function g(){b.set({viewWidth:p.clientWidth,viewHeight:p.clientHeight})}var m,l,p,t,x,u,y,H,J,v,ba,r,q={};if(void 0!==a.ready){q.ready=a.ready;var z=!0}var B=new Pc({root:b.root,store:b.store,data:q,_bind(a,c){var d={};!z&&a.ready&&(d.ready=c.ready);b._set(d);z=void 0}});b.root._beforecreate.push(()=>{B._bind({ready:1},B.get())});var E=a.ready&&vd(b,a);q={width:a.viewWidth,height:a.viewHeight};if(void 0!==a.scale){q.scale=a.scale;var K=!0}if(void 0!==a.unit){q.unit=a.unit;
var P=!0}if(void 0!==a.gcx){q.gcx=a.gcx;var I=!0}if(void 0!==a.gcy){q.gcy=a.gcy;var N=!0}var M=new pc({root:b.root,store:b.store,data:q,_bind(a,c){var d={};!K&&a.scale&&(d.scale=c.scale);!P&&a.unit&&(d.unit=c.unit);!I&&a.gcx&&(d.gcx=c.gcx);!N&&a.gcy&&(d.gcy=c.gcy);b._set(d);N=I=P=K=void 0}});b.root._beforecreate.push(()=>{M._bind({scale:1,unit:1,gcx:1,gcy:1},M.get())});b.refs.zoom=M;var G=a.showHoverIcon&&wd(b,a),Q=a.labels&&a.showHoverIcon&&a.currentIconInfo&&a.currentIconInfo.top_class_indices&&
xd(b,a);return{c(){B._fragment.c();m=h("\n\n");E&&E.c();l=h("\n\n  ");p=k("div");t=k("div");M._fragment.c();x=h("\n      ");u=k("canvas");J=h("\n      ");G&&G.c();ba=h("\n\n    ");Q&&Q.c();u.width=y=a.viewWidth*a.screenResolution;u.height=H=a.viewHeight*a.screenResolution;w(u,"width",""+a.viewWidth+"px");w(u,"height",""+a.viewHeight+"px");u.className="svelte-ptap6b svelte-ref-canvas";t.addEventListener("mousedown",c,void 0);t.addEventListener("mousemove",d,void 0);t.addEventListener("mouseenter",
f,void 0);t.addEventListener("mouseout",e,void 0);t.className=v=("pan"==a.mouseMoveMode&a.enableDragToPan?"panning":"")+" svelte-ptap6b svelte-ref-stage";b.root._beforecreate.push(g);p.className="svelte-ptap6b svelte-ref-root"},m(a,c){B._mount(a,c);a.insertBefore(m,c);E&&E.m(a,c);a.insertBefore(l,c);a.insertBefore(p,c);p.appendChild(t);M._mount(t,null);t.appendChild(x);t.appendChild(u);b.refs.canvas=u;t.appendChild(J);G&&G.m(t,null);b.refs.stage=t;p.appendChild(ba);Q&&Q.m(p,null);r=Ta(p,g);b.refs.root=
p},p(c,d){a=d;d={};!z&&c.ready&&(d.ready=a.ready,z=void 0!==a.ready);B._set(d);z=void 0;a.ready?E?E.p(c,a):(E=vd(b,a),E.c(),E.m(l.parentNode,l)):E&&(E.d(1),E=null);d={};c.viewWidth&&(d.width=a.viewWidth);c.viewHeight&&(d.height=a.viewHeight);!K&&c.scale&&(d.scale=a.scale,K=void 0!==a.scale);!P&&c.unit&&(d.unit=a.unit,P=void 0!==a.unit);!I&&c.gcx&&(d.gcx=a.gcx,I=void 0!==a.gcx);!N&&c.gcy&&(d.gcy=a.gcy,N=void 0!==a.gcy);M._set(d);N=I=P=K=void 0;(c.viewWidth||c.screenResolution)&&y!==(y=a.viewWidth*
a.screenResolution)&&(u.width=y);(c.viewHeight||c.screenResolution)&&H!==(H=a.viewHeight*a.screenResolution)&&(u.height=H);c.viewWidth&&w(u,"width",""+a.viewWidth+"px");c.viewHeight&&w(u,"height",""+a.viewHeight+"px");a.showHoverIcon?G?G.p(c,a):(G=wd(b,a),G.c(),G.m(t,null)):G&&(G.d(1),G=null);(c.mouseMoveMode||c.enableDragToPan)&&v!==(v=("pan"==a.mouseMoveMode&a.enableDragToPan?"panning":"")+" svelte-ptap6b svelte-ref-stage")&&(t.className=v);a.labels&&a.showHoverIcon&&a.currentIconInfo&&a.currentIconInfo.top_class_indices?
Q?Q.p(c,a):(Q=xd(b,a),Q.c(),Q.m(p,null)):Q&&(Q.d(1),Q=null)},d(a){B.destroy(a);a&&D(m);E&&E.d(a);a&&(D(l),D(p));M.destroy();b.refs.zoom===M&&(b.refs.zoom=null);b.refs.canvas===u&&(b.refs.canvas=null);G&&G.d();t.removeEventListener("mousedown",c,void 0);t.removeEventListener("mousemove",d,void 0);t.removeEventListener("mouseenter",f,void 0);t.removeEventListener("mouseout",e,void 0);b.refs.stage===t&&(b.refs.stage=null);Q&&Q.d();r.cancel();b.refs.root===p&&(b.refs.root=null)}}}function vd(b,a){var c=
{id:a.id,layer:a.layer,layout:a.layout,classFilter:a.classFilter,filter:a.filter};if(void 0!==a.config){c.config=a.config;var d=!0}if(void 0!==a.layers){c.layers=a.layers;var f=!0}if(void 0!==a.labels){c.labels=a.labels;var e=!0}var g=new Nc({root:b.root,store:b.store,data:c,_bind(a,c){var g={};!d&&a.config&&(g.config=c.config);!f&&a.layers&&(g.layers=c.layers);!e&&a.labels&&(g.labels=c.labels);b._set(g);e=f=d=void 0}});b.root._beforecreate.push(()=>{g._bind({config:1,layers:1,labels:1},g.get())});
return{c(){g._fragment.c()},m(a,b){g._mount(a,b)},p(b,c){a=c;c={};b.id&&(c.id=a.id);b.layer&&(c.layer=a.layer);b.layout&&(c.layout=a.layout);b.classFilter&&(c.classFilter=a.classFilter);b.filter&&(c.filter=a.filter);!d&&b.config&&(c.config=a.config,d=void 0!==a.config);!f&&b.layers&&(c.layers=a.layers,f=void 0!==a.layers);!e&&b.labels&&(c.labels=a.labels,e=void 0!==a.labels);g._set(c);e=f=d=void 0},d(a){g.destroy(a)}}}function wd(b,a){var c;return{c(){c=k("div");c.className="icon svelte-ptap6b";w(c,
"width",a.iconSizeInPixels+2+"px");w(c,"height",a.iconSizeInPixels+2+"px");w(c,"left",a.topLeftCornerHover.x+"px");w(c,"top",a.topLeftCornerHover.y+"px")},m(a,b){a.insertBefore(c,b)},p(a,b){a.iconSizeInPixels&&(w(c,"width",b.iconSizeInPixels+2+"px"),w(c,"height",b.iconSizeInPixels+2+"px"));a.topLeftCornerHover&&(w(c,"left",b.topLeftCornerHover.x+"px"),w(c,"top",b.topLeftCornerHover.y+"px"))},d(a){a&&D(c)}}}function xd(b,a){var c,d,f,e,g,m,l=a.currentIconInfo.num_activations,p,t,x=-1<a.classHeatmap?
yd:zd,u=x(b,a),y=a.showHoverImage&&Ad(b,a);return{c(){c=k("div");d=k("table");u.c();f=h("\n        ");y&&y.c();e=h("\n        ");g=k("div");m=h("Average of ");p=h(l);t=h(" activations");d.className="svelte-ptap6b";w(g,"font-size","10px");w(g,"margin-top","4px");w(g,"color","#999");w(g,"text-align","right");c.className="hover svelte-ptap6b";w(c,"top",a.topLeftCornerHover.y+a.iconSizeInPixels+10+"px");w(c,"left",a.topLeftCornerHover.x+a.iconSizeInPixels+10+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);
u.m(d,null);c.appendChild(f);y&&y.m(c,null);c.appendChild(e);c.appendChild(g);g.appendChild(m);g.appendChild(p);g.appendChild(t)},p(a,f){x===(x=-1<f.classHeatmap?yd:zd)&&u?u.p(a,f):(u.d(1),u=x(b,f),u.c(),u.m(d,null));f.showHoverImage?y||(y=Ad(b,f),y.c(),y.m(c,e)):y&&(y.d(1),y=null);a.currentIconInfo&&l!==(l=f.currentIconInfo.num_activations)&&da(p,l);if(a.topLeftCornerHover||a.iconSizeInPixels)w(c,"top",f.topLeftCornerHover.y+f.iconSizeInPixels+10+"px"),w(c,"left",f.topLeftCornerHover.x+f.iconSizeInPixels+
10+"px")},d(a){a&&D(c);u.d();y&&y.d()}}}function zd(b,a){for(var c,d=a.currentIconInfo.top_class_indices.slice(0,5),f=[],e=0;e<d.length;e+=1)f[e]=Bd(b,ud(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=ma()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.currentIconInfo||a.labels){d=e.currentIconInfo.top_class_indices.slice(0,5);for(var g=0;g<d.length;g+=1){let l=ud(e,d,g);f[g]?f[g].p(a,l):(f[g]=Bd(b,l),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=
1)f[g].d(1);f.length=d.length}},d(a){Z(f,a);a&&D(c)}}}function yd(b,a){var c,d,f,e,g,m=a.labels[a.currentIconInfo.top_class_indices[0]],l,p,t,x=a.currentIconInfo.top_class_values[0].toPrecision(2),u;return{c(){c=k("tr");d=h("\n          ");f=k("tr");e=k("td");g=h("top class: ");l=h(m);p=h("\n            ");t=k("td");u=h(x);e.className="svelte-ptap6b";w(t,"text-align","right");t.className="svelte-ptap6b"},m(a,b){a.insertBefore(c,b);a.insertBefore(d,b);a.insertBefore(f,b);f.appendChild(e);e.appendChild(g);
e.appendChild(l);f.appendChild(p);f.appendChild(t);t.appendChild(u)},p(a,b){(a.labels||a.currentIconInfo)&&m!==(m=b.labels[b.currentIconInfo.top_class_indices[0]])&&da(l,m);a.currentIconInfo&&x!==(x=b.currentIconInfo.top_class_values[0].toPrecision(2))&&da(u,x)},d(a){a&&(D(c),D(d),D(f))}}}function Bd(b,a){var c,d,f=a.i+1,e,g,m,l,p=a.labels[a.top],t,x,u,y=a.currentIconInfo.top_class_values[a.i].toPrecision(2),H;return{c(){c=k("tr");d=k("td");e=h(f);g=h(".");m=h("\n              ");l=k("td");t=h(p);
x=h("\n              ");u=k("td");H=h(y);w(d,"width","10px");w(d,"text-align","right");w(d,"padding-right","4px");d.className="svelte-ptap6b";l.className=(0==a.i?"first":"")+" svelte-ptap6b";w(u,"text-align","right");u.className="svelte-ptap6b"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);d.appendChild(g);c.appendChild(m);c.appendChild(l);l.appendChild(t);c.appendChild(x);c.appendChild(u);u.appendChild(H)},p(a,b){(a.labels||a.currentIconInfo)&&p!==(p=b.labels[b.top])&&da(t,p);a.currentIconInfo&&
y!==(y=b.currentIconInfo.top_class_values[b.i].toPrecision(2))&&da(H,y)},d(a){a&&D(c)}}}function Ad(b,a){var c;return{c(){c=k("canvas")},m(a,f){a.insertBefore(c,f);b.refs.hoverImage=c},d(a){a&&D(c);b.refs.hoverImage===c&&(b.refs.hoverImage=null)}}}function Da(b){F(this,b);this.refs={};this._state=q(cg(),b.data);this._recompute({layers:1,layer:1,viewWidth:1,viewHeight:1,gcx:1,gcy:1,scale:1,minViewDimInPx:1,gridSize:1,currentZoomIndex:1,config:1,lastRecordedCanvasPos:1,topLeft:1,layerScale:1,gridSelected:1,
classHeatmap:1,mouseMoveMode:1,onCanvas:1,currentIconInfo:1,enableHover:1},this._state);this._intro=!0;this._handlers.update=[dg];this._fragment=eg(this,this._state);this.root._oncreate.push(()=>{this.home();this.fire("update",{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function fg({scale:b}){return 1/b}function gg({scale:b,aspectRatio:a}){return 1/b*a}function hg({gcx:b,w:a}){return b-a/2}function ig({gcy:b,h:a}){return b-
a/2}function jg({l:b,w:a}){return b+a}function kg({t:b,h:a}){return b+a}function lg({l:b,width:a}){return b*a}function mg({r:b,width:a}){return b*a}function ng({t:b,height:a}){return b*a}function og({b,height:a}){return b*a}function pg(b,a){function c(){b.set({width:d.clientWidth,height:d.clientHeight})}var d,f,e=a.scale&&Cd(b,a);return{c(){d=k("div");e&&e.c();b.root._beforecreate.push(c);d.className="root svelte-ctiyrz"},m(a,b){a.insertBefore(d,b);e&&e.m(d,null);f=Ta(d,c)},p(a,c){c.scale?e?e.p(a,
c):(e=Cd(b,c),e.c(),e.m(d,null)):e&&(e.d(1),e=null)},d(a){a&&D(d);e&&e.d();f.cancel()}}}function Cd(b,a){function c(a){b.mouseMove(a)}function d(a){b.mouseUp(a)}function f(a){b.mouseMove(a)}function n(a){b.mouseDown(a)}function g(a){b.mouseUp(a)}var m,l,p,t,x,u,y,H=a.annotationValue&&Dd(b,a);return{c(){m=r("svg");l=r("path");x=h("\n  ");u=k("div");H&&H.c();l.addEventListener("mousemove",c,void 0);l.addEventListener("mouseup",d,void 0);e(l,"class",p=(a.background?"":"transparent")+" svelte-ctiyrz");
e(l,"d",t="M0,0 L"+a.width+",0 L"+a.width+","+a.height+" L0,"+a.height+" z M"+a.left+","+a.top+" L"+a.left+","+a.bottom+" L"+a.right+","+a.bottom+"  L"+a.right+","+a.top+" z");e(m,"width",a.width);e(m,"height",a.height);e(m,"class","svelte-ctiyrz");u.addEventListener("mousemove",f,void 0);u.addEventListener("mousedown",n,void 0);u.addEventListener("mouseup",g,void 0);u.className=y="reticle "+(a.round?"round":"")+" svelte-ctiyrz";w(u,"box-sizing","content-box");w(u,"border-color",a.color);w(u,"top",
""+(a.top-2.5)+"px");w(u,"left",""+(a.left-2.5)+"px");w(u,"width",""+(a.right-a.left-1)+"px");w(u,"height",""+(a.bottom-a.top-1)+"px");w(u,"cursor",(a.enableDragging?"move":"default")+"\n      ")},m(a,b){a.insertBefore(m,b);m.appendChild(l);a.insertBefore(x,b);a.insertBefore(u,b);H&&H.m(u,null)},p(a,c){a.background&&p!==(p=(c.background?"":"transparent")+" svelte-ctiyrz")&&e(l,"class",p);(a.width||a.height||a.left||a.top||a.bottom||a.right)&&t!==(t="M0,0 L"+c.width+",0 L"+c.width+","+c.height+" L0,"+
c.height+" z M"+c.left+","+c.top+" L"+c.left+","+c.bottom+" L"+c.right+","+c.bottom+"  L"+c.right+","+c.top+" z")&&e(l,"d",t);a.width&&e(m,"width",c.width);a.height&&e(m,"height",c.height);c.annotationValue?H?H.p(a,c):(H=Dd(b,c),H.c(),H.m(u,null)):H&&(H.d(1),H=null);a.round&&y!==(y="reticle "+(c.round?"round":"")+" svelte-ctiyrz")&&(u.className=y);a.color&&w(u,"border-color",c.color);a.top&&w(u,"top",""+(c.top-2.5)+"px");a.left&&w(u,"left",""+(c.left-2.5)+"px");(a.right||a.left)&&w(u,"width",""+(c.right-
c.left-1)+"px");(a.bottom||a.top)&&w(u,"height",""+(c.bottom-c.top-1)+"px");a.enableDragging&&w(u,"cursor",(c.enableDragging?"move":"default")+"\n      ")},d(a){a&&D(m);l.removeEventListener("mousemove",c,void 0);l.removeEventListener("mouseup",d,void 0);a&&(D(x),D(u));H&&H.d();u.removeEventListener("mousemove",f,void 0);u.removeEventListener("mousedown",n,void 0);u.removeEventListener("mouseup",g,void 0)}}}function Dd(b,a){var c,d,f,e;return{c(){c=k("div");d=k("div");f=k("p");e=h(a.annotationValue);
f.className="annotation svelte-ctiyrz";d.className="annotationTab svelte-ctiyrz";w(d,"background",a.color);c.className="annotationTabParent svelte-ctiyrz";w(c,"top",""+(a.w*a.width-2)/2+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(e)},p(a,b){a.annotationValue&&da(e,b.annotationValue);a.color&&w(d,"background",b.color);(a.w||a.width)&&w(c,"top",""+(b.w*b.width-2)/2+"px")},d(a){a&&D(c)}}}function ra(b){F(this,b);this._state=q({width:0,height:0,dragging:!1,startPos:{x:-100,
y:-100},background:!0,round:!1,color:"#ff6600",enableDragging:!0},b.data);this._recompute({scale:1,aspectRatio:1,gcx:1,w:1,width:1,gcy:1,h:1,height:1,l:1,t:1,r:1,b:1},this._state);this._intro=!0;this._fragment=pg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function qg({clientWidth:b}){return b}function rg({width:b,aspectRatio:a}){return b/a}function sg(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,f,e=b._slotted.default,g;return{c(){d=k("div");
f=k("div");f.className="container svelte-xqvv98";b.root._beforecreate.push(c);d.className="root svelte-xqvv98";w(d,"display",a.display);w(d,"padding-bottom",""+100/a.aspectRatio+"%")},m(a,b){a.insertBefore(d,b);d.appendChild(f);e&&f.appendChild(e);g=Ta(d,c)},p(a,b){a.display&&w(d,"display",b.display);a.aspectRatio&&w(d,"padding-bottom",""+100/b.aspectRatio+"%")},d(a){a&&D(d);e&&pb(f,e);g.cancel()}}}function qc(b){F(this,b);this._state=q({display:"block",aspectRatio:1,clientWidth:0},b.data);this._recompute({clientWidth:1,
width:1,aspectRatio:1},this._state);this._intro=!0;this._slotted=b.slots||{};this._fragment=sg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function tg(b,a){var c,d,f=new Da({root:b.root,store:b.store,data:{id:a.id,classHeatmap:a.classHeatmap,gridSize:1,iconCrop:.3,scaleCountFactor:a.scaleCountFactor,alphaAttributionFactor:10,backgroundColor:"#f0f0f0"}});b.refs.overview=f;var e={enableDragging:!0};if(void 0!==a.aspectRatio){e.aspectRatio=a.aspectRatio;var g=
!0}if(void 0!==a.scale){e.scale=a.scale;var m=!0}if(void 0!==a.gcx){e.gcx=a.gcx;var l=!0}if(void 0!==a.gcy){e.gcy=a.gcy;var p=!0}var t=new ra({root:b.root,store:b.store,data:e,_bind(a,c){var d={};!g&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!m&&a.scale&&(d.scale=c.scale);!l&&a.gcx&&(d.gcx=c.gcx);!p&&a.gcy&&(d.gcy=c.gcy);b._set(d);p=l=m=g=void 0}});b.root._beforecreate.push(()=>{t._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},t.get())});var x=new qc({root:b.root,store:b.store,slots:{default:ca()}});
return{c(){c=k("div");f._fragment.c();d=h("\n    ");t._fragment.c();x._fragment.c();c.className="svelte-kiaj48 svelte-ref-root"},m(a,e){a.insertBefore(c,e);f._mount(x._slotted.default,null);x._slotted.default.appendChild(d);t._mount(x._slotted.default,null);x._mount(c,null);b.refs.root=c},p(b,c){a=c;c={};b.id&&(c.id=a.id);b.classHeatmap&&(c.classHeatmap=a.classHeatmap);b.scaleCountFactor&&(c.scaleCountFactor=a.scaleCountFactor);f._set(c);c={};!g&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,g=void 0!==
a.aspectRatio);!m&&b.scale&&(c.scale=a.scale,m=void 0!==a.scale);!l&&b.gcx&&(c.gcx=a.gcx,l=void 0!==a.gcx);!p&&b.gcy&&(c.gcy=a.gcy,p=void 0!==a.gcy);t._set(c);p=l=m=g=void 0},d(a){a&&D(c);f.destroy();b.refs.overview===f&&(b.refs.overview=null);t.destroy();x.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Ed(b){F(this,b);this.refs={};this._state=q({scaleCountFactor:200},b.data);this._intro=!0;this._fragment=tg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),
O(this))}function Qc(){}function rc(b){for(var a,c,d=1,f=arguments.length;d<f;d++)for(a in c=arguments[d],c)b[a]=c[a];return b}function Fd(b){this.destroy=Qc;this.fire("destroy");this.set=this.get=Qc;!1!==b&&this._fragment.u();this._fragment.d();this._fragment=this._state=null}function Gd(b,a,c,d,f){for(var e in a)if(c[e]){var g=d[e],m=f[e],l=a[e];if(l)for(var p=0;p<l.length;p+=1){var t=l[p];t.__calling||(t.__calling=!0,t.call(b,g,m),t.__calling=!1)}}}function sc(b){for(;b&&b.length;)b.shift()()}
function ug(b,a){return a?a:b}function vg(){let b=(a)=>{this.set({loaded:!0});var {img:a}=this.get();a.removeEventListener("loaded",b)};this.observe("index",(a)=>{this.draw()},{init:!1});this.observe("img",(a)=>{this.draw()},{init:!1});this.observe("loaded",(a)=>{this.draw()},{init:!1});this.observe("url",(a)=>{let c=this.get("img");c&&c.removeEventListener("load",b);if(Rc.has(a))a=Rc.get(a),a.loaded?this.set({loaded:!0,img:a.img}):(this.set({loaded:!1,img:a.img}),a.img.addEventListener("load",b));
else{let c=new Image;this.set({loaded:!1,img:c});let f={img:c},e=(a)=>{f.loaded=!0;c.removeEventListener("load",e)};c.addEventListener("load",e);c.addEventListener("load",b);Rc.set(a,f);c.src=a}})}function wg(b,a){var c;return{c:function(){c=document.createElement("canvas");this.h()},h:function(){c.width=a.width;c.height=a.realHeight},m:function(a,f){a.insertBefore(c,f);b.refs.canvas=c},p:function(a,b){a.width&&(c.width=b.width);a.realHeight&&(c.height=b.realHeight)},u:function(){c.parentNode.removeChild(c)},
d:function(){b.refs.canvas===c&&(b.refs.canvas=null)}}}function Hd(b){this._observers={pre:Object.create(null),post:Object.create(null)};this._handlers=Object.create(null);this._bind=b._bind;this.options=b;this.root=b.root||this;this.store=this.root.store||b.store;this.refs={};this._state=rc({url:"",index:0,width:100,loaded:null,columns:Infinity,height:null,img:null},b.data);this._recompute({width:1,height:1},this._state);var a=vg.bind(this);b.root||(this._oncreate=[]);this._fragment=wg(this,this._state);
this.root._oncreate.push(a);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),sc(this._oncreate))}function Id(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function xg(b,a){var c=Id(b);return function(d,f){return a(c(d),f,b)}}function yg(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function Jd(b){function a(a,b){function c(){if(k)return Sc;if(h)return h=!1,Kd;var b,
c=g,d;if(34===a.charCodeAt(c)){for(;g++<f&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=f?k=!0:10===(d=a.charCodeAt(g++))?h=!0:13===d&&(h=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<f;){if(10===(d=a.charCodeAt(b=g++)))h=!0;else if(13===d)h=!0,10===a.charCodeAt(g)&&++g;else if(d!==e)continue;return a.slice(c,b)}return k=!0,a.slice(c,f)}var d=[],f=a.length,g=0,m=0,n,k=0>=f,h=!1;10===a.charCodeAt(f-1)&&--f;for(13===a.charCodeAt(f-1)&&--f;(n=c())!==Sc;){for(var v=
[];n!==Kd&&n!==Sc;)v.push(n),n=c();b&&null==(v=b(v,m++))||d.push(v)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":f.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var f=new RegExp('["'+b+"\n\r]"),e=b.charCodeAt(0);return{parse:function(b,c){var d,f;b=a(b,function(a,b){if(d)return d(a,b-1);f=a;d=c?xg(a,c):Id(a)});b.columns=f||[];return b},parseRows:a,format:function(a,c){null==c&&(c=yg(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},
formatRows:function(a){return a.map(c).join("\n")}}}function Ld(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function tc(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function uc(b){return fetch(b).then(Ld).then((a)=>a.text())}function vc(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();wc.set(c,!1);if(Tc.has(a)){let b=Tc.get(a);wc.set(b,!0)}Tc.set(a,c);return new Promise((a,
f)=>{if(Array.isArray(b)){var d=b.map((a)=>Md(a));d=Promise.all(d)}else d=Md(b);d.then((b)=>{wc.get(c)||a(b)}).catch((a)=>{wc.get(c)||f(a)})})}function Md(b){if(Uc.has(b))return Uc.get(b);var a=Nd;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=Nd.get(a)(b);Uc.set(b,a);return a}function zg({clientWidth:b}){return b}function Ag({model:b,layerName:a}){return b+"_"+a}function Bg(){let {root:b,id:a,
grid:c}=this.get();vc(`${b}/${a}/${a}.json`).then((d)=>{null==d.class_filter&&(d.class_filter="None");null==d.filter&&(d.filter="None");Array.isArray(d.layout)||(d.layout=[d.layout]);Array.isArray(d.layer)||(d.layer=[d.layer]);Array.isArray(d.filter)||(d.filter=[d.filter]);this.set({gridSize:d.grid_size[c]});vc(`${b}/${a}/web/web--grid_size=${d.grid_size[c]}--layout=${d.layout[0]}--class_filter=${d.class_filter}--filter=${d.filter[0]}--layer=${d.layer[0]}--model=${d.model}--sample_images=${d.sample_images}--sample_type=${d.sample_type}.json`).then((a)=>
{this.set({icons:a});this.render()})})}function Cg({changed:b}){b.classHeatmap&&this.render()}function Dg(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,f,e;return{c(){d=k("div");f=k("canvas");f.width=a.gridSize;f.height=a.gridSize;w(f,"width",""+a.clientWidth+"px");w(f,"height",""+a.height+"px");f.className="svelte-sjakuy";b.root._beforecreate.push(c);w(d,"height",""+a.height+"px")},m(a,m){a.insertBefore(d,m);d.appendChild(f);b.refs.canvas=f;e=Ta(d,c)},p(a,b){a.gridSize&&(f.width=b.gridSize,
f.height=b.gridSize);a.clientWidth&&w(f,"width",""+b.clientWidth+"px");a.height&&(w(f,"height",""+b.height+"px"),w(d,"height",""+b.height+"px"))},d(a){a&&D(d);b.refs.canvas===f&&(b.refs.canvas=null);e.cancel()}}}function ua(b){F(this,b);this.refs={};this._state=q({root:"https://storage.googleapis.com/activation-atlas/build",model:"inceptionv1",layerName:"mixed4d",grid:1,layout:0,gridSize:10,classHeatmap:-1,icons:[]},b.data);this._recompute({clientWidth:1,model:1,layerName:1},this._state);this._intro=
!0;this._handlers.update=[Cg];this._fragment=Dg(this,this._state);this.root._oncreate.push(()=>{Bg.call(this);this.fire("update",{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Od(b,a,c){b=Object.create(b);b.layer=a[c];b.i=c;return b}function Eg(b,a){for(var c,d=a.layers,f=[],e=0;e<d.length;e+=1)f[e]=Pd(b,Od(a,d,e));return{c(){c=k("div");for(var a=0;a<f.length;a+=1)f[a].c();c.className="stack"},m(a,b){a.insertBefore(c,
b);for(a=0;a<f.length;a+=1)f[a].m(c,null)},p(a,e){if(a.layerName||a.layers||a.classHeatmap){d=e.layers;for(var g=0;g<d.length;g+=1){let l=Od(e,d,g);f[g]?f[g].p(a,l):(f[g]=Pd(b,l),f[g].c(),f[g].m(c,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){a&&D(c);Z(f,a)}}}function Pd(b,a){function c(){b.set({layerName:f.__value})}var d,f,n,g,m,l,p,t=a.layer,x,u,y,H=new ua({root:b.root,store:b.store,data:{layerName:a.layer,classHeatmap:a.classHeatmap}});return{c(){d=k("label");f=k("input");g=h("\n    ");
m=k("div");H._fragment.c();l=h("\n    ");p=k("span");x=h(t);u=h("\n  ");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=n=a.layer;f.value=f.__value;f.className="svelte-13fs6oh";w(m,"width","50px");w(m,"position","relative");p.className="svelte-13fs6oh";d.className=y="layer "+(a.layerName==a.layer?"selected":"")+" svelte-13fs6oh"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.layerName;d.appendChild(g);d.appendChild(m);H._mount(m,
null);d.appendChild(l);d.appendChild(p);p.appendChild(x);d.appendChild(u)},p(a,b){a.layerName&&(f.checked=f.__value===b.layerName);a.layers&&n!==(n=b.layer)&&(f.__value=n);f.value=f.__value;var c={};a.layers&&(c.layerName=b.layer);a.classHeatmap&&(c.classHeatmap=b.classHeatmap);H._set(c);a.layers&&t!==(t=b.layer)&&da(x,t);(a.layerName||a.layers)&&y!==(y="layer "+(b.layerName==b.layer?"selected":"")+" svelte-13fs6oh")&&(d.className=y)},d(a){a&&D(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),
1);f.removeEventListener("change",c,void 0);H.destroy()}}}function Qd(b){F(this,b);this._state=q({layerName:"mixed4c",layers:"mixed3b mixed4a mixed4b mixed4c mixed4d mixed4e mixed5a mixed5b".split(" "),classHeatmap:-1},b.data);this._bindingGroups=[[]];this._intro=!0;this._fragment=Eg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Fg({inceptionLabels:b}){let a=oc.map((a)=>({label:b.inception[a],i:a}));return[{label:"show all",i:-1}].concat(a)}function Rd(b,
a,c){b=Object.create(b);b.l=a[c];return b}function Gg(b,a){for(var c,d=a.labels,f=[],e=0;e<d.length;e+=1)f[e]=Sd(b,Rd(a,d,e));return{c(){c=k("div");for(var a=0;a<f.length;a+=1)f[a].c();c.className="chooser svelte-16t4ba7"},m(a,b){a.insertBefore(c,b);for(a=0;a<f.length;a+=1)f[a].m(c,null)},p(a,e){if(a.classHeatmap||a.labels){d=e.labels;for(var g=0;g<d.length;g+=1){let l=Rd(e,d,g);f[g]?f[g].p(a,l):(f[g]=Sd(b,l),f[g].c(),f[g].m(c,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){a&&D(c);
Z(f,a)}}}function Sd(b,a){function c(){b.set({classHeatmap:f.__value})}var d,f,n,g,m,l=a.l.label,p,t,x,u;return{c(){d=k("label");f=k("input");g=h("\n      ");m=k("span");p=h(l);x=h("\n    ");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=n=a.l.i;f.value=f.__value;f.className="svelte-16t4ba7";m.title=t=a.l.i;d.className=u=(a.classHeatmap===a.l.i?"selected":"")+" svelte-16t4ba7"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.classHeatmap;
d.appendChild(g);d.appendChild(m);m.appendChild(p);d.appendChild(x)},p(a,b){a.classHeatmap&&(f.checked=f.__value===b.classHeatmap);a.labels&&n!==(n=b.l.i)&&(f.__value=n);f.value=f.__value;a.labels&&l!==(l=b.l.label)&&da(p,l);a.labels&&t!==(t=b.l.i)&&(m.title=t);(a.classHeatmap||a.labels)&&u!==(u=(b.classHeatmap===b.l.i?"selected":"")+" svelte-16t4ba7")&&(d.className=u)},d(a){a&&D(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),1);f.removeEventListener("change",c,void 0)}}}function Vc(b){F(this,
b);this._state=q({classesToKeep:oc,inceptionLabels:xc,classHeatmap:235},b.data);this._recompute({inceptionLabels:1},this._state);this._bindingGroups=[[]];this._intro=!0;this._fragment=Gg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Hg(b,a){var c,d,f=b._slotted.head,e,g,m=b._slotted.body;return{c(){c=k("div");d=k("div");e=h("\n  ");g=k("div");d.className="head svelte-xv78tq";g.className="body svelte-xv78tq";c.className="root svelte-xv78tq"},m(a,b){a.insertBefore(c,
b);c.appendChild(d);f&&d.appendChild(f);c.appendChild(e);c.appendChild(g);m&&g.appendChild(m)},p:Y,d(a){a&&D(c);f&&pb(d,f);m&&pb(g,m)}}}function yc(b){F(this,b);this._state=q({},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Hg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ig({gridSize:b}){return 20*(b+1)}function Jg({iconScaleFactor:b,realGridSize:a}){return 1E6/(a*a*b)}function Kg(b,a){function c(){b.set({showLabels:W.checked})}function d(){b.set({gridSize:xa.__value})}
function f(){b.set({gridSize:va.__value})}function n(){b.set({gridSize:Ia.__value})}function g(){b.set({gridSize:Ja.__value})}function m(){b.set({gridSize:wa.__value})}function l(){b.set({iconScaleFactor:Ec(Na.value)})}function p(){b.set({iconCrop:Ec(Ca.value)})}function t(){b.set({classHeatmapMultiplier:Ec(Pa.value)})}function x(){b.set({classHeatmapPositive:Xa.__value})}function u(){b.set({classHeatmapPositive:Ya.__value})}var y,H,J,v,ba,r,q,z,B,E,K,P,I,N,M,G,Q,L,U,R,X,cb,V,F,S,A,Ua,Wb,Za=Eb(a.gcx),
ya,C,O,ia,ka=Eb(a.gcy),Kb,T,sa,da,na=Eb(a.scale),ta,Ga,oa,fa,za,Aa,W,la,La,pa,Ba,Ha,Ea,xa,$a,lb,Z,va,aa,Fa,ab,Ia,gc,Y,ra,Ja,ea,ma,qb,wa,Wa,Td,Ka,mb,bb,db,Oa,Na,xb,yb,zb,wb,Ud,Ab,rb,Ca,Qa,ja,fb,Ra,gb,Sa,Pa,Vd,Xb,Ub,qa,ha,Bb,Va,Rb,Xa,hb,Yb,Zb,$b,Sb,Ya,Vb,pb={};if(void 0!==a.classHeatmap){pb.classHeatmap=a.classHeatmap;var Lb=!0}var nb=new Vc({root:b.root,store:b.store,data:pb,_bind(a,c){var d={};!Lb&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);Lb=void 0}});b.root._beforecreate.push(()=>
{nb._bind({classHeatmap:1},nb.get())});var Fb=new yc({root:b.root,store:b.store,slots:{default:ca(),body:ca(),head:ca()}}),ac={classHeatmap:a.classHeatmap};if(void 0!==a.layerName){ac.layerName=a.layerName;var Mb=!0}var Gb=new Qd({root:b.root,store:b.store,data:ac,_bind(a,c){var d={};!Mb&&a.layerName&&(d.layerName=c.layerName);b._set(d);Mb=void 0}});b.root._beforecreate.push(()=>{Gb._bind({layerName:1},Gb.get())});var Hb=new yc({root:b.root,store:b.store,slots:{default:ca(),body:ca(),head:ca()}}),
sb={id:"inceptionv1_"+a.layerName,strokeColor:"#666",backgroundColor:"#f0f0f0",showHoverImage:!1,scaleCountFactor:a.scaleCountFactor,classHeatmap:a.classHeatmap,homeX:a.homeX,homeY:a.homeY,homeScale:a.homeScale};if(void 0!==a.iconCrop){sb.iconCrop=a.iconCrop;var Nb=!0}if(void 0!==a.classHeatmapMultiplier){sb.classHeatmapMultiplier=a.classHeatmapMultiplier;var Ob=!0}if(void 0!==a.classHeatmapPositive){sb.classHeatmapPositive=a.classHeatmapPositive;var Pb=!0}if(void 0!==a.gridSize){sb.gridSize=a.gridSize;
var Ib=!0}if(void 0!==a.showLabels){sb.showLabels=a.showLabels;var ua=!0}if(void 0!==a.aspectRatio){sb.aspectRatio=a.aspectRatio;var Qb=!0}if(void 0!==a.scale){sb.scale=a.scale;var ic=!0}if(void 0!==a.gcx){sb.gcx=a.gcx;var jc=!0}if(void 0!==a.gcy){sb.gcy=a.gcy;var kc=!0}var bc=new Da({root:b.root,store:b.store,data:sb,_bind(a,c){var d={};!Nb&&a.iconCrop&&(d.iconCrop=c.iconCrop);!Ob&&a.classHeatmapMultiplier&&(d.classHeatmapMultiplier=c.classHeatmapMultiplier);!Pb&&a.classHeatmapPositive&&(d.classHeatmapPositive=
c.classHeatmapPositive);!Ib&&a.gridSize&&(d.gridSize=c.gridSize);!ua&&a.showLabels&&(d.showLabels=c.showLabels);!Qb&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!ic&&a.scale&&(d.scale=c.scale);!jc&&a.gcx&&(d.gcx=c.gcx);!kc&&a.gcy&&(d.gcy=c.gcy);b._set(d);kc=jc=ic=Qb=ua=Ib=Pb=Ob=Nb=void 0}});b.root._beforecreate.push(()=>{bc._bind({iconCrop:1,classHeatmapMultiplier:1,classHeatmapPositive:1,gridSize:1,showLabels:1,aspectRatio:1,scale:1,gcx:1,gcy:1},bc.get())});b.refs.atlas=bc;var Ta={id:"inceptionv1_"+
a.layerName,enableDragging:!0,classHeatmap:a.classHeatmap,scaleCountFactor:a.scaleCountFactor};if(void 0!==a.aspectRatio){Ta.aspectRatio=a.aspectRatio;var eb=!0}if(void 0!==a.scale){Ta.scale=a.scale;var ib=!0}if(void 0!==a.gcx){Ta.gcx=a.gcx;var jb=!0}if(void 0!==a.gcy){Ta.gcy=a.gcy;var kb=!0}var ec=new Ed({root:b.root,store:b.store,data:Ta,_bind(a,c){var d={};!eb&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!ib&&a.scale&&(d.scale=c.scale);!jb&&a.gcx&&(d.gcx=c.gcx);!kb&&a.gcy&&(d.gcy=c.gcy);b._set(d);
kb=jb=ib=eb=void 0}});b.root._beforecreate.push(()=>{ec._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},ec.get())});var ub=new Jb({root:b.root,store:b.store,data:{name:"home",color:"white"}}),ob=new cc({root:b.root,store:b.store,slots:{default:ca()}});ob.on("click",function(a){b.refs.atlas.home()});var tb=new Jb({root:b.root,store:b.store,data:{name:"add",color:"white"}}),Cb=new cc({root:b.root,store:b.store,slots:{default:ca()}});Cb.on("click",function(a){b.refs.atlas.zoomit(2)});var vb=new Jb({root:b.root,
store:b.store,data:{name:"remove",color:"white"}}),lc=new cc({root:b.root,store:b.store,slots:{default:ca()}});lc.on("click",function(a){b.refs.atlas.zoomit(.5)});var fc=new yc({root:b.root,store:b.store,slots:{default:ca(),body:ca(),head:ca()}});return{c(){y=k("div");H=k("div");J=k("h3");J.textContent="Class Filter";v=h("\n        ");ba=k("div");nb._fragment.c();Fb._fragment.c();r=h("\n    ");q=k("div");z=k("h3");z.textContent="Layer";B=h("\n        ");E=k("div");Gb._fragment.c();Hb._fragment.c();
K=h("\n  ");P=k("div");I=k("div");bc._fragment.c();N=h("\n        ");M=k("div");G=k("div");ec._fragment.c();Q=h("\n          ");L=k("div");ub._fragment.c();ob._fragment.c();U=h("\n            ");tb._fragment.c();Cb._fragment.c();R=h("\n            ");vb._fragment.c();lc._fragment.c();X=h("\n  ");cb=k("div");V=k("h3");V.textContent="Options";F=h("\n      ");S=k("div");A=k("div");Ua=k("div");Wb=h("x: ");ya=k("noscript");C=h("\n          ");O=k("div");ia=h("y: ");Kb=k("noscript");T=h("\n          ");
sa=k("div");da=h("scale: ");ta=k("noscript");Ga=h("\n        ");oa=k("div");fa=k("h4");fa.textContent="Attribution";za=h("\n          ");Aa=k("label");W=k("input");la=h(" show labels");La=h("\n        ");pa=k("div");Ba=k("h4");Ba.textContent="grid size";Ha=h("\n          ");Ea=k("label");xa=k("input");$a=h(" 20x20");lb=h("\n          ");Z=k("label");va=k("input");aa=h(" 40x40");Fa=h("\n          ");ab=k("label");Ia=k("input");gc=h(" 80x80");Y=h("\n          ");ra=k("label");Ja=k("input");ea=h(" 160x160");
ma=h("\n          ");qb=k("label");wa=k("input");Wa=h(" 320x320");Td=h("\n        ");Ka=k("div");mb=k("h4");bb=h("icon density: ");db=k("noscript");Oa=h("\n          ");Na=k("input");xb=h("\n          ");yb=k("br");zb=h("\n          ");wb=k("h4");Ud=h("icon crop: ");Ab=k("noscript");rb=h("\n          ");Ca=k("input");Qa=h("\n        ");ja=k("div");fb=k("h4");Ra=h("class filter intensity: ");gb=k("noscript");Sa=h("\n          ");Pa=k("input");Vd=h("\n          ");Xb=k("br");Ub=h("\n          ");qa=
k("h4");qa.textContent="class filter positive/negative";ha=h("\n          ");Bb=k("br");Va=h("\n          ");Rb=k("label");Xa=k("input");hb=h(" positive influence");Yb=h("\n          ");Zb=k("br");$b=h("\n          ");Sb=k("label");Ya=k("input");Vb=h(" negative influence");fc._fragment.c();e(J,"slot","head");J.className="svelte-z55voj";e(ba,"slot","body");H.className="filter svelte-z55voj";w(H,"display",a.showClassFilter?"block":"none");e(z,"slot","head");z.className="svelte-z55voj";e(E,"slot","body");
q.className="stack svelte-z55voj";w(q,"display",a.showLayerChooser?"block":"none");G.className="map svelte-z55voj";w(G,"display",1<a.scale?"block":"none");L.className="buttons svelte-z55voj";M.className="svelte-z55voj svelte-ref-controls";I.className="atlas svelte-z55voj";P.className="main svelte-z55voj";e(V,"slot","head");V.className="svelte-z55voj";fa.className="svelte-z55voj";W.addEventListener("change",c,void 0);e(W,"type","checkbox");Ba.className="svelte-z55voj";b._bindingGroups[0].push(xa);
xa.addEventListener("change",d,void 0);e(xa,"type","radio");xa.__value=0;xa.value=xa.__value;Ea.className="svelte-z55voj";b._bindingGroups[0].push(va);va.addEventListener("change",f,void 0);e(va,"type","radio");va.__value=1;va.value=va.__value;Z.className="svelte-z55voj";b._bindingGroups[0].push(Ia);Ia.addEventListener("change",n,void 0);e(Ia,"type","radio");Ia.__value=2;Ia.value=Ia.__value;ab.className="svelte-z55voj";b._bindingGroups[0].push(Ja);Ja.addEventListener("change",g,void 0);e(Ja,"type",
"radio");Ja.__value=3;Ja.value=Ja.__value;ra.className="svelte-z55voj";b._bindingGroups[0].push(wa);wa.addEventListener("change",m,void 0);e(wa,"type","radio");wa.__value=4;wa.value=wa.__value;qb.className="svelte-z55voj";pa.className="grid-size svelte-z55voj";mb.className="svelte-z55voj";Na.addEventListener("change",l,void 0);Na.addEventListener("input",l,void 0);e(Na,"type","range");Na.min=.2;Na.max=10;Na.step=.1;wb.className="svelte-z55voj";Ca.addEventListener("change",p,void 0);Ca.addEventListener("input",
p,void 0);e(Ca,"type","range");Ca.min=0;Ca.max=.5;Ca.step=.01;fb.className="svelte-z55voj";Pa.addEventListener("change",t,void 0);Pa.addEventListener("input",t,void 0);e(Pa,"type","range");Pa.min="0.5";Pa.max="2";Pa.step="0.1";qa.className="svelte-z55voj";b._bindingGroups[1].push(Xa);Xa.addEventListener("change",x,void 0);e(Xa,"type","radio");Xa.__value=1;Xa.value=Xa.__value;b._bindingGroups[1].push(Ya);Ya.addEventListener("change",u,void 0);e(Ya,"type","radio");Ya.__value=-1;Ya.value=Ya.__value;
w(ja,"display",-1<a.classHeatmap?"block":"none");e(S,"slot","body");S.className="options-body svelte-z55voj";cb.className="options svelte-z55voj";y.className="container svelte-z55voj"},m(c,d){c.insertBefore(y,d);y.appendChild(H);Fb._slotted.head.appendChild(J);Fb._slotted.default.appendChild(v);Fb._slotted.body.appendChild(ba);nb._mount(ba,null);Fb._mount(H,null);y.appendChild(r);y.appendChild(q);Hb._slotted.head.appendChild(z);Hb._slotted.default.appendChild(B);Hb._slotted.body.appendChild(E);Gb._mount(E,
null);Hb._mount(q,null);y.appendChild(K);y.appendChild(P);P.appendChild(I);bc._mount(I,null);I.appendChild(N);I.appendChild(M);M.appendChild(G);ec._mount(G,null);M.appendChild(Q);M.appendChild(L);ub._mount(ob._slotted.default,null);ob._mount(L,null);L.appendChild(U);tb._mount(Cb._slotted.default,null);Cb._mount(L,null);L.appendChild(R);vb._mount(lc._slotted.default,null);lc._mount(L,null);b.refs.controls=M;y.appendChild(X);y.appendChild(cb);fc._slotted.head.appendChild(V);fc._slotted.default.appendChild(F);
fc._slotted.body.appendChild(S);S.appendChild(A);A.appendChild(Ua);Ua.appendChild(Wb);Ua.appendChild(ya);ya.insertAdjacentHTML("afterend",Za);A.appendChild(C);A.appendChild(O);O.appendChild(ia);O.appendChild(Kb);Kb.insertAdjacentHTML("afterend",ka);A.appendChild(T);A.appendChild(sa);sa.appendChild(da);sa.appendChild(ta);ta.insertAdjacentHTML("afterend",na);S.appendChild(Ga);S.appendChild(oa);oa.appendChild(fa);oa.appendChild(za);oa.appendChild(Aa);Aa.appendChild(W);W.checked=a.showLabels;Aa.appendChild(la);
S.appendChild(La);S.appendChild(pa);pa.appendChild(Ba);pa.appendChild(Ha);pa.appendChild(Ea);Ea.appendChild(xa);xa.checked=xa.__value===a.gridSize;Ea.appendChild($a);pa.appendChild(lb);pa.appendChild(Z);Z.appendChild(va);va.checked=va.__value===a.gridSize;Z.appendChild(aa);pa.appendChild(Fa);pa.appendChild(ab);ab.appendChild(Ia);Ia.checked=Ia.__value===a.gridSize;ab.appendChild(gc);pa.appendChild(Y);pa.appendChild(ra);ra.appendChild(Ja);Ja.checked=Ja.__value===a.gridSize;ra.appendChild(ea);pa.appendChild(ma);
pa.appendChild(qb);qb.appendChild(wa);wa.checked=wa.__value===a.gridSize;qb.appendChild(Wa);S.appendChild(Td);S.appendChild(Ka);Ka.appendChild(mb);mb.appendChild(bb);mb.appendChild(db);db.insertAdjacentHTML("afterend",a.iconScaleFactor);Ka.appendChild(Oa);Ka.appendChild(Na);Na.value=a.iconScaleFactor;Ka.appendChild(xb);Ka.appendChild(yb);Ka.appendChild(zb);Ka.appendChild(wb);wb.appendChild(Ud);wb.appendChild(Ab);Ab.insertAdjacentHTML("afterend",a.iconCrop);Ka.appendChild(rb);Ka.appendChild(Ca);Ca.value=
a.iconCrop;S.appendChild(Qa);S.appendChild(ja);ja.appendChild(fb);fb.appendChild(Ra);fb.appendChild(gb);gb.insertAdjacentHTML("afterend",a.classHeatmapMultiplier);ja.appendChild(Sa);ja.appendChild(Pa);Pa.value=a.classHeatmapMultiplier;ja.appendChild(Vd);ja.appendChild(Xb);ja.appendChild(Ub);ja.appendChild(qa);ja.appendChild(ha);ja.appendChild(Bb);ja.appendChild(Va);ja.appendChild(Rb);Rb.appendChild(Xa);Xa.checked=Xa.__value===a.classHeatmapPositive;Rb.appendChild(hb);ja.appendChild(Yb);ja.appendChild(Zb);
ja.appendChild($b);ja.appendChild(Sb);Sb.appendChild(Ya);Ya.checked=Ya.__value===a.classHeatmapPositive;Sb.appendChild(Vb);fc._mount(cb,null)},p(b,c){a=c;c={};!Lb&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,Lb=void 0!==a.classHeatmap);nb._set(c);Lb=void 0;b.showClassFilter&&w(H,"display",a.showClassFilter?"block":"none");c={};b.classHeatmap&&(c.classHeatmap=a.classHeatmap);!Mb&&b.layerName&&(c.layerName=a.layerName,Mb=void 0!==a.layerName);Gb._set(c);Mb=void 0;b.showLayerChooser&&w(q,"display",
a.showLayerChooser?"block":"none");c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);b.scaleCountFactor&&(c.scaleCountFactor=a.scaleCountFactor);b.classHeatmap&&(c.classHeatmap=a.classHeatmap);b.homeX&&(c.homeX=a.homeX);b.homeY&&(c.homeY=a.homeY);b.homeScale&&(c.homeScale=a.homeScale);!Nb&&b.iconCrop&&(c.iconCrop=a.iconCrop,Nb=void 0!==a.iconCrop);!Ob&&b.classHeatmapMultiplier&&(c.classHeatmapMultiplier=a.classHeatmapMultiplier,Ob=void 0!==a.classHeatmapMultiplier);!Pb&&b.classHeatmapPositive&&
(c.classHeatmapPositive=a.classHeatmapPositive,Pb=void 0!==a.classHeatmapPositive);!Ib&&b.gridSize&&(c.gridSize=a.gridSize,Ib=void 0!==a.gridSize);!ua&&b.showLabels&&(c.showLabels=a.showLabels,ua=void 0!==a.showLabels);!Qb&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,Qb=void 0!==a.aspectRatio);!ic&&b.scale&&(c.scale=a.scale,ic=void 0!==a.scale);!jc&&b.gcx&&(c.gcx=a.gcx,jc=void 0!==a.gcx);!kc&&b.gcy&&(c.gcy=a.gcy,kc=void 0!==a.gcy);bc._set(c);kc=jc=ic=Qb=ua=Ib=Pb=Ob=Nb=void 0;c={};b.layerName&&(c.id=
"inceptionv1_"+a.layerName);b.classHeatmap&&(c.classHeatmap=a.classHeatmap);b.scaleCountFactor&&(c.scaleCountFactor=a.scaleCountFactor);!eb&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,eb=void 0!==a.aspectRatio);!ib&&b.scale&&(c.scale=a.scale,ib=void 0!==a.scale);!jb&&b.gcx&&(c.gcx=a.gcx,jb=void 0!==a.gcx);!kb&&b.gcy&&(c.gcy=a.gcy,kb=void 0!==a.gcy);ec._set(c);kb=jb=ib=eb=void 0;b.scale&&w(G,"display",1<a.scale?"block":"none");b.gcx&&Za!==(Za=Eb(a.gcx))&&(Tb(ya),ya.insertAdjacentHTML("afterend",Za));
b.gcy&&ka!==(ka=Eb(a.gcy))&&(Tb(Kb),Kb.insertAdjacentHTML("afterend",ka));b.scale&&na!==(na=Eb(a.scale))&&(Tb(ta),ta.insertAdjacentHTML("afterend",na));b.showLabels&&(W.checked=a.showLabels);b.gridSize&&(xa.checked=xa.__value===a.gridSize);b.gridSize&&(va.checked=va.__value===a.gridSize);b.gridSize&&(Ia.checked=Ia.__value===a.gridSize);b.gridSize&&(Ja.checked=Ja.__value===a.gridSize);b.gridSize&&(wa.checked=wa.__value===a.gridSize);b.iconScaleFactor&&(Tb(db),db.insertAdjacentHTML("afterend",a.iconScaleFactor));
b.iconScaleFactor&&(Na.value=a.iconScaleFactor);b.iconCrop&&(Tb(Ab),Ab.insertAdjacentHTML("afterend",a.iconCrop));b.iconCrop&&(Ca.value=a.iconCrop);b.classHeatmapMultiplier&&(Tb(gb),gb.insertAdjacentHTML("afterend",a.classHeatmapMultiplier));b.classHeatmapMultiplier&&(Pa.value=a.classHeatmapMultiplier);b.classHeatmapPositive&&(Xa.checked=Xa.__value===a.classHeatmapPositive);b.classHeatmapPositive&&(Ya.checked=Ya.__value===a.classHeatmapPositive);b.classHeatmap&&w(ja,"display",-1<a.classHeatmap?"block":
"none")},d(a){a&&D(y);nb.destroy();Fb.destroy();Gb.destroy();Hb.destroy();bc.destroy();b.refs.atlas===bc&&(b.refs.atlas=null);ec.destroy();ub.destroy();ob.destroy();tb.destroy();Cb.destroy();vb.destroy();lc.destroy();b.refs.controls===M&&(b.refs.controls=null);W.removeEventListener("change",c,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(xa),1);xa.removeEventListener("change",d,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(va),1);va.removeEventListener("change",f,
void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ia),1);Ia.removeEventListener("change",n,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ja),1);Ja.removeEventListener("change",g,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(wa),1);wa.removeEventListener("change",m,void 0);Na.removeEventListener("change",l,void 0);Na.removeEventListener("input",l,void 0);Ca.removeEventListener("change",p,void 0);Ca.removeEventListener("input",p,void 0);Pa.removeEventListener("change",
t,void 0);Pa.removeEventListener("input",t,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(Xa),1);Xa.removeEventListener("change",x,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(Ya),1);Ya.removeEventListener("change",u,void 0);fc.destroy()}}}function ob(b){F(this,b);this.refs={};this._state=q({layerName:"mixed4c",gridSize:1,classHeatmap:-1,iconScaleFactor:.8,iconCrop:.3,showClassFilter:!0,showLayerChooser:!0,homeX:.5,homeY:.5,homeScale:1},b.data);this._recompute({gridSize:1,
iconScaleFactor:1,realGridSize:1},this._state);this._bindingGroups=[[],[]];this._intro=!0;this._fragment=Kg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Lg(b,a){var c,d,f,e=a.ready?Wd:Xd,g=e(b,a),m={aspectRatio:a.aspectRatio},l=new qc({root:b.root,store:b.store,slots:{default:ca()},data:m});m={};if(void 0!==a.ready){m.ready=a.ready;var p=!0}var t=new Gc({root:b.root,store:b.store,slots:{default:ca()},data:m,_bind(a,c){var d={};!p&&a.ready&&(d.ready=
c.ready);b._set(d);p=void 0}});b.root._beforecreate.push(()=>{t._bind({ready:1},t.get())});return{c(){c=k("div");g.c();d=ma();l._fragment.c();t._fragment.c();c.className=f=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-lat22x"},m(a,b){a.insertBefore(c,b);g.m(l._slotted.default,null);l._slotted.default.appendChild(d);l._mount(t._slotted.default,null);t._mount(c,null)},p(m,n){a=n;e===(e=a.ready?Wd:Xd)&&g?g.p(m,a):(g.d(1),g=e(b,a),g.c(),g.m(d.parentNode,d));n={};m.aspectRatio&&(n.aspectRatio=
a.aspectRatio);l._set(n);n={};!p&&m.ready&&(n.ready=a.ready,p=void 0!==a.ready);t._set(n);p=void 0;(m.background||m.border)&&f!==(f=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-lat22x")&&(c.className=f)},d(a){a&&D(c);g.d();l.destroy();t.destroy()}}}function Xd(b,a){var c=new Hc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:Y,d(a){c.destroy(a)}}}function Wd(b,a){var c;return{c(){c=k("img");c.src=a.src;c.alt=a.alt;c.className="svelte-lat22x svelte-ref-image"},
m(a,f){a.insertBefore(c,f);b.refs.image=c},p(a,b){a.src&&(c.src=b.src);a.alt&&(c.alt=b.alt)},d(a){a&&D(c);b.refs.image===c&&(b.refs.image=null)}}}function ea(b){F(this,b);this.refs={};this._state=q({ready:!1,src:"",alt:"",display:"block",aspectRatio:1,border:!0,background:!0},b.data);this._intro=!0;this._fragment=Lg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Mg(b,a){var c,d,f,e,g,m,l,p,t,x,u,y,H,J,v,r,w,q,z,B,E,K,P,I,N=new ea({root:b.root,store:b.store,
data:{src:"assets/images/overview-neuron.jpg",border:!1}}),M=new ea({root:b.root,store:b.store,data:{src:"assets/images/overview-pairwise.jpg",border:!1}}),G=new ea({root:b.root,store:b.store,data:{src:"assets/images/activation-grid.png",border:!1}}),Q=new ea({root:b.root,store:b.store,data:{src:"assets/images/overview-atlas.jpg",border:!1}});return{c(){c=k("div");d=k("div");f=k("h4");f.textContent="Individual Neurons";e=h("\n    ");N._fragment.c();g=h("\n    ");m=k("div");m.textContent="Visualizing individual neurons make hidden layers somewhate meaningful, but misses interactions between neurons.";
l=h("\n  ");p=k("div");t=k("h4");t.textContent="Pairwise Interactions";x=h("\n    ");M._fragment.c();u=h("\n    ");y=k("div");y.textContent="Studying pairwise interaction surfaces some interaction effects, but doesn't show interactions between many and the space of possible pairs is huge.";H=h("\n  ");J=k("div");v=k("h4");v.textContent="Spatial Activations";r=h("\n    ");G._fragment.c();w=h("\n    ");q=k("div");q.textContent="Spatial activations show important combinations of many neurons, but are focused on a single example.";
z=h("\n  ");B=k("div");E=k("h4");E.textContent="Activation Atlas";K=h("\n    ");Q._fragment.c();P=h("\n    ");I=k("div");I.textContent="Activation atlases show important combinations of neurons, but give a bigger picture overview.";f.className="svelte-7yn287";m.className="figcaption svelte-7yn287";t.className="svelte-7yn287";y.className="figcaption svelte-7yn287";v.className="svelte-7yn287";q.className="figcaption svelte-7yn287";E.className="svelte-7yn287";I.className="figcaption svelte-7yn287";c.className=
"svelte-7yn287 svelte-ref-root"},m(a,n){a.insertBefore(c,n);c.appendChild(d);d.appendChild(f);d.appendChild(e);N._mount(d,null);d.appendChild(g);d.appendChild(m);c.appendChild(l);c.appendChild(p);p.appendChild(t);p.appendChild(x);M._mount(p,null);p.appendChild(u);p.appendChild(y);c.appendChild(H);c.appendChild(J);J.appendChild(v);J.appendChild(r);G._mount(J,null);J.appendChild(w);J.appendChild(q);c.appendChild(z);c.appendChild(B);B.appendChild(E);B.appendChild(K);Q._mount(B,null);B.appendChild(P);
B.appendChild(I);b.refs.root=c},p:Y,d(a){a&&D(c);N.destroy();M.destroy();G.destroy();Q.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Yd(b){F(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=Mg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Ng(b,a){var c,d=new ea({root:b.root,store:b.store,data:{src:"assets/images/model.svg",alt:"model",aspectRatio:1072/178.3,border:!1,background:!1}});return{c(){c=k("div");d._fragment.c();
c.className="svelte-rd22a7 svelte-ref-root"},m(a,e){a.insertBefore(c,e);d._mount(c,null);b.refs.root=c},p:Y,d(a){a&&D(c);d.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Zd(b){F(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=Ng(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Og(b,a){var c,d,f,e,g,m,l,p,t=new ea({root:b.root,store:b.store,data:{src:"assets/images/dogcat.jpg",alt:"input image"}}),x=new ea({root:b.root,
store:b.store,data:{src:"assets/images/dogcat-grid.jpg",alt:"activation grid"}});return{c(){c=k("div");d=k("div");t._fragment.c();f=h("\n    ");e=k("div");e.textContent="Input image from ImageNet.";g=h("\n  ");m=k("div");x._fragment.c();l=h("\n    ");p=k("div");p.textContent="Activation grid from InceptionV1, layer mixed4d.";e.className="figcaption svelte-scrtb8";p.className="figcaption svelte-scrtb8";c.className="root svelte-scrtb8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);t._mount(d,null);d.appendChild(f);
d.appendChild(e);c.appendChild(g);c.appendChild(m);x._mount(m,null);m.appendChild(l);m.appendChild(p)},p:Y,d(a){a&&D(c);t.destroy();x.destroy()}}}function $d(b){F(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=Og(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Pg({gridSize:b}){return aa(1,b)}function Qg({root:b,classFilter:a,gridSize:c}){return`${b}render--x=0--y=0--tries=3--alpha=False--tile_size=8--whiten=true--steps=1024--icon_size=80--grid_size=${c}--layout=20_0.01_cosine--class_filter=${a}--filter=None--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg`}
function ae(b,a,c){b=Object.create(b);b.i=a[c];return b}function be(b,a,c){b=Object.create(b);b.i=a[c];return b}function Rg(b,a){for(var c,d,f,n,g=new ea({root:b.root,store:b.store,data:{src:a.src,alt:"class activation atlas"}}),m=a.ticks,l=[],p=0;p<m.length;p+=1)l[p]=ce(b,be(a,m,p));var t=a.ticks,x=[];for(p=0;p<t.length;p+=1)x[p]=de(b,ae(a,t,p));return{c(){c=k("div");g._fragment.c();d=h("\n\n  ");f=r("svg");for(var a=0;a<l.length;a+=1)l[a].c();n=ma();for(a=0;a<x.length;a+=1)x[a].c();e(f,"viewBox",
"0 0 500 500");e(f,"class","svelte-hfoyhc");c.className="svelte-hfoyhc svelte-ref-root"},m(a,e){a.insertBefore(c,e);g._mount(c,null);c.appendChild(d);c.appendChild(f);for(a=0;a<l.length;a+=1)l[a].m(f,null);f.appendChild(n);for(a=0;a<x.length;a+=1)x[a].m(f,null);b.refs.root=c},p(a,c){var d={};a.src&&(d.src=c.src);g._set(d);if(a.ticks||a.gridSize){m=c.ticks;for(d=0;d<m.length;d+=1){var e=be(c,m,d);l[d]?l[d].p(a,e):(l[d]=ce(b,e),l[d].c(),l[d].m(f,n))}for(;d<l.length;d+=1)l[d].d(1);l.length=m.length}if(a.ticks||
a.gridSize){t=c.ticks;for(d=0;d<t.length;d+=1)e=ae(c,t,d),x[d]?x[d].p(a,e):(x[d]=de(b,e),x[d].c(),x[d].m(f,null));for(;d<x.length;d+=1)x[d].d(1);x.length=t.length}},d(a){a&&D(c);g.destroy();Z(l,a);Z(x,a);b.refs.root===c&&(b.refs.root=null)}}}function ce(b,a){var c,d,f;return{c(){c=r("line");e(c,"x2",500);e(c,"y1",d=500*a.i/a.gridSize);e(c,"y2",f=500*a.i/a.gridSize);e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&
d!==(d=500*b.i/b.gridSize)&&e(c,"y1",d);(a.ticks||a.gridSize)&&f!==(f=500*b.i/b.gridSize)&&e(c,"y2",f)},d(a){a&&D(c)}}}function de(b,a){var c,d,f;return{c(){c=r("line");e(c,"y2",500);e(c,"x1",d=500*a.i/a.gridSize);e(c,"x2",f=500*a.i/a.gridSize);e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&d!==(d=500*b.i/b.gridSize)&&e(c,"x1",d);(a.ticks||a.gridSize)&&f!==(f=500*b.i/b.gridSize)&&e(c,"x2",f)},d(a){a&&D(c)}}}
function tb(b){F(this,b);this.refs={};this._state=q({root:"https://storage.googleapis.com/activation-atlas/build/class_filter_inceptionv1/render/",classFilter:62,gridSize:8},b.data);this._recompute({gridSize:1,root:1,classFilter:1},this._state);this._intro=!0;this._fragment=Rg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function ee(b,a,c){b=Object.create(b);b.c=a[c];return b}function Sg(b,a){for(var c,d,e=a.$inceptionLabels[a.currentClass],n,g,m,l,p,t,x,
u,y,H,J=new tb({root:b.root,store:b.store,data:{classFilter:a.currentClass}}),v=a.classes,r=[],q=0;q<v.length;q+=1)r[q]=fe(b,ee(a,v,q));var Ma=new kb({root:b.root,store:b.store,data:{url:""}});return{c(){c=k("h4");d=h("Class Activation Atlas for \u201c");n=h(e);g=h("\u201d");m=h("\n");l=k("div");p=k("div");J._fragment.c();t=h("\n  ");x=k("div");u=k("div");for(var a=0;a<r.length;a+=1)r[a].c();y=h("\n");H=k("div");Ma._fragment.c();c.className="svelte-15rolwy";w(p,"position","relative");u.className=
"chooser svelte-15rolwy";x.className="chooser-container svelte-15rolwy";l.className="svelte-15rolwy svelte-ref-root";w(H,"margin-top","16px")},m(a,e){a.insertBefore(c,e);c.appendChild(d);c.appendChild(n);c.appendChild(g);a.insertBefore(m,e);a.insertBefore(l,e);l.appendChild(p);J._mount(p,null);l.appendChild(t);l.appendChild(x);x.appendChild(u);for(var f=0;f<r.length;f+=1)r[f].m(u,null);b.refs.root=l;a.insertBefore(y,e);a.insertBefore(H,e);Ma._mount(H,null)},p(a,c){(a.$inceptionLabels||a.currentClass)&&
e!==(e=c.$inceptionLabels[c.currentClass])&&da(n,e);var d={};a.currentClass&&(d.classFilter=c.currentClass);J._set(d);if(a.currentClass||a.classes||a.$inceptionLabels){v=c.classes;for(d=0;d<v.length;d+=1){let e=ee(c,v,d);r[d]?r[d].p(a,e):(r[d]=fe(b,e),r[d].c(),r[d].m(u,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=v.length}},d(a){a&&(D(c),D(m),D(l));J.destroy();Z(r,a);b.refs.root===l&&(b.refs.root=null);a&&(D(y),D(H));Ma.destroy()}}}function fe(b,a){function c(){b.set({currentClass:f.__value})}var d,
f,n,g,m=a.$inceptionLabels[a.c],l,p,t=a.c,x,u,y;return{c(){d=k("label");f=k("input");g=h("\n          ");l=h(m);p=h(" (");x=h(t);u=h(")");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=n=a.c;f.value=f.__value;f.className="svelte-15rolwy";d.className=y=(a.currentClass===a.c?"selected":"")+" svelte-15rolwy"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.currentClass;d.appendChild(g);d.appendChild(l);d.appendChild(p);d.appendChild(x);
d.appendChild(u)},p(a,b){a.currentClass&&(f.checked=f.__value===b.currentClass);a.classes&&n!==(n=b.c)&&(f.__value=n);f.value=f.__value;(a.$inceptionLabels||a.classes)&&m!==(m=b.$inceptionLabels[b.c])&&da(l,m);a.classes&&t!==(t=b.c)&&da(x,t);(a.currentClass||a.classes)&&y!==(y=(b.currentClass===b.c?"selected":"")+" svelte-15rolwy")&&(d.className=y)},d(a){a&&D(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),1);f.removeEventListener("change",c,void 0)}}}function ge(b){F(this,b);this.refs=
{};this._state=q(q(this.store._init(["inceptionLabels"]),{layout:0,currentClass:62,classes:[62,7,2,12,80,225,652,233,322,323,378,665,780,804,901,946,992,622,631,643,671,672,507,982,990,677,822,947,348,355,721,582,361,364,737,738,736,744,791,287,235]}),b.data);this.store._add(this,["inceptionLabels"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[jb];this._fragment=Sg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Tg({$classComparisons:b,
classComparisonIndex:a}){return b[a].left}function Ug({$classComparisons:b,classComparisonIndex:a}){return b[a].right}function he(b){let {component:a,ctx:c}=this._svelte;a.set({classComparisonIndex:c.i})}function ie(b,a,c){b=Object.create(b);b.comparison=a[c];b.i=c;return b}function Vg(b,a){var c,d,e,n,g,m=a.$inceptionLabels[a.leftIndex],l,p,t,x,u,y,H,r,v=a.$inceptionLabels[a.rightIndex],q,Db,Ma,z,B=a.showControls&&je(b,a),E=new tb({root:b.root,store:b.store,data:{classFilter:a.leftIndex}}),K=new tb({root:b.root,
store:b.store,data:{classFilter:a.rightIndex}});return{c(){B&&B.c();c=h("\n\n");d=k("div");e=k("div");n=k("h4");g=h("\u201c");l=h(m);p=h("\u201d");t=h("\n    ");x=k("div");E._fragment.c();u=h("\n  ");y=k("div");H=k("h4");r=h("\u201c");q=h(v);Db=h("\u201d");Ma=h("\n    ");z=k("div");K._fragment.c();n.className="svelte-a1781g";x.className="atlas";H.className="svelte-a1781g";z.className="atlas";w(d,"display","grid");w(d,"grid-auto-flow","column");w(d,"grid-column-gap","20px");w(d,"grid-auto-columns",
"1fr")},m(a,b){B&&B.m(a,b);a.insertBefore(c,b);a.insertBefore(d,b);d.appendChild(e);e.appendChild(n);n.appendChild(g);n.appendChild(l);n.appendChild(p);e.appendChild(t);e.appendChild(x);E._mount(x,null);d.appendChild(u);d.appendChild(y);y.appendChild(H);H.appendChild(r);H.appendChild(q);H.appendChild(Db);y.appendChild(Ma);y.appendChild(z);K._mount(z,null)},p(a,d){d.showControls?B?B.p(a,d):(B=je(b,d),B.c(),B.m(c.parentNode,c)):B&&(B.d(1),B=null);(a.$inceptionLabels||a.leftIndex)&&m!==(m=d.$inceptionLabels[d.leftIndex])&&
da(l,m);var e={};a.leftIndex&&(e.classFilter=d.leftIndex);E._set(e);(a.$inceptionLabels||a.rightIndex)&&v!==(v=d.$inceptionLabels[d.rightIndex])&&da(q,v);e={};a.rightIndex&&(e.classFilter=d.rightIndex);K._set(e)},d(a){B&&B.d(a);a&&(D(c),D(d));E.destroy();K.destroy()}}}function je(b,a){for(var c,d=a.$classComparisons,e=[],n=0;n<d.length;n+=1)e[n]=ke(b,ie(a,d,n));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.$classComparisons){d=
f.$classComparisons;for(var g=0;g<d.length;g+=1){let l=ie(f,d,g);e[g]?e[g].p(a,l):(e[g]=ke(b,l),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Z(e,a);a&&D(c)}}}function ke(b,a){var c,d=a.comparison.leftLabel,e,n,g=a.comparison.rightLabel,m;return{c(){c=k("button");e=h(d);n=h(" vs. ");m=h(g);c._svelte={component:b,ctx:a};c.addEventListener("click",he,void 0)},m(a,b){a.insertBefore(c,b);c.appendChild(e);c.appendChild(n);c.appendChild(m)},p(b,f){a=f;b.$classComparisons&&
d!==(d=a.comparison.leftLabel)&&da(e,d);b.$classComparisons&&g!==(g=a.comparison.rightLabel)&&da(m,g);c._svelte.ctx=a},d(a){a&&D(c);c.removeEventListener("click",he,void 0)}}}function zc(b){F(this,b);this._state=q(q(this.store._init(["classComparisons","inceptionLabels"]),{classComparisonIndex:0,showControls:!0}),b.data);this.store._add(this,["classComparisons","inceptionLabels"]);this._recompute({$classComparisons:1,classComparisonIndex:1},this._state);this._intro=!0;this._handlers.destroy=[jb];
this._fragment=Vg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Wg({width:b}){return b}function Xg({width:b,margin:a}){return b+a.left+a.right}function Yg({height:b,margin:a}){return b+a.top+a.bottom}function Zg({width:b}){return b/10}function $g({currentClassComparisonIndex:b,$classComparisons:a}){return a[b]}function le(b,a,c){b=Object.create(b);b.annotation=a[c];b.iter=c;return b}function me(b,a,c){b=Object.create(b);b.tick=a[c];return b}function ne(b,
a,c){b=Object.create(b);b.tick=a[c];return b}function ah(b,a){for(var c,d,f,n,g,m,l,p,t,x,u,y,H,J,v=a.comparison.leftLabel,q,w,Ma,z,B,E=a.comparison.rightLabel,K,P,I,N,M,G,Q,L,U,R,X,cb,V,A,S,F,Ua,Wb,Za,ya,C,O,ia,ka,T,ca,sa,Y,na,ta,Ga,oa=aa(11),fa=[],za=0;za<oa.length;za+=1)fa[za]=oe(b,ne(a,oa,za));var Aa=aa(11),W=[];for(za=0;za<Aa.length;za+=1)W[za]=pe(b,me(a,Aa,za));var la=a.comparison.annotation&&qe(b,a);return{c(){c=k("div");d=r("svg");f=r("defs");n=r("marker");g=r("path");m=r("g");l=r("image");
x=r("g");u=r("text");y=r("tspan");H=h("more attributed to ");J=r("tspan");q=h(v);w=r("text");Ma=r("tspan");z=h("more attributed to ");B=r("tspan");K=h(E);P=r("g");I=r("line");N=r("line");G=r("g");Q=r("g");L=r("line");U=r("line");R=r("text");X=r("tspan");cb=h("positioned");V=r("tspan");A=h("by similarity");S=r("tspan");F=h("(one-dimensional");Ua=r("tspan");Wb=h("t-SNE)");ya=r("g");C=r("line");ka=r("line");for(var b=0;b<fa.length;b+=1)fa[b].c();Y=ma();for(b=0;b<W.length;b+=1)W[b].c();na=ma();la&&la.c();
e(g,"d","M0,0 L0,10 L10,5 z");e(g,"fill",a.color);e(n,"id","arrow");e(n,"markerWidth","7");e(n,"markerHeight","7");e(n,"refX","10");e(n,"refY","5");e(n,"orient","auto");e(n,"markerUnits","strokeWidth");e(n,"viewBox","0 0 10 10");e(l,"id","comparisonImg");e(l,"width",a.width);e(l,"height",a.height);Wa(l,"xlink:href",p="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+a.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg");
e(l,"alt",t=a.comparison.label);e(y,"x","-10");e(y,"dy","1.3em");e(J,"x","-10");e(J,"dy","1.3em");e(J,"font-weight","bold");e(u,"y","-50");e(u,"text-anchor","end");e(u,"class","svelte-1jr0ob8");e(Ma,"x","10");e(Ma,"dy","1.3em");e(B,"x","10");e(B,"dy","1.3em");e(B,"font-weight","bold");e(w,"y","-50");e(w,"class","svelte-1jr0ob8");e(I,"x2","-50");e(I,"transform","translate(-120,0)");e(I,"stroke",a.color);e(I,"marker-end","url(#arrow)");e(N,"x2","50");e(N,"transform","translate(120,0)");e(N,"stroke",
a.color);e(N,"marker-end","url(#arrow)");e(P,"transform","translate(0, -28)");e(x,"transform",M="translate("+a.width/2+", 0)");e(L,"y2","-50");e(L,"transform","translate(0,-38)");e(L,"stroke",a.color);e(L,"marker-end","url(#arrow)");e(U,"y2","50");e(U,"transform","translate(0,30)");e(U,"stroke",a.color);e(U,"marker-end","url(#arrow)");e(Q,"transform","translate(10, 0)");e(X,"x","0");e(X,"y","-1.8em");e(V,"x","0");e(V,"y","-0.6em");e(S,"x","0");e(S,"y","0.6em");e(Ua,"x","0");e(Ua,"y","1.8em");e(R,
"alignment-baseline","middle");e(R,"class","svelte-1jr0ob8");e(G,"transform",Za="translate("+(-a.margin.left+8)+","+a.height/2+")");e(C,"y1",O=-a.margin.top+4);e(C,"y2",ia=a.height+8);e(C,"stroke","white");e(C,"stroke-width","5");e(C,"stroke-opacity","0.6");e(ka,"y1",T=-a.margin.top+4);e(ka,"y2",ca=a.height+8);e(ka,"stroke","black");e(ya,"transform",sa="translate("+a.width/2+", 0)");e(m,"transform",ta="translate("+a.margin.left+","+a.margin.top+")");e(d,"class","overlay svelte-1jr0ob8");e(d,"viewBox",
Ga="0 0 "+a.outerWidth+" "+a.outerHeight);c.className="overlay-wrap svelte-1jr0ob8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(n);n.appendChild(g);d.appendChild(m);m.appendChild(l);m.appendChild(x);x.appendChild(u);u.appendChild(y);y.appendChild(H);u.appendChild(J);J.appendChild(q);x.appendChild(w);w.appendChild(Ma);Ma.appendChild(z);w.appendChild(B);B.appendChild(K);x.appendChild(P);P.appendChild(I);P.appendChild(N);m.appendChild(G);G.appendChild(Q);Q.appendChild(L);
Q.appendChild(U);G.appendChild(R);R.appendChild(X);X.appendChild(cb);R.appendChild(V);V.appendChild(A);R.appendChild(S);S.appendChild(F);R.appendChild(Ua);Ua.appendChild(Wb);m.appendChild(ya);ya.appendChild(C);ya.appendChild(ka);for(a=0;a<fa.length;a+=1)fa[a].m(m,null);m.appendChild(Y);for(a=0;a<W.length;a+=1)W[a].m(m,null);m.appendChild(na);la&&la.m(m,null)},p(a,c){a.color&&e(g,"fill",c.color);a.width&&e(l,"width",c.width);a.height&&e(l,"height",c.height);a.comparison&&p!==(p="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+
c.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg")&&Wa(l,"xlink:href",p);a.comparison&&t!==(t=c.comparison.label)&&e(l,"alt",t);a.comparison&&v!==(v=c.comparison.leftLabel)&&da(q,v);a.comparison&&E!==(E=c.comparison.rightLabel)&&da(K,E);a.color&&(e(I,"stroke",c.color),e(N,"stroke",c.color));a.width&&M!==(M="translate("+c.width/2+", 0)")&&e(x,"transform",M);a.color&&
(e(L,"stroke",c.color),e(U,"stroke",c.color));(a.margin||a.height)&&Za!==(Za="translate("+(-c.margin.left+8)+","+c.height/2+")")&&e(G,"transform",Za);a.margin&&O!==(O=-c.margin.top+4)&&e(C,"y1",O);a.height&&ia!==(ia=c.height+8)&&e(C,"y2",ia);a.margin&&T!==(T=-c.margin.top+4)&&e(ka,"y1",T);a.height&&ca!==(ca=c.height+8)&&e(ka,"y2",ca);a.width&&sa!==(sa="translate("+c.width/2+", 0)")&&e(ya,"transform",sa);if(a.width||a.height){oa=aa(11);for(var f=0;f<oa.length;f+=1){var n=ne(c,oa,f);fa[f]?fa[f].p(a,
n):(fa[f]=oe(b,n),fa[f].c(),fa[f].m(m,Y))}for(;f<fa.length;f+=1)fa[f].d(1);fa.length=oa.length}if(a.width||a.height){Aa=aa(11);for(f=0;f<Aa.length;f+=1)n=me(c,Aa,f),W[f]?W[f].p(a,n):(W[f]=pe(b,n),W[f].c(),W[f].m(m,na));for(;f<W.length;f+=1)W[f].d(1);W.length=Aa.length}c.comparison.annotation?la?la.p(a,c):(la=qe(b,c),la.c(),la.m(m,null)):la&&(la.d(1),la=null);a.margin&&ta!==(ta="translate("+c.margin.left+","+c.margin.top+")")&&e(m,"transform",ta);(a.outerWidth||a.outerHeight)&&Ga!==(Ga="0 0 "+c.outerWidth+
" "+c.outerHeight)&&e(d,"viewBox",Ga)},d(a){a&&D(c);Z(fa,a);Z(W,a);la&&la.d()}}}function oe(b,a){var c,d;return{c(){c=r("line");e(c,"x2",a.width);e(c,"transform",d="translate(0, "+a.height/10*a.tick+")");e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&e(c,"x2",b.width);a.height&&d!==(d="translate(0, "+b.height/10*b.tick+")")&&e(c,"transform",d)},d(a){a&&D(c)}}}function pe(b,a){var c,d;return{c(){c=r("line");e(c,"y2",a.width);
e(c,"transform",d="translate("+a.height/10*a.tick+", 0)");e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&e(c,"y2",b.width);a.height&&d!==(d="translate("+b.height/10*b.tick+", 0)")&&e(c,"transform",d)},d(a){a&&D(c)}}}function qe(b,a){for(var c,d=a.comparison.annotation,e=[],n=0;n<d.length;n+=1)e[n]=re(b,le(a,d,n));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,
b)},p(a,f){if(a.comparison||a.cellWidth||a.Math||a.width){d=f.comparison.annotation;for(var g=0;g<d.length;g+=1){let l=le(f,d,g);e[g]?e[g].p(a,l):(e[g]=re(b,l),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Z(e,a);a&&D(c)}}}function re(b,a){var c,d,f,n,g,m=a.annotation.desc,l,p,t,k,u,y,H,J,v;return{c(){c=r("g");d=r("line");g=r("text");l=h(m);k=r("g");u=r("circle");H=r("circle");e(d,"x1",f=(a.annotation.pos.y+.5)*a.cellWidth+a.cellWidth/2*a.Math.sqrt(2));e(d,
"x2",n=a.width+10);e(d,"stroke","black");e(d,"stroke-opacity","0.4");e(g,"x",p=a.width+20);e(g,"alignment-baseline","middle");e(g,"class","svelte-1jr0ob8");e(c,"transform",t="translate(0, "+(a.annotation.pos.x+.5)*a.cellWidth+")");e(u,"r",y=a.cellWidth/2*a.Math.sqrt(2));e(u,"fill","none");e(u,"stroke","white");e(u,"stroke-opacity","0.5");e(u,"stroke-width","5");e(H,"r",J=a.cellWidth/2*a.Math.sqrt(2));e(H,"fill","none");e(H,"stroke","black");e(H,"stroke-opacity","1");e(k,"transform",v="translate("+
(a.annotation.pos.y+.5)*a.cellWidth+", "+(a.annotation.pos.x+.5)*a.cellWidth+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(g);g.appendChild(l);a.insertBefore(k,b);k.appendChild(u);k.appendChild(H)},p(a,b){(a.comparison||a.cellWidth||a.Math)&&f!==(f=(b.annotation.pos.y+.5)*b.cellWidth+b.cellWidth/2*b.Math.sqrt(2))&&e(d,"x1",f);a.width&&n!==(n=b.width+10)&&e(d,"x2",n);a.comparison&&m!==(m=b.annotation.desc)&&da(l,m);a.width&&p!==(p=b.width+20)&&e(g,"x",p);(a.comparison||a.cellWidth)&&
t!==(t="translate(0, "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&e(c,"transform",t);(a.cellWidth||a.Math)&&y!==(y=b.cellWidth/2*b.Math.sqrt(2))&&e(u,"r",y);(a.cellWidth||a.Math)&&J!==(J=b.cellWidth/2*b.Math.sqrt(2))&&e(H,"r",J);(a.comparison||a.cellWidth)&&v!==(v="translate("+(b.annotation.pos.y+.5)*b.cellWidth+", "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&e(k,"transform",v)},d(a){a&&(D(c),D(k))}}}function Cb(b){F(this,b);this._state=q(q(q({Math},this.store._init(["classComparisons"])),{width:504,
selected:0,margin:{top:60,right:80,bottom:40,left:80},color:"#9a9cad",currentClassComparisonIndex:0}),b.data);this.store._add(this,["classComparisons"]);this._recompute({width:1,margin:1,height:1,currentClassComparisonIndex:1,$classComparisons:1},this._state);this._intro=!0;this._handlers.destroy=[jb];this._fragment=ah(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function se(b,a,c){b=Object.create(b);b.row=a[c];b.i=c;return b}function te(b,a,c){b=Object.create(b);
b.c=a[c];return b}function bh(b,a){for(var c,d=a.classifications,e=[],n=0;n<d.length;n+=1)e[n]=ue(b,te(a,d,n));return{c(){c=k("div");for(var b=0;b<e.length;b+=1)e[b].c();c.className="adversarial svelte-1ghs2gk";w(c,"grid-template-columns","repeat("+a.classifications.length+", 1fr)")},m(a,b){a.insertBefore(c,b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},p(a,f){if(a.classifications||a.left||a.right||a.aspectRatio){d=f.classifications;for(var g=0;g<d.length;g+=1){let l=te(f,d,g);e[g]?e[g].p(a,l):(e[g]=
ue(b,l),e[g].c(),e[g].m(c,null))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}a.classifications&&w(c,"grid-template-columns","repeat("+f.classifications.length+", 1fr)")},d(a){a&&D(c);Z(e,a)}}}function ve(b,a){var c,d,e=a.i+1,n,g,m,l,p=a.row[0],t,x,u,y=we(a.row[1]),H,r,v;return{c(){c=k("tr");d=k("td");n=h(e);g=h(".");m=h("\n          ");l=k("td");t=h(p);x=h("\n          ");u=k("td");H=h(y);r=h("%");d.className="svelte-1ghs2gk";l.className="svelte-1ghs2gk";u.className="svelte-1ghs2gk";c.className=
v=(a.row[0]===a.left?"left":"")+" "+(a.row[0]===a.right?"right":"")+" svelte-1ghs2gk"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(n);d.appendChild(g);c.appendChild(m);c.appendChild(l);l.appendChild(t);c.appendChild(x);c.appendChild(u);u.appendChild(H);u.appendChild(r)},p(a,b){a.classifications&&p!==(p=b.row[0])&&da(t,p);a.classifications&&y!==(y=we(b.row[1]))&&da(H,y);(a.classifications||a.left||a.right)&&v!==(v=(b.row[0]===b.left?"left":"")+" "+(b.row[0]===b.right?"right":"")+" svelte-1ghs2gk")&&
(c.className=v)},d(a){a&&D(c)}}}function ue(b,a){for(var c,d,e,n,g,m=a.c.caption,l,p,t=new ea({root:b.root,store:b.store,data:{src:a.c.image,alt:""+a.left+" / "+a.right,aspectRatio:a.aspectRatio}}),x=a.c.rows,u=[],y=0;y<x.length;y+=1)u[y]=ve(b,se(a,x,y));return{c(){c=k("div");t._fragment.c();d=h("\n      ");e=k("table");for(var a=0;a<u.length;a+=1)u[a].c();n=h("\n      ");g=k("div");l=h(m);p=h("\n    ");e.className="svelte-1ghs2gk";g.className="figcaption"},m(a,b){a.insertBefore(c,b);t._mount(c,null);
c.appendChild(d);c.appendChild(e);for(a=0;a<u.length;a+=1)u[a].m(e,null);c.appendChild(n);c.appendChild(g);g.appendChild(l);c.appendChild(p)},p(a,c){var d={};a.classifications&&(d.src=c.c.image);if(a.left||a.right)d.alt=""+c.left+" / "+c.right;a.aspectRatio&&(d.aspectRatio=c.aspectRatio);t._set(d);if(a.classifications||a.left||a.right){x=c.c.rows;for(d=0;d<x.length;d+=1){let f=se(c,x,d);u[d]?u[d].p(a,f):(u[d]=ve(b,f),u[d].c(),u[d].m(e,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=x.length}a.classifications&&
m!==(m=c.c.caption)&&da(l,m)},d(a){a&&D(c);t.destroy();Z(u,a)}}}function Ac(b){F(this,b);this._state=q({image:"",left:"",right:"",classifications:[],aspectRatio:1},b.data);this._intro=!0;this._fragment=bh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function ch(b,a){var c,d,e,n,g,m,l,p,t,x,u,y,r=new ea({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D10000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"10,000 activations"}}),q=new ea({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D100000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",alt:"100,000 activations"}}),v=new ea({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D1000000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"1,000,000 activations"}});return{c(){c=k("div");d=k("div");e=k("h4");e.textContent="10,000 activations";n=h("\n    ");r._fragment.c();g=h("\n  ");m=k("div");l=k("h4");l.textContent="100,000 activations";p=h("\n    ");q._fragment.c();t=h("\n  ");x=k("div");u=k("h4");u.textContent="1,000,000 activations";y=h("\n    ");v._fragment.c();c.className="svelte-fa3qj3 svelte-ref-root"},m(a,f){a.insertBefore(c,f);c.appendChild(d);d.appendChild(e);d.appendChild(n);r._mount(d,null);c.appendChild(g);c.appendChild(m);
m.appendChild(l);m.appendChild(p);q._mount(m,null);c.appendChild(t);c.appendChild(x);x.appendChild(u);x.appendChild(y);v._mount(x,null);b.refs.root=c},p:Y,d(a){a&&D(c);r.destroy();q.destroy();v.destroy();b.refs.root===c&&(b.refs.root=null)}}}function xe(b){F(this,b);this.refs={};this._state=q({},b.data);this._intro=!0;this._fragment=ch(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function dh(b,a){var c,d,e,n,g,m,l,p,t,x,u,y,r,q,v,ba=new ea({root:b.root,store:b.store,
data:{src:"assets/images/grid-size-32x32.png",alt:"32 x 32"}}),Db=new ea({root:b.root,store:b.store,data:{src:"assets/images/grid-size-8x8.png",alt:"8 x 8"}}),Ma=new ea({root:b.root,store:b.store,data:{src:"assets/images/grid-size-2x2.png",alt:"2 x 2"}});return{c(){c=k("div");d=k("div");e=k("div");ba._fragment.c();n=h("\n      ");g=k("div");g.innerHTML="<b>32 x 32</b> When the grid is too small, the feature visualizations are too small to see.";m=h("\n  ");l=k("div");p=k("div");Db._fragment.c();t=
h("\n      ");x=k("div");x.innerHTML="<b>8 x 8</b> When just right, the activation atlas shows all the concepts with feature visualizations that are big enough to see.";u=h("\n  ");y=k("div");r=k("div");Ma._fragment.c();q=h("\n      ");v=k("div");v.innerHTML="<b>2 x 2</b> When the grid is too big, concepts are lost in the averages. One sees less diversity within related concepts.";e.className="atlas";g.className="figcaption svelte-dmx176";p.className="atlas";x.className="figcaption svelte-dmx176";
r.className="atlas";v.className="figcaption svelte-dmx176";w(c,"display","grid");w(c,"grid-auto-flow","column");w(c,"grid-column-gap","20px");w(c,"grid-auto-columns","1fr")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);ba._mount(e,null);d.appendChild(n);d.appendChild(g);c.appendChild(m);c.appendChild(l);l.appendChild(p);Db._mount(p,null);l.appendChild(t);l.appendChild(x);c.appendChild(u);c.appendChild(y);y.appendChild(r);Ma._mount(r,null);y.appendChild(q);y.appendChild(v)},p:Y,d(a){a&&
D(c);ba.destroy();Db.destroy();Ma.destroy()}}}function ye(b){F(this,b);this._state=q({},b.data);this._intro=!0;this._fragment=dh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function eh({inputWidth:b,columnWidth:a,columnMargin:c}){return 2*b+3*a+4*c}function fh({inputWidth:b}){return b+40}function gh({timerCount:b,numCells:a}){return Math.round(b)%(a*a)}function hh({clippedCount:b,numCells:a}){return b%a}function ih({clippedCount:b,numCells:a}){return Math.floor(b/
a)}function jh({inputWidth:b,numCells:a,cellPadding:c}){return(b+c)/a-c}function kh({numCells:b,windowSize:a}){return b+a-1}function lh({inputWidth:b,numInputCells:a,cellPadding:c}){return(b+c)/a-c}function mh({numCells:b}){return aa(b).map((a)=>aa(b).map((a)=>aa(6).map((a)=>Math.random()-.5)))}function ze(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.y*c.numCells+c.x})}function Ae(b,a,c){b=Object.create(b);b.x=a[c];return b}function Be(b,a,c){b=Object.create(b);b.y=a[c];return b}function Ce(b,
a,c){b=Object.create(b);b.activation=a[c];b.i=c;return b}function De(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.Math.min(c.numCells-1,c.Math.max(0,c.y-c.windowSize+2))*c.numCells+c.Math.min(c.numCells-1,c.Math.max(0,c.x-c.windowSize+2))})}function Ee(b,a,c){b=Object.create(b);b.x=a[c];return b}function Fe(b,a,c){b=Object.create(b);b.y=a[c];return b}function nh(b,a){function c(a){b.set({timerCount:47})}var d,f,n,g,m,l,p,t,x,u,y,q,J,v,ba,Db,Ma,z,B,E,K,P,I,N,M,G,Q,L,U,R,X,cb,V,A,S,C,
Ua,Wb,Za,F,O,T,ia,ka,ca,da,sa,Y,na,ta,Ga,oa,fa,za,Aa,W,la,La,pa,Ba,Ha,Ea,xa,$a,lb,Da,va,ra,Fa,ab,Ia,gc,ea,ma,Ja,qa,bb,qb,wa,ha,ua,Ka,mb,Va,db,Oa,Na,xb,yb,zb,wb,Ta={};if(void 0!==a.onscreen){Ta.onscreen=a.onscreen;var Ab=!0}var rb=new Pc({root:b.root,store:b.store,data:Ta,_bind(a,c){var d={};!Ab&&a.onscreen&&(d.onscreen=c.onscreen);b._set(d);Ab=void 0}});b.root._beforecreate.push(()=>{rb._bind({onscreen:1},rb.get())});rb.on("onscreen",function(a){b.set({timerCount:47})});for(var Ca=aa(a.numInputCells),
Qa=[],ja=0;ja<Ca.length;ja+=1)Qa[ja]=Ge(b,Fe(a,Ca,ja));var fb=a.activations[a.windowX][a.windowY],Ra=[];for(ja=0;ja<fb.length;ja+=1)Ra[ja]=He(b,Ce(a,fb,ja));var gb=aa(a.numCells),Sa=[];for(ja=0;ja<gb.length;ja+=1)Sa[ja]=Ie(b,Be(a,gb,ja));var Pa=new kb({root:b.root,store:b.store,data:{url:"https://colab.sandbox.google.com/github/tensorflow/lucid/blob/master/notebooks/building-blocks/ActivationGrid.ipynb"}});return{c(){d=k("div");rb._fragment.c();f=h("\n\n  ");n=r("svg");g=r("clipPath");m=r("rect");
t=r("clipPath");x=r("rect");v=r("g");ba=r("g");Db=r("text");Ma=h("Input image");z=r("image");for(var b=0;b<Qa.length;b+=1)Qa[b].c();B=r("rect");N=r("g");M=r("path");L=r("text");U=h("Image patch");R=r("g");X=r("image");V=r("rect");A=r("text");S=r("tspan");C=h("Overlapping patches");Ua=r("tspan");Wb=h("of the input image are");Za=r("tspan");F=h("evaluated one by one.");ia=r("g");ka=r("path");sa=r("text");Y=h("Activations");for(b=0;b<Ra.length;b+=1)Ra[b].c();na=r("text");ta=r("tspan");Ga=h("We record a single ");
oa=r("tspan");fa=h("activation value for each ");za=r("tspan");Aa=h("of the 512 neurons.");W=r("tspan");la=h("(values shown are mocked)");Ba=r("g");Ha=r("path");$a=r("text");lb=h("Feature visualization");Da=r("g");va=r("image");Fa=r("rect");ab=r("text");Ia=r("tspan");gc=h("We then produce a  ");ea=r("tspan");ma=h("feature visualization");Ja=r("tspan");qa=h("and place them on a grid.");wa=r("g");ha=r("path");mb=r("text");Va=h("Activation grid");db=r("image");for(b=0;b<Sa.length;b+=1)Sa[b].c();Oa=r("rect");
wb=h("\n  ");Pa._fragment.c();e(m,"x",l=a.windowX*a.cellWidth);e(m,"y",p=a.windowY*a.cellWidth);e(m,"width",a.cellWidth);e(m,"height",a.cellWidth);e(g,"id","activationGridClipRect");e(x,"x",u=a.windowX*a.inputCellWidth);e(x,"y",y=a.windowY*a.inputCellWidth);e(x,"width",q=a.inputCellWidth*a.windowSize);e(x,"height",J=a.inputCellWidth*a.windowSize);e(t,"id","activationGridClipRectInput");e(Db,"class","head svelte-qwhwb1");e(Db,"dy","-13");Wa(z,"xlink:href","assets/images/dogcat.jpg");e(z,"width",a.inputWidth);
e(z,"height",a.inputWidth);e(B,"stroke","rgb(255, 170, 0)");e(B,"pointer-events","none");e(B,"stroke-width","2");e(B,"fill-opacity","0");e(B,"x",E=a.windowX*a.inputCellWidth);e(B,"y",K=a.windowY*a.inputCellWidth);e(B,"width",P=a.inputCellWidth*a.windowSize);e(B,"height",I=a.inputCellWidth*a.windowSize);e(ba,"transform","translate(0, 0)");e(M,"class","arrow svelte-qwhwb1");e(M,"transform",G="translate(0,"+a.columnWidth/2+")");e(M,"d",Q="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");
e(L,"class","head svelte-qwhwb1");e(L,"dy","-13");e(X,"image-rendering","pixelated");Wa(X,"xlink:href","assets/images/dogcat.jpg");e(X,"width",a.inputWidth);e(X,"height",a.inputWidth);e(X,"clip-path","url(#activationGridClipRectInput)");e(R,"transform",cb="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")");e(V,"stroke","rgb(255, 170, 0)");e(V,"stroke-width","4");e(V,"fill-opacity","0");e(V,"width",a.columnWidth);e(V,
"height",a.columnWidth);e(S,"x","0");e(S,"dy","1.4em");e(Ua,"x","0");e(Ua,"dy","1.4em");e(Za,"x","0");e(Za,"dy","1.4em");e(A,"class","figcaption svelte-qwhwb1");e(A,"transform",O="translate(0, "+(a.columnWidth+10)+")");e(N,"transform",T="translate("+(a.inputWidth+a.columnMargin)+", 0)");e(ka,"class","arrow svelte-qwhwb1");e(ka,"transform",ca="translate(0,"+a.columnWidth/2+")");e(ka,"d",da="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(sa,"class","head svelte-qwhwb1");e(sa,
"dy","-13");e(ta,"x","0");e(ta,"dy","1.4em");e(oa,"x","0");e(oa,"dy","1.4em");e(za,"x","0");e(za,"dy","1.4em");e(W,"x","0");e(W,"dy","1.4em");e(na,"class","figcaption svelte-qwhwb1");e(na,"transform",La="translate(0, "+(a.columnWidth+10)+")");e(ia,"transform",pa="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+", 0)");e(Ha,"class","arrow svelte-qwhwb1");e(Ha,"transform",Ea="translate(0,"+a.columnWidth/2+")");e(Ha,"d",xa="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");
e($a,"class","head svelte-qwhwb1");e($a,"dy","-13");e(va,"image-rendering","pixelated");Wa(va,"xlink:href","assets/images/dogcat-grid.jpg");e(va,"width",a.inputWidth);e(va,"height",a.inputWidth);e(va,"clip-path","url(#activationGridClipRect)");e(Da,"transform",ra="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")");e(Fa,"stroke","#ff6600");e(Fa,"stroke-width","4");e(Fa,"fill-opacity","0");e(Fa,"width",a.columnWidth);e(Fa,"height",a.columnWidth);
e(Ia,"x","0");e(Ia,"dy","1.4em");e(ea,"x","0");e(ea,"dy","1.4em");e(Ja,"x","0");e(Ja,"dy","1.4em");e(ab,"class","figcaption svelte-qwhwb1");e(ab,"transform",bb="translate(0, "+(a.columnWidth+10)+")");e(Ba,"transform",qb="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)");e(ha,"class","arrow svelte-qwhwb1");e(ha,"transform",ua="translate(0,"+a.columnWidth/2+")");e(ha,"d",Ka="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(mb,"class","head svelte-qwhwb1");
e(mb,"dy","-13");Wa(db,"xlink:href","assets/images/dogcat-grid.jpg");e(db,"width",a.inputWidth);e(db,"height",a.inputWidth);e(Oa,"stroke","#ff6600");e(Oa,"pointer-events","none");e(Oa,"stroke-width","2");e(Oa,"fill-opacity","0");e(Oa,"x",Na=a.windowX*a.cellWidth);e(Oa,"y",xb=a.windowY*a.cellWidth);e(Oa,"width",a.cellWidth);e(Oa,"height",a.cellWidth);e(wa,"transform",yb="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)");e(v,"transform","translate(0, 30)");w(n,"width",
"100%");e(n,"viewBox",zb="0 0 "+a.width+" "+a.height);d.addEventListener("mouseout",c,void 0);w(d,"position","relative");w(d,"background","white");w(d,"text-align","right")},m(a,b){a.insertBefore(d,b);rb._mount(d,null);d.appendChild(f);d.appendChild(n);n.appendChild(g);g.appendChild(m);n.appendChild(t);t.appendChild(x);n.appendChild(v);v.appendChild(ba);ba.appendChild(Db);Db.appendChild(Ma);ba.appendChild(z);for(a=0;a<Qa.length;a+=1)Qa[a].m(ba,null);ba.appendChild(B);v.appendChild(N);N.appendChild(M);
N.appendChild(L);L.appendChild(U);N.appendChild(R);R.appendChild(X);N.appendChild(V);N.appendChild(A);A.appendChild(S);S.appendChild(C);A.appendChild(Ua);Ua.appendChild(Wb);A.appendChild(Za);Za.appendChild(F);v.appendChild(ia);ia.appendChild(ka);ia.appendChild(sa);sa.appendChild(Y);for(a=0;a<Ra.length;a+=1)Ra[a].m(ia,null);ia.appendChild(na);na.appendChild(ta);ta.appendChild(Ga);na.appendChild(oa);oa.appendChild(fa);na.appendChild(za);za.appendChild(Aa);na.appendChild(W);W.appendChild(la);v.appendChild(Ba);
Ba.appendChild(Ha);Ba.appendChild($a);$a.appendChild(lb);Ba.appendChild(Da);Da.appendChild(va);Ba.appendChild(Fa);Ba.appendChild(ab);ab.appendChild(Ia);Ia.appendChild(gc);ab.appendChild(ea);ea.appendChild(ma);ab.appendChild(Ja);Ja.appendChild(qa);v.appendChild(wa);wa.appendChild(ha);wa.appendChild(mb);mb.appendChild(Va);wa.appendChild(db);for(a=0;a<Sa.length;a+=1)Sa[a].m(wa,null);wa.appendChild(Oa);d.appendChild(wb);Pa._mount(d,null)},p(c,d){a=d;d={};!Ab&&c.onscreen&&(d.onscreen=a.onscreen,Ab=void 0!==
a.onscreen);rb._set(d);Ab=void 0;(c.windowX||c.cellWidth)&&l!==(l=a.windowX*a.cellWidth)&&e(m,"x",l);(c.windowY||c.cellWidth)&&p!==(p=a.windowY*a.cellWidth)&&e(m,"y",p);c.cellWidth&&(e(m,"width",a.cellWidth),e(m,"height",a.cellWidth));(c.windowX||c.inputCellWidth)&&u!==(u=a.windowX*a.inputCellWidth)&&e(x,"x",u);(c.windowY||c.inputCellWidth)&&y!==(y=a.windowY*a.inputCellWidth)&&e(x,"y",y);(c.inputCellWidth||c.windowSize)&&q!==(q=a.inputCellWidth*a.windowSize)&&e(x,"width",q);(c.inputCellWidth||c.windowSize)&&
J!==(J=a.inputCellWidth*a.windowSize)&&e(x,"height",J);c.inputWidth&&(e(z,"width",a.inputWidth),e(z,"height",a.inputWidth));if(c.numInputCells||c.windowX||c.windowSize||c.windowY||c.inputCellWidth||c.cellPadding||c.Math||c.numCells){Ca=aa(a.numInputCells);for(d=0;d<Ca.length;d+=1){var f=Fe(a,Ca,d);Qa[d]?Qa[d].p(c,f):(Qa[d]=Ge(b,f),Qa[d].c(),Qa[d].m(ba,B))}for(;d<Qa.length;d+=1)Qa[d].d(1);Qa.length=Ca.length}(c.windowX||c.inputCellWidth)&&E!==(E=a.windowX*a.inputCellWidth)&&e(B,"x",E);(c.windowY||
c.inputCellWidth)&&K!==(K=a.windowY*a.inputCellWidth)&&e(B,"y",K);(c.inputCellWidth||c.windowSize)&&P!==(P=a.inputCellWidth*a.windowSize)&&e(B,"width",P);(c.inputCellWidth||c.windowSize)&&I!==(I=a.inputCellWidth*a.windowSize)&&e(B,"height",I);c.columnWidth&&G!==(G="translate(0,"+a.columnWidth/2+")")&&e(M,"transform",G);c.columnMargin&&Q!==(Q="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(M,"d",Q);c.inputWidth&&(e(X,"width",a.inputWidth),e(X,"height",a.inputWidth));(c.columnWidth||
c.inputCellWidth||c.windowSize||c.windowX||c.windowY)&&cb!==(cb="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")")&&e(R,"transform",cb);c.columnWidth&&(e(V,"width",a.columnWidth),e(V,"height",a.columnWidth));c.columnWidth&&O!==(O="translate(0, "+(a.columnWidth+10)+")")&&e(A,"transform",O);(c.inputWidth||c.columnMargin)&&T!==(T="translate("+(a.inputWidth+a.columnMargin)+", 0)")&&e(N,"transform",T);c.columnWidth&&ca!==
(ca="translate(0,"+a.columnWidth/2+")")&&e(ka,"transform",ca);c.columnMargin&&da!==(da="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(ka,"d",da);if(c.activations||c.columnWidth||c.inputWidth||c.windowX||c.windowY){fb=a.activations[a.windowX][a.windowY];for(d=0;d<fb.length;d+=1)f=Ce(a,fb,d),Ra[d]?Ra[d].p(c,f):(Ra[d]=He(b,f),Ra[d].c(),Ra[d].m(ia,na));for(;d<Ra.length;d+=1)Ra[d].d(1);Ra.length=fb.length}c.columnWidth&&La!==(La="translate(0, "+(a.columnWidth+10)+")")&&e(na,
"transform",La);(c.inputWidth||c.columnMargin||c.columnWidth)&&pa!==(pa="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+", 0)")&&e(ia,"transform",pa);c.columnWidth&&Ea!==(Ea="translate(0,"+a.columnWidth/2+")")&&e(Ha,"transform",Ea);c.columnMargin&&xa!==(xa="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(Ha,"d",xa);c.inputWidth&&(e(va,"width",a.inputWidth),e(va,"height",a.inputWidth));(c.columnWidth||c.cellWidth||c.windowX||c.windowY)&&ra!==(ra="scale("+
a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")")&&e(Da,"transform",ra);c.columnWidth&&(e(Fa,"width",a.columnWidth),e(Fa,"height",a.columnWidth));c.columnWidth&&bb!==(bb="translate(0, "+(a.columnWidth+10)+")")&&e(ab,"transform",bb);(c.inputWidth||c.columnMargin||c.columnWidth)&&qb!==(qb="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)")&&e(Ba,"transform",qb);c.columnWidth&&ua!==(ua="translate(0,"+a.columnWidth/2+")")&&
e(ha,"transform",ua);c.columnMargin&&Ka!==(Ka="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(ha,"d",Ka);c.inputWidth&&(e(db,"width",a.inputWidth),e(db,"height",a.inputWidth));if(c.numCells||c.windowY||c.windowX||c.cellWidth||c.cellPadding){gb=aa(a.numCells);for(d=0;d<gb.length;d+=1)f=Be(a,gb,d),Sa[d]?Sa[d].p(c,f):(Sa[d]=Ie(b,f),Sa[d].c(),Sa[d].m(wa,Oa));for(;d<Sa.length;d+=1)Sa[d].d(1);Sa.length=gb.length}(c.windowX||c.cellWidth)&&Na!==(Na=a.windowX*a.cellWidth)&&e(Oa,
"x",Na);(c.windowY||c.cellWidth)&&xb!==(xb=a.windowY*a.cellWidth)&&e(Oa,"y",xb);c.cellWidth&&(e(Oa,"width",a.cellWidth),e(Oa,"height",a.cellWidth));(c.inputWidth||c.columnMargin||c.columnWidth)&&yb!==(yb="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)")&&e(wa,"transform",yb);(c.width||c.height)&&zb!==(zb="0 0 "+a.width+" "+a.height)&&e(n,"viewBox",zb)},d(a){a&&D(d);rb.destroy();Z(Qa,a);Z(Ra,a);Z(Sa,a);Pa.destroy();d.removeEventListener("mouseout",c,void 0)}}}function Je(b,
a){var c,d,f,n;return{c(){c=r("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",De,void 0);e(c,"stroke","white");e(c,"fill","#aaa");e(c,"fill-opacity",d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5);e(c,"stroke-opacity","0.2");e(c,"stroke-width","1");e(c,"x",f=a.x*(a.inputCellWidth+a.cellPadding));e(c,"y",n=a.y*(a.inputCellWidth+a.cellPadding));e(c,"width",a.inputCellWidth);e(c,"height",a.inputCellWidth)},m(a,b){a.insertBefore(c,
b)},p(b,m){a=m;c._svelte.ctx=a;(b.numInputCells||b.windowX||b.windowSize||b.windowY)&&d!==(d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5)&&e(c,"fill-opacity",d);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&f!==(f=a.x*(a.inputCellWidth+a.cellPadding))&&e(c,"x",f);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&n!==(n=a.y*(a.inputCellWidth+a.cellPadding))&&e(c,"y",n);b.inputCellWidth&&(e(c,"width",a.inputCellWidth),e(c,"height",a.inputCellWidth))},
d(a){a&&D(c);c.removeEventListener("mouseover",De,void 0)}}}function Ge(b,a){for(var c,d=aa(a.numInputCells),e=[],n=0;n<d.length;n+=1)e[n]=Je(b,Ee(a,d,n));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numInputCells||a.windowX||a.windowSize||a.windowY||a.inputCellWidth||a.cellPadding||a.Math||a.numCells){d=aa(f.numInputCells);for(var g=0;g<d.length;g+=1){let l=Ee(f,d,g);e[g]?e[g].p(a,l):(e[g]=Je(b,l),e[g].c(),
e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Z(e,a);a&&D(c)}}}function Ke(b,a){var c,d,f,n,g,m;return{c(){c=r("g");d=r("text");f=h("\u2026");n=r("line");e(d,"transform","rotate(90)translate(-7, -25)");e(d,"font-size","11");e(n,"y1","7");e(n,"y2","7");e(n,"stroke","#eee");e(n,"x2",g=2*a.inputWidth/3-20);e(c,"transform",m="translate(0,"+(20+20*(a.activations[0][0].length-1))+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);c.appendChild(n)},p(a,b){a.inputWidth&&
g!==(g=2*b.inputWidth/3-20)&&e(n,"x2",g);a.activations&&m!==(m="translate(0,"+(20+20*(b.activations[0][0].length-1))+")")&&e(c,"transform",m)},d(a){a&&D(c)}}}function He(b,a){var c,d,f,n=a.i===a.activations[0][0].length-1?512:a.i,g,m,l,p=Le(a.activation),k,x,u,y,q=a.i!==a.activations[a.windowX][a.windowY].length-1&&Ke(b,a);return{c(){q&&q.c();c=r("g");d=r("text");f=h("neuron ");g=h(n);m=h(":");l=r("text");k=h(p);u=r("line");e(d,"font-size","11");e(d,"fill","#999");e(d,"dy","");e(l,"text-anchor","end");
e(l,"font-size","11");e(l,"font-family","monospace");e(l,"dx",x=2*a.inputWidth/3-20);e(u,"y1","7");e(u,"y2","7");e(u,"stroke","#eee");e(u,"x2",a.columnWidth);e(c,"transform",y="translate(0,"+(a.i===a.activations[0][0].length-1?20+20*(a.i+1):20+20*a.i)+")")},m(a,b){q&&q.m(a,b);a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);d.appendChild(g);d.appendChild(m);c.appendChild(l);l.appendChild(k);c.appendChild(u)},p(a,d){d.i!==d.activations[d.windowX][d.windowY].length-1?q?q.p(a,d):(q=Ke(b,d),q.c(),
q.m(c.parentNode,c)):q&&(q.d(1),q=null);a.activations&&n!==(n=d.i===d.activations[0][0].length-1?512:d.i)&&da(g,n);(a.activations||a.windowX||a.windowY)&&p!==(p=Le(d.activation))&&da(k,p);a.inputWidth&&x!==(x=2*d.inputWidth/3-20)&&e(l,"dx",x);a.columnWidth&&e(u,"x2",d.columnWidth);a.activations&&y!==(y="translate(0,"+(d.i===d.activations[0][0].length-1?20+20*(d.i+1):20+20*d.i)+")")&&e(c,"transform",y)},d(a){q&&q.d(a);a&&D(c)}}}function Me(b,a){var c,d,f,n;return{c(){c=r("rect");c._svelte={component:b,
ctx:a};c.addEventListener("mouseover",ze,void 0);e(c,"stroke","#ddd");e(c,"fill","#aaa");e(c,"fill-opacity",d=a.y===a.windowY&&a.x===a.windowX?.01:.5);e(c,"stroke-width","1");e(c,"x",f=a.x*(a.cellWidth+a.cellPadding));e(c,"y",n=a.y*(a.cellWidth+a.cellPadding));e(c,"width",a.cellWidth);e(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(b,m){a=m;c._svelte.ctx=a;(b.numCells||b.windowY||b.windowX)&&d!==(d=a.y===a.windowY&&a.x===a.windowX?.01:.5)&&e(c,"fill-opacity",d);(b.numCells||b.cellWidth||
b.cellPadding)&&f!==(f=a.x*(a.cellWidth+a.cellPadding))&&e(c,"x",f);(b.numCells||b.cellWidth||b.cellPadding)&&n!==(n=a.y*(a.cellWidth+a.cellPadding))&&e(c,"y",n);b.cellWidth&&(e(c,"width",a.cellWidth),e(c,"height",a.cellWidth))},d(a){a&&D(c);c.removeEventListener("mouseover",ze,void 0)}}}function Ie(b,a){for(var c,d=aa(a.numCells),e=[],n=0;n<d.length;n+=1)e[n]=Me(b,Ae(a,d,n));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},
p(a,f){if(a.numCells||a.windowY||a.windowX||a.cellWidth||a.cellPadding){d=aa(f.numCells);for(var g=0;g<d.length;g+=1){let l=Ae(f,d,g);e[g]?e[g].p(a,l):(e[g]=Me(b,l),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Z(e,a);a&&D(c)}}}function Wc(b){F(this,b);this._state=q(q({Math},{paused:!0,inputWidth:250,columnWidth:150,columnMargin:50,numCells:14,cellPadding:0,windowSize:3,windowX:0,windowY:0,activations:aa,timerCount:47}),b.data);this._recompute({inputWidth:1,
columnWidth:1,columnMargin:1,timerCount:1,numCells:1,clippedCount:1,cellPadding:1,windowSize:1,numInputCells:1},this._state);this._intro=!0;this._fragment=nh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function oh({width:b,columnPadding:a}){return(b+a)/3-a}function ph({columnWidth:b,inputPadding:a}){return(b+a)/3-a}function qh({inputWidth:b,numCells:a,cellPadding:c}){return(b+c)/a-c}function rh({columnWidth:b,numIcons:a}){return b/a}function Ne(b,a,c,d){return`M${b},${a} L${b+
10},${a} L${b+40},${d} L${c},${d} m-5,-5 l5,5 l-5,5`}function sh(){console.log("loading");let {dataURL:b,webURL:a}=this.get();vc([b,a]).then((a)=>{this.set({layoutData:a[0].slice(0,1E4),webData:a[1]})})}function Oe(b,a,c){b=Object.create(b);b.x=a[c];return b}function Pe(b,a,c){b=Object.create(b);b.y=a[c];return b}function Qe(b,a,c){b=Object.create(b);b.icon=a[c];return b}function Re(b,a,c){b=Object.create(b);b.x=a[c];return b}function Se(b,a,c){b=Object.create(b);b.y=a[c];return b}function Te(b,a,
c){b=Object.create(b);b.input=a[c];b.i=c;return b}function Ue(b,a,c){b=Object.create(b);b.point=a[c];return b}function th(b,a){for(var c,d,f,n,g,m,l,p,t,x,u,y,q,J,v,ba,A,Ma,z,B,E,K,P,I,N,M,G,Q=a.layoutData,L=[],U=0;U<Q.length;U+=1)L[U]=Ve(b,Ue(a,Q,U));var R=a.inputs,X=[];for(U=0;U<R.length;U+=1)X[U]=We(b,Te(a,R,U));var cb=a.webData,V=[];for(U=0;U<cb.length;U+=1)V[U]=Xe(b,Qe(a,cb,U));var C=aa(a.numIcons),S=[];for(U=0;U<C.length;U+=1)S[U]=Ye(b,Pe(a,C,U));var F=new kb({root:b.root,store:b.store,data:{url:""}});
return{c(){c=r("svg");d=r("g");f=r("g");for(var b=0;b<L.length;b+=1)L[b].c();for(b=0;b<X.length;b+=1)X[b].c();g=r("g");m=r("image");for(b=0;b<V.length;b+=1)V[b].c();p=ma();for(b=0;b<S.length;b+=1)S[b].c();x=r("rect");q=r("path");v=r("rect");z=h("\n");B=k("div");E=k("div");E.textContent="A randomized set of one million images is fed through the network, collecting one random spatial activation per image.";K=h("\n  ");P=k("div");P.textContent="The activations are fed through UMAP to reduce them to two dimensions. They are then plotted, with similar activations placed near each other.";
I=h("\n  ");N=k("div");M=h("We then draw a grid and average the activations that fall within a cell and run feature inversion on the averaged activation.\n    ");G=k("div");F._fragment.c();e(f,"transform",n="translate("+1*(a.columnWidth+a.columnPadding)+", 0)");e(m,"opacity",l=0<a.webData.length?1:0);Wa(m,"xlink:href",a.renderURL);e(m,"width",a.columnWidth);e(m,"height",a.columnWidth);e(g,"transform",t="translate("+2*(a.columnWidth+a.columnPadding)+", 0)");e(x,"fill","none");e(x,"stroke","black");
e(x,"stroke-width","2");e(x,"x",u=1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);e(x,"y",y=a.iconHighlight.y*a.iconWidth);e(x,"width",a.iconWidth);e(x,"height",a.iconWidth);e(q,"fill","none");e(q,"stroke","black");e(q,"d",J="M"+(1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth+a.iconWidth/2)+","+a.iconHighlight.y*a.iconWidth+"l0,-30 l"+(a.columnWidth+a.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5");e(v,"fill","none");e(v,"stroke","black");e(v,"stroke-width","2");e(v,
"x",ba=2*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);e(v,"y",A=a.iconHighlight.y*a.iconWidth);e(v,"width",a.iconWidth);e(v,"height",a.iconWidth);e(d,"transform","translate(0, 40)");w(c,"width","100%");e(c,"viewBox",Ma="0 0 "+a.width+" "+a.height);E.className="figcaption";P.className="figcaption";w(G,"margin-top","8px");w(G,"text-align","right");N.className="figcaption";w(B,"display","grid");w(B,"grid-column-gap",""+a.columnPadding/a.width*100+"%");w(B,"grid-template-columns","1fr 1fr 1fr")},
m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);for(var e=0;e<L.length;e+=1)L[e].m(f,null);for(e=0;e<X.length;e+=1)X[e].m(d,null);d.appendChild(g);g.appendChild(m);for(e=0;e<V.length;e+=1)V[e].m(g,null);g.appendChild(p);for(e=0;e<S.length;e+=1)S[e].m(g,null);d.appendChild(x);d.appendChild(q);d.appendChild(v);a.insertBefore(z,b);a.insertBefore(B,b);B.appendChild(E);B.appendChild(K);B.appendChild(P);B.appendChild(I);B.appendChild(N);N.appendChild(M);N.appendChild(G);F._mount(G,null)},p(a,
k){if(a.layoutData||a.columnWidth){Q=k.layoutData;for(var h=0;h<Q.length;h+=1){var r=Ue(k,Q,h);L[h]?L[h].p(a,r):(L[h]=Ve(b,r),L[h].c(),L[h].m(f,null))}for(;h<L.length;h+=1)L[h].d(1);L.length=Q.length}(a.columnWidth||a.columnPadding)&&n!==(n="translate("+1*(k.columnWidth+k.columnPadding)+", 0)")&&e(f,"transform",n);if(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding||a.inputPadding||a.x||a.y||a.Math||a.numCells){R=k.inputs;for(h=0;h<R.length;h+=1)r=Te(k,R,h),X[h]?
X[h].p(a,r):(X[h]=We(b,r),X[h].c(),X[h].m(d,g));for(;h<X.length;h+=1)X[h].d(1);X.length=R.length}a.webData&&l!==(l=0<k.webData.length?1:0)&&e(m,"opacity",l);a.renderURL&&Wa(m,"xlink:href",k.renderURL);a.columnWidth&&(e(m,"width",k.columnWidth),e(m,"height",k.columnWidth));if(a.webData||a.iconWidth){cb=k.webData;for(h=0;h<cb.length;h+=1)r=Qe(k,cb,h),V[h]?V[h].p(a,r):(V[h]=Xe(b,r),V[h].c(),V[h].m(g,p));for(;h<V.length;h+=1)V[h].d(1);V.length=cb.length}if(a.numIcons||a.iconWidth){C=aa(k.numIcons);for(h=
0;h<C.length;h+=1)r=Pe(k,C,h),S[h]?S[h].p(a,r):(S[h]=Ye(b,r),S[h].c(),S[h].m(g,null));for(;h<S.length;h+=1)S[h].d(1);S.length=C.length}(a.columnWidth||a.columnPadding)&&t!==(t="translate("+2*(k.columnWidth+k.columnPadding)+", 0)")&&e(g,"transform",t);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&u!==(u=1*(k.columnWidth+k.columnPadding)+k.iconHighlight.x*k.iconWidth)&&e(x,"x",u);(a.iconHighlight||a.iconWidth)&&y!==(y=k.iconHighlight.y*k.iconWidth)&&e(x,"y",y);a.iconWidth&&(e(x,"width",
k.iconWidth),e(x,"height",k.iconWidth));(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&J!==(J="M"+(1*(k.columnWidth+k.columnPadding)+k.iconHighlight.x*k.iconWidth+k.iconWidth/2)+","+k.iconHighlight.y*k.iconWidth+"l0,-30 l"+(k.columnWidth+k.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5")&&e(q,"d",J);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&ba!==(ba=2*(k.columnWidth+k.columnPadding)+k.iconHighlight.x*k.iconWidth)&&e(v,"x",ba);(a.iconHighlight||a.iconWidth)&&A!==
(A=k.iconHighlight.y*k.iconWidth)&&e(v,"y",A);a.iconWidth&&(e(v,"width",k.iconWidth),e(v,"height",k.iconWidth));(a.width||a.height)&&Ma!==(Ma="0 0 "+k.width+" "+k.height)&&e(c,"viewBox",Ma);(a.columnPadding||a.width)&&w(B,"grid-column-gap",""+k.columnPadding/k.width*100+"%")},d(a){a&&D(c);Z(L,a);Z(X,a);Z(V,a);Z(S,a);a&&(D(z),D(B));F.destroy()}}}function Ve(b,a){var c,d,f;return{c(){c=r("g");d=r("rect");e(d,"fill","#999");e(d,"fill-opacity","0.5");e(d,"width","2");e(d,"height","2");e(c,"transform",
f="translate("+a.point[1]*a.columnWidth+", "+a.point[0]*a.columnWidth+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d)},p(a,b){(a.layoutData||a.columnWidth)&&f!==(f="translate("+b.point[1]*b.columnWidth+", "+b.point[0]*b.columnWidth+")")&&e(c,"transform",f)},d(a){a&&D(c)}}}function Ze(b,a){var c,d,f;return{c(){c=r("rect");e(c,"stroke","white");e(c,"fill","#aaa");e(c,"fill-opacity","0.6");e(c,"stroke-width","2");e(c,"x",d=a.x*(a.cellWidth+a.cellPadding));e(c,"y",f=a.y*(a.cellWidth+a.cellPadding));
e(c,"width",a.cellWidth);e(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numCells||a.cellWidth||a.cellPadding)&&d!==(d=b.x*(b.cellWidth+b.cellPadding))&&e(c,"x",d);(a.numCells||a.cellWidth||a.cellPadding)&&f!==(f=b.y*(b.cellWidth+b.cellPadding))&&e(c,"y",f);a.cellWidth&&(e(c,"width",b.cellWidth),e(c,"height",b.cellWidth))},d(a){a&&D(c)}}}function $e(b,a){for(var c,d=aa(a.numCells),e=[],n=0;n<d.length;n+=1)e[n]=Ze(b,Re(a,d,n));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},
m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numCells||a.cellWidth||a.cellPadding){d=aa(f.numCells);for(var g=0;g<d.length;g+=1){let l=Re(f,d,g);e[g]?e[g].p(a,l):(e[g]=Ze(b,l),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Z(e,a);a&&D(c)}}}function af(b,a){var c,d,f,n;return{c(){c=r("line");e(c,"stroke-dasharray","2 2");e(c,"y1",d=a.inputWidth+10);e(c,"y2",f=a.inputWidth+10);e(c,"x2",n=3*(a.inputWidth+a.inputPadding)-a.inputPadding);
e(c,"stroke","#ddd")},m(a,b){a.insertBefore(c,b)},p(a,b){a.inputWidth&&d!==(d=b.inputWidth+10)&&e(c,"y1",d);a.inputWidth&&f!==(f=b.inputWidth+10)&&e(c,"y2",f);(a.inputWidth||a.inputPadding)&&n!==(n=3*(b.inputWidth+b.inputPadding)-b.inputPadding)&&e(c,"x2",n)},d(a){a&&D(c)}}}function We(b,a){for(var c,d,f,n,g,m,l,k,t,x,u,y,q,w,v,ba=(a.Math.random()+"").slice(0,5),A,C,z=(a.Math.random()+"").slice(0,5),B,E,K,P,I,N,M,G,Q=aa(a.numCells),L=[],U=0;U<Q.length;U+=1)L[U]=$e(b,Se(a,Q,U));var R=a.i!==a.inputs.length-
1&&af(b,a);return{c(){c=r("g");d=r("image");n=r("g");g=r("image");for(var b=0;b<L.length;b+=1)L[b].c();k=r("rect");u=r("path");q=r("g");w=r("text");v=h("[");A=h(ba);C=h(", ");B=h(z);E=h(", \u2026]\n          ");R&&R.c();M=r("path");Wa(d,"xlink:href",f="assets/images/"+a.input.id+".jpg");e(d,"width",a.inputWidth);e(d,"height",a.inputWidth);Wa(g,"xlink:href",m="assets/images/"+a.input.id+".jpg");e(g,"width",a.inputWidth);e(g,"height",a.inputWidth);e(n,"transform",l="translate("+(a.inputWidth+a.inputPadding)+
", 0)");e(k,"fill","none");e(k,"stroke","black");e(k,"stroke-width","2");e(k,"x",t=1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding));e(k,"y",x=a.input.y*(a.cellWidth+a.cellPadding));e(k,"width",a.cellWidth);e(k,"height",a.cellWidth);e(u,"fill","none");e(u,"stroke","black");e(u,"d",y="M"+(1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding)+a.cellWidth)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" L"+(2*(a.inputWidth+a.inputPadding)-10)+","+(a.input.y*
(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" m-5,-5 l5,5 l-5,5");e(w,"font-size","9");e(w,"dy",K=a.cellWidth/1.5);e(w,"transform",P="translate("+a.x*(a.cellWidth+a.cellPadding)+", "+a.y*(a.cellWidth+a.cellPadding)+")");e(q,"transform",I="translate("+2*(a.inputWidth+a.inputPadding)+", "+a.input.y*(a.cellWidth+a.cellPadding)+")");e(c,"transform",N="translate(0, "+(a.inputWidth+20)*a.i+")");e(M,"fill","none");e(M,"stroke","black");e(M,"d",G=Ne(a.columnWidth,a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/
2+(a.inputWidth+20)*a.i,a.columnWidth+a.columnPadding+a.columnWidth*a.input.px,a.columnWidth*a.input.py))},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(n);n.appendChild(g);for(var e=0;e<L.length;e+=1)L[e].m(n,null);c.appendChild(k);c.appendChild(u);c.appendChild(q);q.appendChild(w);w.appendChild(v);w.appendChild(A);w.appendChild(C);w.appendChild(B);w.appendChild(E);R&&R.m(c,null);a.insertBefore(M,b)},p(a,h){a.inputs&&f!==(f="assets/images/"+h.input.id+".jpg")&&Wa(d,"xlink:href",f);a.inputWidth&&
(e(d,"width",h.inputWidth),e(d,"height",h.inputWidth));a.inputs&&m!==(m="assets/images/"+h.input.id+".jpg")&&Wa(g,"xlink:href",m);a.inputWidth&&(e(g,"width",h.inputWidth),e(g,"height",h.inputWidth));if(a.numCells||a.cellWidth||a.cellPadding){Q=aa(h.numCells);for(var p=0;p<Q.length;p+=1){let c=Se(h,Q,p);L[p]?L[p].p(a,c):(L[p]=$e(b,c),L[p].c(),L[p].m(n,null))}for(;p<L.length;p+=1)L[p].d(1);L.length=Q.length}(a.inputWidth||a.inputPadding)&&l!==(l="translate("+(h.inputWidth+h.inputPadding)+", 0)")&&e(n,
"transform",l);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&t!==(t=1*(h.inputWidth+h.inputPadding)+h.input.x*(h.cellWidth+h.cellPadding))&&e(k,"x",t);(a.inputs||a.cellWidth||a.cellPadding)&&x!==(x=h.input.y*(h.cellWidth+h.cellPadding))&&e(k,"y",x);a.cellWidth&&(e(k,"width",h.cellWidth),e(k,"height",h.cellWidth));(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&y!==(y="M"+(1*(h.inputWidth+h.inputPadding)+h.input.x*(h.cellWidth+h.cellPadding)+h.cellWidth)+
","+(h.input.y*(h.cellWidth+h.cellPadding)+h.cellWidth/2)+" L"+(2*(h.inputWidth+h.inputPadding)-10)+","+(h.input.y*(h.cellWidth+h.cellPadding)+h.cellWidth/2)+" m-5,-5 l5,5 l-5,5")&&e(u,"d",y);a.Math&&ba!==(ba=(h.Math.random()+"").slice(0,5))&&da(A,ba);a.Math&&z!==(z=(h.Math.random()+"").slice(0,5))&&da(B,z);a.cellWidth&&K!==(K=h.cellWidth/1.5)&&e(w,"dy",K);(a.x||a.cellWidth||a.cellPadding||a.y)&&P!==(P="translate("+h.x*(h.cellWidth+h.cellPadding)+", "+h.y*(h.cellWidth+h.cellPadding)+")")&&e(w,"transform",
P);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&I!==(I="translate("+2*(h.inputWidth+h.inputPadding)+", "+h.input.y*(h.cellWidth+h.cellPadding)+")")&&e(q,"transform",I);h.i!==h.inputs.length-1?R?R.p(a,h):(R=af(b,h),R.c(),R.m(c,null)):R&&(R.d(1),R=null);a.inputWidth&&N!==(N="translate(0, "+(h.inputWidth+20)*h.i+")")&&e(c,"transform",N);(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding)&&G!==(G=Ne(h.columnWidth,h.input.y*(h.cellWidth+h.cellPadding)+
h.cellWidth/2+(h.inputWidth+20)*h.i,h.columnWidth+h.columnPadding+h.columnWidth*h.input.px,h.columnWidth*h.input.py))&&e(M,"d",G)},d(a){a&&D(c);Z(L,a);R&&R.d();a&&D(M)}}}function Xe(b,a){var c,d,f,h;return{c(){c=r("rect");e(c,"stroke","none");e(c,"fill","white");e(c,"fill-opacity",d=50<+a.icon.n?0:1);e(c,"x",f=a.icon.y*a.iconWidth);e(c,"y",h=a.icon.x*a.iconWidth);e(c,"width",a.iconWidth);e(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){a.webData&&d!==(d=50<+b.icon.n?0:1)&&e(c,"fill-opacity",
d);(a.webData||a.iconWidth)&&f!==(f=b.icon.y*b.iconWidth)&&e(c,"x",f);(a.webData||a.iconWidth)&&h!==(h=b.icon.x*b.iconWidth)&&e(c,"y",h);a.iconWidth&&(e(c,"width",b.iconWidth),e(c,"height",b.iconWidth))},d(a){a&&D(c)}}}function bf(b,a){var c,d,f;return{c(){c=r("rect");e(c,"stroke","#ddd");e(c,"stroke-opacity","0.5");e(c,"fill","none");e(c,"stroke-width","1");e(c,"x",d=a.x*a.iconWidth);e(c,"y",f=a.y*a.iconWidth);e(c,"width",a.iconWidth);e(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numIcons||
a.iconWidth)&&d!==(d=b.x*b.iconWidth)&&e(c,"x",d);(a.numIcons||a.iconWidth)&&f!==(f=b.y*b.iconWidth)&&e(c,"y",f);a.iconWidth&&(e(c,"width",b.iconWidth),e(c,"height",b.iconWidth))},d(a){a&&D(c)}}}function Ye(b,a){for(var c,d=aa(a.numIcons),e=[],h=0;h<d.length;h+=1)e[h]=bf(b,Oe(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ma()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numIcons||a.iconWidth){d=aa(f.numIcons);for(var g=0;g<d.length;g+=1){let h=Oe(f,
d,g);e[g]?e[g].p(a,h):(e[g]=bf(b,h),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){Z(e,a);a&&D(c)}}}function Xc(b){F(this,b);this._state=q(q({Math},{width:1E3,height:380,columnPadding:50,inputPadding:20,numCells:6,cellPadding:0,numIcons:10,iconHighlight:{x:2,y:0},layoutData:[],webData:[],webURL:"https://storage.googleapis.com/activation-atlas/build/process/web/web--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",
dataURL:"https://storage.googleapis.com/activation-atlas/build/process/layout_data/layout_data--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",renderURL:"https://storage.googleapis.com/activation-atlas/build/process/render/render--x=0--y=0--tries=4--alpha=False--tile_size=10--whiten=true--steps=2048--icon_size=80--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.jpg",
inputs:[{id:"dogcat",x:2,y:1,px:.25,py:.033},{id:"dog",x:3,y:3,px:.28,py:.066},{id:"ocean",x:2,y:3,px:.25,py:.85}]}),b.data);this._recompute({width:1,columnPadding:1,columnWidth:1,inputPadding:1,inputWidth:1,numCells:1,cellPadding:1,numIcons:1},this._state);this._intro=!0;this._fragment=th(this,this._state);this.root._oncreate.push(()=>{sh.call(this);this.fire("update",{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function uh(b,
a){var c,d={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2"};if(void 0!==a.gridSize){d.gridSize=a.gridSize;var e=!0}if(void 0!==a.showLabels){d.showLabels=a.showLabels;var h=!0}var g=new Da({root:b.root,store:b.store,data:d,_bind(a,c){var d={};!e&&a.gridSize&&(d.gridSize=c.gridSize);!h&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);h=e=void 0}});b.root._beforecreate.push(()=>{g._bind({gridSize:1,showLabels:1},g.get())});return{c(){c=k("div");g._fragment.c();
c.className="atlas svelte-1wfbhjw";w(c,"grid-column","screen")},m(a,b){a.insertBefore(c,b);g._mount(c,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!e&&b.gridSize&&(c.gridSize=a.gridSize,e=void 0!==a.gridSize);!h&&b.showLabels&&(c.showLabels=a.showLabels,h=void 0!==a.showLabels);g._set(c);h=e=void 0},d(a){a&&D(c);g.destroy()}}}function cf(b){F(this,b);this._state=q({layerName:"mixed4c",gridSize:1},b.data);this._intro=!0;this._fragment=uh(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),O(this))}function vh(b,a){var c,d,e,n,g,m={id:"inceptionv1_"+a.layerName};if(void 0!==a.gridSize){m.gridSize=a.gridSize;var l=!0}if(void 0!==a.homeX){m.homeX=a.homeX;var p=!0}if(void 0!==a.homeY){m.homeY=a.homeY;var t=!0}if(void 0!==a.homeScale){m.homeScale=a.homeScale;var x=!0}if(void 0!==a.aspectRatio){m.aspectRatio=a.aspectRatio;var u=!0}if(void 0!==a.scale){m.scale=a.scale;var y=!0}if(void 0!==a.gcx){m.gcx=a.gcx;var q=!0}if(void 0!==a.gcy){m.gcy=a.gcy;var r=!0}if(void 0!==
a.showLabels){m.showLabels=a.showLabels;var v=!0}var ba=new Da({root:b.root,store:b.store,data:m,_bind(a,c){var d={};!l&&a.gridSize&&(d.gridSize=c.gridSize);!p&&a.homeX&&(d.homeX=c.homeX);!t&&a.homeY&&(d.homeY=c.homeY);!x&&a.homeScale&&(d.homeScale=c.homeScale);!u&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!y&&a.scale&&(d.scale=c.scale);!q&&a.gcx&&(d.gcx=c.gcx);!r&&a.gcy&&(d.gcy=c.gcy);!v&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);v=r=q=y=u=x=t=p=l=void 0}});b.root._beforecreate.push(()=>
{ba._bind({gridSize:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1,showLabels:1},ba.get())});var A=new ua({root:b.root,store:b.store,data:{layerName:a.layerName,gridSize:1}});m={};if(void 0!==a.aspectRatio){m.aspectRatio=a.aspectRatio;var C=!0}if(void 0!==a.scale){m.scale=a.scale;var z=!0}if(void 0!==a.gcx){m.gcx=a.gcx;var B=!0}if(void 0!==a.gcy){m.gcy=a.gcy;var E=!0}var K=new ra({root:b.root,store:b.store,data:m,_bind(a,c){var d={};!C&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);
!z&&a.scale&&(d.scale=c.scale);!B&&a.gcx&&(d.gcx=c.gcx);!E&&a.gcy&&(d.gcy=c.gcy);b._set(d);E=B=z=C=void 0}});b.root._beforecreate.push(()=>{K._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},K.get())});return{c(){c=k("div");d=k("div");ba._fragment.c();e=h("\n  ");n=k("div");A._fragment.c();g=h("\n    ");K._fragment.c();d.className="detail svelte-tlu8r4";n.className="atlas svelte-tlu8r4";w(c,"display","grid");w(c,"grid-template-columns","1fr 200px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);ba._mount(d,
null);c.appendChild(e);c.appendChild(n);A._mount(n,null);n.appendChild(g);K._mount(n,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!l&&b.gridSize&&(c.gridSize=a.gridSize,l=void 0!==a.gridSize);!p&&b.homeX&&(c.homeX=a.homeX,p=void 0!==a.homeX);!t&&b.homeY&&(c.homeY=a.homeY,t=void 0!==a.homeY);!x&&b.homeScale&&(c.homeScale=a.homeScale,x=void 0!==a.homeScale);!u&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,u=void 0!==a.aspectRatio);!y&&b.scale&&(c.scale=a.scale,y=void 0!==a.scale);
!q&&b.gcx&&(c.gcx=a.gcx,q=void 0!==a.gcx);!r&&b.gcy&&(c.gcy=a.gcy,r=void 0!==a.gcy);!v&&b.showLabels&&(c.showLabels=a.showLabels,v=void 0!==a.showLabels);ba._set(c);v=r=q=y=u=x=t=p=l=void 0;c={};b.layerName&&(c.layerName=a.layerName);A._set(c);c={};!C&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,C=void 0!==a.aspectRatio);!z&&b.scale&&(c.scale=a.scale,z=void 0!==a.scale);!B&&b.gcx&&(c.gcx=a.gcx,B=void 0!==a.gcx);!E&&b.gcy&&(c.gcy=a.gcy,E=void 0!==a.gcy);K._set(c);E=B=z=C=void 0},d(a){a&&D(c);ba.destroy();
A.destroy();K.destroy()}}}function hb(b){F(this,b);this._state=q({layerName:"mixed4c",gridSize:2,homeScale:14,showLabels:!0},b.data);this._intro=!0;this._fragment=vh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function wh({width:b}){return b}function xh(b,a){var c,d;return{c(){c=k("div");d=k("canvas");w(d,"position","absolute");w(d,"top","0");w(d,"left","calc(50% - "+a.width/2+"px)");d.className="singleIcon";d.width=a.width;d.height=a.height;w(c,"position",
"relative");w(c,"overflow","hidden");w(c,"height",""+a.width+"px");w(c,"border-right","solid 1px rgba(255, 255, 255, 0.2)")},m(a,e){a.insertBefore(c,e);c.appendChild(d);b.refs.canvas=d},p(a,b){a.width&&(w(d,"left","calc(50% - "+b.width/2+"px)"),d.width=b.width);a.height&&(d.height=b.height);a.width&&w(c,"height",""+b.width+"px")},d(a){a&&D(c);b.refs.canvas===d&&(b.refs.canvas=null)}}}function Bc(b){F(this,b);this.refs={};this._state=q({iconCrop:.02,width:null,icon:null,config:null},b.data);this._recompute({width:1},
this._state);this._intro=!0;this._fragment=xh(this,this._state);this.root._oncreate.push(()=>{this.render();this.fire("update",{changed:ha({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function yh({layers:b}){return b?b.length-1:1}function zh({changed:b}){this.set({container:this.refs.icons,arrow:this.refs.arrow.getContext("2d")});(b.pointList,b.layers)&&this.render();b.width&&this.drawArrow()}function df(b,a,c){b=Object.create(b);b.icon=
a[c];b.i=c;return b}function Ah(b,a){function c(){b.set({width:d.clientWidth,height:d.clientHeight})}for(var d,e,n,g,m,l=a.imgList,p=[],t=0;t<l.length;t+=1)p[t]=ef(b,df(a,l,t));return{c(){d=k("div");e=k("canvas");n=h("\n  ");g=k("div");for(var f=0;f<p.length;f+=1)p[f].c();e.width=a.width;e.height=a.arrowHeight;g.className="icons svelte-106o8is";b.root._beforecreate.push(c)},m(a,f){a.insertBefore(d,f);d.appendChild(e);b.refs.arrow=e;d.appendChild(n);d.appendChild(g);for(a=0;a<p.length;a+=1)p[a].m(g,
null);b.refs.icons=g;m=Ta(d,c);b.refs.annotation=d},p(a,c){a.width&&(e.width=c.width);a.arrowHeight&&(e.height=c.arrowHeight);if(a.imgList||a.config){l=c.imgList;for(var d=0;d<l.length;d+=1){let e=df(c,l,d);p[d]?p[d].p(a,e):(p[d]=ef(b,e),p[d].c(),p[d].m(g,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=l.length}},d(a){a&&D(d);b.refs.arrow===e&&(b.refs.arrow=null);Z(p,a);b.refs.icons===g&&(b.refs.icons=null);m.cancel();b.refs.annotation===d&&(b.refs.annotation=null)}}}function ef(b,a){var c=new Bc({root:b.root,
store:b.store,data:{icon:a.icon,width:100,config:a.config}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.imgList&&(d.icon=b.icon);a.config&&(d.config=b.config);c._set(d)},d(a){c.destroy(a)}}}function Cc(b){F(this,b);this.refs={};this._state=q({container:null,arrow:null,arrowHeight:30,imgList:[]},b.data);this._recompute({layers:1},this._state);this._intro=!0;this._handlers.update=[zh];this._fragment=Ah(this,this._state);this.root._oncreate.push(()=>{this.fire("update",{changed:ha({},
this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Bh({pointList:b}){return b.length}function Ch({viewWidth:b,viewHeight:a}){return b&&a?Math.min(b,a):0}function Dh({viewWidth:b,viewHeight:a,edgeLength:c}){return b&&a?[(b-c)/2,(a-c)/2]:[0,0]}function Eh({pointList:b,edgeLength:a}){let c=[],d="M";b.forEach(function(b){d=d+b[0]*a+" "+b[1]*a+" L"});c.push(d.substring(0,d.length-2));return c}function Fh(b,a){var c,d,f,n,g,m,l,p,t,q,u,y,
H,J,v,A,C,F,z=new Cc({root:b.root,store:b.store,data:{pointList:a.pointList,layers:a.layers,config:a.config,color:a.color}}),B={layerName:a.layerName,gridSize:1};if(void 0!==a.viewWidth){B.clientWidth=a.viewWidth;var E=!0}if(void 0!==a.viewHeight){B.height=a.viewHeight;var K=!0}var P=new ua({root:b.root,store:b.store,data:B,_bind(a,c){var d={};!E&&a.clientWidth&&(d.viewWidth=c.clientWidth);!K&&a.height&&(d.viewHeight=c.height);b._set(d);K=E=void 0}});b.root._beforecreate.push(()=>{P._bind({clientWidth:1,
height:1},P.get())});B={id:"inceptionv1_"+a.layerName,layer:0,layout:0,classFilter:0,filter:0};if(void 0!==a.config){B.config=a.config;var I=!0}if(void 0!==a.layers){B.layers=a.layers;var N=!0}if(void 0!==a.labels){B.labels=a.labels;var M=!0}var G=new Nc({root:b.root,store:b.store,data:B,_bind(a,c){var d={};!I&&a.config&&(d.config=c.config);!N&&a.layers&&(d.layers=c.layers);!M&&a.labels&&(d.labels=c.labels);b._set(d);M=N=I=void 0}});b.root._beforecreate.push(()=>{G._bind({config:1,layers:1,labels:1},
G.get())});return{c(){c=k("div");d=k("div");z._fragment.c();f=h("\n  ");n=k("div");g=k("div");P._fragment.c();m=h("\n    ");l=r("svg");p=r("defs");t=r("marker");q=r("circle");y=r("marker");H=r("path");v=r("path");F=h("\n  ");G._fragment.c();g.className="thumbnail svelte-19vqpwh";e(q,"cx","5");e(q,"cy","5");e(q,"r","3");e(t,"id",u="head"+a.uniqueId);e(t,"fill",a.color);e(t,"viewBox","0 0 10 10");e(t,"refX","5");e(t,"refY","5");e(t,"markerWidth","5");e(t,"markerHeight","5");e(t,"orient","auto-start-reverse");
e(H,"d","M 0 0 L 10 5 L 0 10 z");e(y,"id",J="arrow"+a.uniqueId);e(y,"fill",a.color);e(y,"viewBox","0 0 10 10");e(y,"refX","5");e(y,"refY","5");e(y,"markerWidth","3");e(y,"markerHeight","3");e(y,"orient","auto-start-reverse");e(v,"d",a.path_d);e(v,"stroke",a.color);e(v,"stroke-width","3");e(v,"fill","transparent");e(v,"marker-end",A="url(#arrow"+a.uniqueId+")");e(v,"marker-start",C="url(#head"+a.uniqueId+")");e(l,"class","pathArrow svelte-19vqpwh");w(l,"width",a.edgeLength);w(l,"height",a.edgeLength);
w(l,"left",(a.viewWidth-a.edgeLength)/2);w(l,"top",(a.viewHeight-a.edgeLength)/2);n.className="atlas svelte-19vqpwh";w(n,"width",""+(a.height-2*a.atlasMargin)+"px");w(n,"height",""+(a.height-2*a.atlasMargin)+"px");w(n,"margin",""+a.atlasMargin+"px");c.className="showapath";w(c,"display","grid");w(c,"grid-template-columns","1fr "+a.height+"px")},m(a,e){a.insertBefore(c,e);c.appendChild(d);z._mount(d,null);c.appendChild(f);c.appendChild(n);n.appendChild(g);P._mount(g,null);n.appendChild(m);n.appendChild(l);
l.appendChild(p);p.appendChild(t);t.appendChild(q);p.appendChild(y);y.appendChild(H);l.appendChild(v);b.refs.clickPath=v;c.appendChild(F);G._mount(c,null)},p(b,d){a=d;d={};b.pointList&&(d.pointList=a.pointList);b.layers&&(d.layers=a.layers);b.config&&(d.config=a.config);b.color&&(d.color=a.color);z._set(d);d={};b.layerName&&(d.layerName=a.layerName);!E&&b.viewWidth&&(d.clientWidth=a.viewWidth,E=void 0!==a.viewWidth);!K&&b.viewHeight&&(d.height=a.viewHeight,K=void 0!==a.viewHeight);P._set(d);K=E=void 0;
b.uniqueId&&u!==(u="head"+a.uniqueId)&&e(t,"id",u);b.color&&e(t,"fill",a.color);b.uniqueId&&J!==(J="arrow"+a.uniqueId)&&e(y,"id",J);b.color&&e(y,"fill",a.color);b.path_d&&e(v,"d",a.path_d);b.color&&e(v,"stroke",a.color);b.uniqueId&&A!==(A="url(#arrow"+a.uniqueId+")")&&e(v,"marker-end",A);b.uniqueId&&C!==(C="url(#head"+a.uniqueId+")")&&e(v,"marker-start",C);b.edgeLength&&(w(l,"width",a.edgeLength),w(l,"height",a.edgeLength));(b.viewWidth||b.edgeLength)&&w(l,"left",(a.viewWidth-a.edgeLength)/2);(b.viewHeight||
b.edgeLength)&&w(l,"top",(a.viewHeight-a.edgeLength)/2);if(b.height||b.atlasMargin)w(n,"width",""+(a.height-2*a.atlasMargin)+"px"),w(n,"height",""+(a.height-2*a.atlasMargin)+"px");b.atlasMargin&&w(n,"margin",""+a.atlasMargin+"px");d={};b.layerName&&(d.id="inceptionv1_"+a.layerName);!I&&b.config&&(d.config=a.config,I=void 0!==a.config);!N&&b.layers&&(d.layers=a.layers,N=void 0!==a.layers);!M&&b.labels&&(d.labels=a.labels,M=void 0!==a.labels);G._set(d);M=N=I=void 0;b.height&&w(c,"grid-template-columns",
"1fr "+a.height+"px")},d(a){a&&D(c);z.destroy();P.destroy();b.refs.clickPath===v&&(b.refs.clickPath=null);G.destroy()}}}function ib(b){F(this,b);this.refs={};this._state=q({gridSize:1,height:160,color:"#ff6600",uniqueId:Math.random(),atlasMargin:20},b.data);this._recompute({pointList:1,viewWidth:1,viewHeight:1,edgeLength:1,topLeft:1},this._state);this._intro=!0;this._fragment=Fh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Gh(b,a){var c,d,e,n,g,
m,l={id:"inceptionv1_"+a.layerName,enableDragToPan:!0,enableClickToZoom:!1};if(void 0!==a.gridSize){l.gridSize=a.gridSize;var p=!0}if(void 0!==a.homeX){l.homeX=a.homeX;var t=!0}if(void 0!==a.homeY){l.homeY=a.homeY;var q=!0}if(void 0!==a.homeScale){l.homeScale=a.homeScale;var u=!0}if(void 0!==a.aspectRatio){l.aspectRatio=a.aspectRatio;var r=!0}if(void 0!==a.scale){l.scale=a.scale;var w=!0}if(void 0!==a.gcx){l.gcx=a.gcx;var J=!0}if(void 0!==a.gcy){l.gcy=a.gcy;var v=!0}if(void 0!==a.showLabels){l.showLabels=
a.showLabels;var A=!0}var C=new Da({root:b.root,store:b.store,data:l,_bind(a,c){var d={};!p&&a.gridSize&&(d.gridSize=c.gridSize);!t&&a.homeX&&(d.homeX=c.homeX);!q&&a.homeY&&(d.homeY=c.homeY);!u&&a.homeScale&&(d.homeScale=c.homeScale);!r&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!w&&a.scale&&(d.scale=c.scale);!J&&a.gcx&&(d.gcx=c.gcx);!v&&a.gcy&&(d.gcy=c.gcy);!A&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);A=v=J=w=r=u=q=t=p=void 0}});b.root._beforecreate.push(()=>{C._bind({gridSize:1,homeX:1,
homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1,showLabels:1},C.get())});var F=new ua({root:b.root,store:b.store,data:{layerName:a.layerName}});l={};if(void 0!==a.aspectRatio){l.aspectRatio=a.aspectRatio;var z=!0}if(void 0!==a.scale){l.scale=a.scale;var B=!0}if(void 0!==a.gcx){l.gcx=a.gcx;var E=!0}if(void 0!==a.gcy){l.gcy=a.gcy;var K=!0}var P=new ra({root:b.root,store:b.store,data:l,_bind(a,c){var d={};!z&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!B&&a.scale&&(d.scale=c.scale);!E&&a.gcx&&
(d.gcx=c.gcx);!K&&a.gcy&&(d.gcy=c.gcy);b._set(d);K=E=B=z=void 0}});b.root._beforecreate.push(()=>{P._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},P.get())});var I=a.gcx&&a.gcy&&ff(b,a);return{c(){c=k("div");d=k("div");C._fragment.c();e=h("\n  ");n=k("div");F._fragment.c();g=h("\n    ");P._fragment.c();m=h("\n    ");I&&I.c();d.className="detail svelte-1dvwfeg";n.className="atlas svelte-1dvwfeg"},m(a,b){a.insertBefore(c,b);c.appendChild(d);C._mount(d,null);c.appendChild(e);c.appendChild(n);F._mount(n,null);
n.appendChild(g);P._mount(n,null);n.appendChild(m);I&&I.m(n,null)},p(c,d){a=d;d={};c.layerName&&(d.id="inceptionv1_"+a.layerName);!p&&c.gridSize&&(d.gridSize=a.gridSize,p=void 0!==a.gridSize);!t&&c.homeX&&(d.homeX=a.homeX,t=void 0!==a.homeX);!q&&c.homeY&&(d.homeY=a.homeY,q=void 0!==a.homeY);!u&&c.homeScale&&(d.homeScale=a.homeScale,u=void 0!==a.homeScale);!r&&c.aspectRatio&&(d.aspectRatio=a.aspectRatio,r=void 0!==a.aspectRatio);!w&&c.scale&&(d.scale=a.scale,w=void 0!==a.scale);!J&&c.gcx&&(d.gcx=a.gcx,
J=void 0!==a.gcx);!v&&c.gcy&&(d.gcy=a.gcy,v=void 0!==a.gcy);!A&&c.showLabels&&(d.showLabels=a.showLabels,A=void 0!==a.showLabels);C._set(d);A=v=J=w=r=u=q=t=p=void 0;d={};c.layerName&&(d.layerName=a.layerName);F._set(d);d={};!z&&c.aspectRatio&&(d.aspectRatio=a.aspectRatio,z=void 0!==a.aspectRatio);!B&&c.scale&&(d.scale=a.scale,B=void 0!==a.scale);!E&&c.gcx&&(d.gcx=a.gcx,E=void 0!==a.gcx);!K&&c.gcy&&(d.gcy=a.gcy,K=void 0!==a.gcy);P._set(d);K=E=B=z=void 0;a.gcx&&a.gcy?I?I.p(c,a):(I=ff(b,a),I.c(),I.m(n,
null)):I&&(I.d(1),I=null)},d(a){a&&D(c);C.destroy();F.destroy();P.destroy();I&&I.d()}}}function ff(b,a){var c,d,e=a.gcx.toPrecision(4),n,g,m,l=a.gcy.toPrecision(4),p;return{c(){c=k("label");d=h("gcx: ");n=k("noscript");g=k("noscript");m=h(", gcy: ");p=k("noscript");c.className="svelte-1dvwfeg"},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(n);n.insertAdjacentHTML("afterend",e);c.appendChild(g);c.appendChild(m);c.appendChild(p);p.insertAdjacentHTML("afterend",l)},p(a,b){if(a.gcx&&e!==(e=
b.gcx.toPrecision(4))){for(var c=n,d=g;c.nextSibling&&c.nextSibling!==d;)c.parentNode.removeChild(c.nextSibling);n.insertAdjacentHTML("afterend",e)}a.gcy&&l!==(l=b.gcy.toPrecision(4))&&(Tb(p),p.insertAdjacentHTML("afterend",l))},d(a){a&&D(c)}}}function Va(b){F(this,b);this._state=q({layerName:"mixed4c",gridSize:3,homeScale:48,showLabels:!0},b.data);this._intro=!0;this._fragment=Gh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Hh(b,a){var c,d,e,n,
g,m,l,p,t={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2"};if(void 0!==a.gridSize){t.gridSize=a.gridSize;var q=!0}if(void 0!==a.showLabels){t.showLabels=a.showLabels;var u=!0}if(void 0!==a.classHeatmap){t.classHeatmap=a.classHeatmap;var r=!0}var w=new Da({root:b.root,store:b.store,data:t,_bind(a,c){var d={};!q&&a.gridSize&&(d.gridSize=c.gridSize);!u&&a.showLabels&&(d.showLabels=c.showLabels);!r&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);
r=u=q=void 0}});b.root._beforecreate.push(()=>{w._bind({gridSize:1,showLabels:1,classHeatmap:1},w.get())});t={background:!1,round:!0,enableDragging:!1};if(void 0!==a.aspectRatio){t.aspectRatio=a.aspectRatio;var J=!0}if(void 0!==a.scale){t.scale=a.scale;var v=!0}if(void 0!==a.gcx){t.gcx=a.gcx;var A=!0}if(void 0!==a.gcy){t.gcy=a.gcy;var C=!0}var F=new ra({root:b.root,store:b.store,data:t,_bind(a,c){var d={};!J&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!v&&a.scale&&(d.scale=c.scale);!A&&a.gcx&&(d.gcx=
c.gcx);!C&&a.gcy&&(d.gcy=c.gcy);b._set(d);C=A=v=J=void 0}});b.root._beforecreate.push(()=>{F._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},F.get())});t={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){t.gridSize=a.gridSize;var z=!0}if(void 0!==a.showLabels){t.showLabels=a.showLabels;var B=!0}if(void 0!==a.classHeatmap){t.classHeatmap=a.classHeatmap;var E=!0}if(void 0!==a.homeX){t.homeX=
a.homeX;var K=!0}if(void 0!==a.homeY){t.homeY=a.homeY;var P=!0}if(void 0!==a.homeScale){t.homeScale=a.homeScale;var I=!0}if(void 0!==a.aspectRatio){t.aspectRatio=a.aspectRatio;var N=!0}if(void 0!==a.scale){t.scale=a.scale;var M=!0}if(void 0!==a.gcx){t.gcx=a.gcx;var G=!0}if(void 0!==a.gcy){t.gcy=a.gcy;var Q=!0}var L=new Da({root:b.root,store:b.store,data:t,_bind(a,c){var d={};!z&&a.gridSize&&(d.gridSize=c.gridSize);!B&&a.showLabels&&(d.showLabels=c.showLabels);!E&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);
!K&&a.homeX&&(d.homeX=c.homeX);!P&&a.homeY&&(d.homeY=c.homeY);!I&&a.homeScale&&(d.homeScale=c.homeScale);!N&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!M&&a.scale&&(d.scale=c.scale);!G&&a.gcx&&(d.gcx=c.gcx);!Q&&a.gcy&&(d.gcy=c.gcy);b._set(d);Q=G=M=N=I=P=K=E=B=z=void 0}});b.root._beforecreate.push(()=>{L._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},L.get())});return{c(){c=k("div");d=k("div");w._fragment.c();e=h("\n  ");F._fragment.c();
n=h("\n  ");g=k("div");m=k("div");L._fragment.c();l=h("\n    ");p=k("div");p.textContent='When we map opacity to the amount that each activation contributes to "fireboat", we see a main cluster of icons showing red boats and splashing, spraying water. While there are some stray areas elsewhere, it seems that this is region of the atlas that is dedicated specifically to classifying red boats with splashing water nearby.';d.className="atlas svelte-1loof33";m.className="detail svelte-1loof33";p.className=
"figcaption svelte-1loof33";g.className="details";c.className="focus svelte-1loof33"},m(a,b){a.insertBefore(c,b);c.appendChild(d);w._mount(d,null);d.appendChild(e);F._mount(d,null);c.appendChild(n);c.appendChild(g);g.appendChild(m);L._mount(m,null);g.appendChild(l);g.appendChild(p)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!q&&b.gridSize&&(c.gridSize=a.gridSize,q=void 0!==a.gridSize);!u&&b.showLabels&&(c.showLabels=a.showLabels,u=void 0!==a.showLabels);!r&&b.classHeatmap&&(c.classHeatmap=
a.classHeatmap,r=void 0!==a.classHeatmap);w._set(c);r=u=q=void 0;c={};!J&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,J=void 0!==a.aspectRatio);!v&&b.scale&&(c.scale=a.scale,v=void 0!==a.scale);!A&&b.gcx&&(c.gcx=a.gcx,A=void 0!==a.gcx);!C&&b.gcy&&(c.gcy=a.gcy,C=void 0!==a.gcy);F._set(c);C=A=v=J=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!z&&b.gridSize&&(c.gridSize=a.gridSize,z=void 0!==a.gridSize);!B&&b.showLabels&&(c.showLabels=a.showLabels,B=void 0!==a.showLabels);!E&&b.classHeatmap&&
(c.classHeatmap=a.classHeatmap,E=void 0!==a.classHeatmap);!K&&b.homeX&&(c.homeX=a.homeX,K=void 0!==a.homeX);!P&&b.homeY&&(c.homeY=a.homeY,P=void 0!==a.homeY);!I&&b.homeScale&&(c.homeScale=a.homeScale,I=void 0!==a.homeScale);!N&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,N=void 0!==a.aspectRatio);!M&&b.scale&&(c.scale=a.scale,M=void 0!==a.scale);!G&&b.gcx&&(c.gcx=a.gcx,G=void 0!==a.gcx);!Q&&b.gcy&&(c.gcy=a.gcy,Q=void 0!==a.gcy);L._set(c);Q=G=M=N=I=P=K=E=B=z=void 0},d(a){a&&D(c);w.destroy();F.destroy();
L.destroy()}}}function gf(b){F(this,b);this._state=q({layerName:"mixed5b",gridSize:1,classHeatmap:235,homeX:.844,homeY:.51,homeScale:6},b.data);this._intro=!0;this._fragment=Hh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Ih(b,a){var c,d,e=b._slotted.default,n,g,m;return{c(){c=k("div");d=k("div");n=h("\n  ");g=k("div");m=h(a.label);d.className="loupe svelte-1hgfn8v";w(d,"border-color",a.color);g.className="label svelte-1hgfn8v";w(g,"background-color",
a.color);c.className="root svelte-1hgfn8v";w(c,"width",""+a.width+"px");w(c,"height",""+a.height+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);e&&d.appendChild(e);c.appendChild(n);c.appendChild(g);g.appendChild(m)},p(a,b){a.color&&w(d,"border-color",b.color);a.label&&da(m,b.label);a.color&&w(g,"background-color",b.color);a.width&&w(c,"width",""+b.width+"px");a.height&&w(c,"height",""+b.height+"px")},d(a){a&&D(c);e&&pb(d,e)}}}function bb(b){F(this,b);this._state=q({label:"",width:0,height:0,color:"#ff6600"},
b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Ih(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Jh(b,a){var c,d,e,n,g,m,l,p,t,q,u,r,w,J,v={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2"};if(void 0!==a.gridSize){v.gridSize=a.gridSize;var A=!0}if(void 0!==a.showLabels){v.showLabels=a.showLabels;var C=!0}if(void 0!==a.classHeatmap){v.classHeatmap=a.classHeatmap;var F=!0}var z=new Da({root:b.root,
store:b.store,data:v,_bind(a,c){var d={};!A&&a.gridSize&&(d.gridSize=c.gridSize);!C&&a.showLabels&&(d.showLabels=c.showLabels);!F&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);F=C=A=void 0}});b.root._beforecreate.push(()=>{z._bind({gridSize:1,showLabels:1,classHeatmap:1},z.get())});v={background:!1,enableDragging:!1,round:!0,annotationValue:1};if(void 0!==a.aspectRatio0){v.aspectRatio=a.aspectRatio0;var B=!0}if(void 0!==a.scale0){v.scale=a.scale0;var E=!0}if(void 0!==a.gcx0){v.gcx=a.gcx0;
var K=!0}if(void 0!==a.gcy0){v.gcy=a.gcy0;var P=!0}var I=new ra({root:b.root,store:b.store,data:v,_bind(a,c){var d={};!B&&a.aspectRatio&&(d.aspectRatio0=c.aspectRatio);!E&&a.scale&&(d.scale0=c.scale);!K&&a.gcx&&(d.gcx0=c.gcx);!P&&a.gcy&&(d.gcy0=c.gcy);b._set(d);P=K=E=B=void 0}});b.root._beforecreate.push(()=>{I._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},I.get())});v={background:!1,enableDragging:!1,round:!0,annotationValue:2};if(void 0!==a.aspectRatio1){v.aspectRatio=a.aspectRatio1;var N=!0}if(void 0!==
a.scale1){v.scale=a.scale1;var M=!0}if(void 0!==a.gcx1){v.gcx=a.gcx1;var G=!0}if(void 0!==a.gcy1){v.gcy=a.gcy1;var Q=!0}var L=new ra({root:b.root,store:b.store,data:v,_bind(a,c){var d={};!N&&a.aspectRatio&&(d.aspectRatio1=c.aspectRatio);!M&&a.scale&&(d.scale1=c.scale);!G&&a.gcx&&(d.gcx1=c.gcx);!Q&&a.gcy&&(d.gcy1=c.gcy);b._set(d);Q=G=M=N=void 0}});b.root._beforecreate.push(()=>{L._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},L.get())});v={background:!1,enableDragging:!1,round:!0,annotationValue:3};if(void 0!==
a.aspectRatio2){v.aspectRatio=a.aspectRatio2;var U=!0}if(void 0!==a.scale2){v.scale=a.scale2;var R=!0}if(void 0!==a.gcx2){v.gcx=a.gcx2;var X=!0}if(void 0!==a.gcy2){v.gcy=a.gcy2;var O=!0}var V=new ra({root:b.root,store:b.store,data:v,_bind(a,c){var d={};!U&&a.aspectRatio&&(d.aspectRatio2=c.aspectRatio);!R&&a.scale&&(d.scale2=c.scale);!X&&a.gcx&&(d.gcx2=c.gcx);!O&&a.gcy&&(d.gcy2=c.gcy);b._set(d);O=X=R=U=void 0}});b.root._beforecreate.push(()=>{V._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},V.get())});
v={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){v.gridSize=a.gridSize;var T=!0}if(void 0!==a.showLabels){v.showLabels=a.showLabels;var S=!0}if(void 0!==a.classHeatmap){v.classHeatmap=a.classHeatmap;var Y=!0}if(void 0!==a.highlights[0].homeX){v.homeX=a.highlights[0].homeX;var Ua=!0}if(void 0!==a.highlights[0].homeY){v.homeY=a.highlights[0].homeY;var Z=!0}if(void 0!==a.highlights[0].homeScale){v.homeScale=
a.highlights[0].homeScale;var Za=!0}if(void 0!==a.aspectRatio0){v.aspectRatio=a.aspectRatio0;var ya=!0}if(void 0!==a.scale0){v.scale=a.scale0;var aa=!0}if(void 0!==a.gcx0){v.gcx=a.gcx0;var ea=!0}if(void 0!==a.gcy0){v.gcy=a.gcy0;var ia=!0}var ka=new Da({root:b.root,store:b.store,data:v,_bind(c,d){var e={};!T&&c.gridSize&&(e.gridSize=d.gridSize);!S&&c.showLabels&&(e.showLabels=d.showLabels);!Y&&c.classHeatmap&&(e.classHeatmap=d.classHeatmap);!Ua&&c.homeX&&(a.highlights[0].homeX=d.homeX,e.highlights=
a.highlights);!Z&&c.homeY&&(a.highlights[0].homeY=d.homeY,e.highlights=a.highlights);!Za&&c.homeScale&&(a.highlights[0].homeScale=d.homeScale,e.highlights=a.highlights);!ya&&c.aspectRatio&&(e.aspectRatio0=d.aspectRatio);!aa&&c.scale&&(e.scale0=d.scale);!ea&&c.gcx&&(e.gcx0=d.gcx);!ia&&c.gcy&&(e.gcy0=d.gcy);b._set(e);ia=ea=aa=ya=Za=Z=Ua=Y=S=T=void 0}});b.root._beforecreate.push(()=>{ka._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},ka.get())});
v={width:a.loupeSize,height:a.loupeSize,label:1};var Kb=new bb({root:b.root,store:b.store,slots:{default:ca()},data:v});v={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){v.gridSize=a.gridSize;var ha=!0}if(void 0!==a.showLabels){v.showLabels=a.showLabels;var sa=!0}if(void 0!==a.classHeatmap){v.classHeatmap=a.classHeatmap;var ma=!0}if(void 0!==a.highlights[1].homeX){v.homeX=
a.highlights[1].homeX;var na=!0}if(void 0!==a.highlights[1].homeY){v.homeY=a.highlights[1].homeY;var ta=!0}if(void 0!==a.highlights[1].homeScale){v.homeScale=a.highlights[1].homeScale;var Ga=!0}if(void 0!==a.aspectRatio1){v.aspectRatio=a.aspectRatio1;var oa=!0}if(void 0!==a.scale1){v.scale=a.scale1;var fa=!0}if(void 0!==a.gcx1){v.gcx=a.gcx1;var za=!0}if(void 0!==a.gcy1){v.gcy=a.gcy1;var Aa=!0}var W=new Da({root:b.root,store:b.store,data:v,_bind(c,d){var e={};!ha&&c.gridSize&&(e.gridSize=d.gridSize);
!sa&&c.showLabels&&(e.showLabels=d.showLabels);!ma&&c.classHeatmap&&(e.classHeatmap=d.classHeatmap);!na&&c.homeX&&(a.highlights[1].homeX=d.homeX,e.highlights=a.highlights);!ta&&c.homeY&&(a.highlights[1].homeY=d.homeY,e.highlights=a.highlights);!Ga&&c.homeScale&&(a.highlights[1].homeScale=d.homeScale,e.highlights=a.highlights);!oa&&c.aspectRatio&&(e.aspectRatio1=d.aspectRatio);!fa&&c.scale&&(e.scale1=d.scale);!za&&c.gcx&&(e.gcx1=d.gcx);!Aa&&c.gcy&&(e.gcy1=d.gcy);b._set(e);Aa=za=fa=oa=Ga=ta=na=ma=sa=
ha=void 0}});b.root._beforecreate.push(()=>{W._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},W.get())});v={width:a.loupeSize,height:a.loupeSize,label:2};var la=new bb({root:b.root,store:b.store,slots:{default:ca()},data:v});v={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){v.gridSize=a.gridSize;var La=!0}if(void 0!==
a.showLabels){v.showLabels=a.showLabels;var pa=!0}if(void 0!==a.classHeatmap){v.classHeatmap=a.classHeatmap;var Ba=!0}if(void 0!==a.highlights[2].homeX){v.homeX=a.highlights[2].homeX;var Ha=!0}if(void 0!==a.highlights[2].homeY){v.homeY=a.highlights[2].homeY;var Ea=!0}if(void 0!==a.highlights[2].homeScale){v.homeScale=a.highlights[2].homeScale;var xa=!0}if(void 0!==a.aspectRatio2){v.aspectRatio=a.aspectRatio2;var $a=!0}if(void 0!==a.scale2){v.scale=a.scale2;var lb=!0}if(void 0!==a.gcx2){v.gcx=a.gcx2;
var qa=!0}if(void 0!==a.gcy2){v.gcy=a.gcy2;var va=!0}var ua=new Da({root:b.root,store:b.store,data:v,_bind(c,d){var e={};!La&&c.gridSize&&(e.gridSize=d.gridSize);!pa&&c.showLabels&&(e.showLabels=d.showLabels);!Ba&&c.classHeatmap&&(e.classHeatmap=d.classHeatmap);!Ha&&c.homeX&&(a.highlights[2].homeX=d.homeX,e.highlights=a.highlights);!Ea&&c.homeY&&(a.highlights[2].homeY=d.homeY,e.highlights=a.highlights);!xa&&c.homeScale&&(a.highlights[2].homeScale=d.homeScale,e.highlights=a.highlights);!$a&&c.aspectRatio&&
(e.aspectRatio2=d.aspectRatio);!lb&&c.scale&&(e.scale2=d.scale);!qa&&c.gcx&&(e.gcx2=d.gcx);!va&&c.gcy&&(e.gcy2=d.gcy);b._set(e);va=qa=lb=$a=xa=Ea=Ha=Ba=pa=La=void 0}});b.root._beforecreate.push(()=>{ua._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},ua.get())});v={width:a.loupeSize,height:a.loupeSize,label:3};var Fa=new bb({root:b.root,store:b.store,slots:{default:ca()},data:v});return{c(){c=k("div");d=k("div");z._fragment.c();e=h("\n    ");
I._fragment.c();n=h("\n    ");L._fragment.c();g=h("\n    ");V._fragment.c();m=h("\n  ");l=k("div");ka._fragment.c();Kb._fragment.c();p=h("\n    ");W._fragment.c();la._fragment.c();t=h("\n    ");ua._fragment.c();Fa._fragment.c();q=h("\n    ");u=k("div");r=h("In ");w=h(a.layerName);J=h(' we see we see the attribution toward "fireboat" is high in several clusters located in different positions around the atlas. One is very focused on windows, another on geysers and splashing water, and yet another on crane-like objects.');
d.className="atlas svelte-1luklhy";u.className="figcaption svelte-1luklhy";l.className="details svelte-1luklhy";c.className="focus svelte-1luklhy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);z._mount(d,null);d.appendChild(e);I._mount(d,null);d.appendChild(n);L._mount(d,null);d.appendChild(g);V._mount(d,null);c.appendChild(m);c.appendChild(l);ka._mount(Kb._slotted.default,null);Kb._mount(l,null);l.appendChild(p);W._mount(la._slotted.default,null);la._mount(l,null);l.appendChild(t);ua._mount(Fa._slotted.default,
null);Fa._mount(l,null);l.appendChild(q);l.appendChild(u);u.appendChild(r);u.appendChild(w);u.appendChild(J)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!A&&b.gridSize&&(c.gridSize=a.gridSize,A=void 0!==a.gridSize);!C&&b.showLabels&&(c.showLabels=a.showLabels,C=void 0!==a.showLabels);!F&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,F=void 0!==a.classHeatmap);z._set(c);F=C=A=void 0;c={};!B&&b.aspectRatio0&&(c.aspectRatio=a.aspectRatio0,B=void 0!==a.aspectRatio0);!E&&b.scale0&&
(c.scale=a.scale0,E=void 0!==a.scale0);!K&&b.gcx0&&(c.gcx=a.gcx0,K=void 0!==a.gcx0);!P&&b.gcy0&&(c.gcy=a.gcy0,P=void 0!==a.gcy0);I._set(c);P=K=E=B=void 0;c={};!N&&b.aspectRatio1&&(c.aspectRatio=a.aspectRatio1,N=void 0!==a.aspectRatio1);!M&&b.scale1&&(c.scale=a.scale1,M=void 0!==a.scale1);!G&&b.gcx1&&(c.gcx=a.gcx1,G=void 0!==a.gcx1);!Q&&b.gcy1&&(c.gcy=a.gcy1,Q=void 0!==a.gcy1);L._set(c);Q=G=M=N=void 0;c={};!U&&b.aspectRatio2&&(c.aspectRatio=a.aspectRatio2,U=void 0!==a.aspectRatio2);!R&&b.scale2&&(c.scale=
a.scale2,R=void 0!==a.scale2);!X&&b.gcx2&&(c.gcx=a.gcx2,X=void 0!==a.gcx2);!O&&b.gcy2&&(c.gcy=a.gcy2,O=void 0!==a.gcy2);V._set(c);O=X=R=U=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!T&&b.gridSize&&(c.gridSize=a.gridSize,T=void 0!==a.gridSize);!S&&b.showLabels&&(c.showLabels=a.showLabels,S=void 0!==a.showLabels);!Y&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,Y=void 0!==a.classHeatmap);!Ua&&b.highlights&&(c.homeX=a.highlights[0].homeX,Ua=void 0!==a.highlights[0].homeX);!Z&&b.highlights&&
(c.homeY=a.highlights[0].homeY,Z=void 0!==a.highlights[0].homeY);!Za&&b.highlights&&(c.homeScale=a.highlights[0].homeScale,Za=void 0!==a.highlights[0].homeScale);!ya&&b.aspectRatio0&&(c.aspectRatio=a.aspectRatio0,ya=void 0!==a.aspectRatio0);!aa&&b.scale0&&(c.scale=a.scale0,aa=void 0!==a.scale0);!ea&&b.gcx0&&(c.gcx=a.gcx0,ea=void 0!==a.gcx0);!ia&&b.gcy0&&(c.gcy=a.gcy0,ia=void 0!==a.gcy0);ka._set(c);ia=ea=aa=ya=Za=Z=Ua=Y=S=T=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);
Kb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!ha&&b.gridSize&&(c.gridSize=a.gridSize,ha=void 0!==a.gridSize);!sa&&b.showLabels&&(c.showLabels=a.showLabels,sa=void 0!==a.showLabels);!ma&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,ma=void 0!==a.classHeatmap);!na&&b.highlights&&(c.homeX=a.highlights[1].homeX,na=void 0!==a.highlights[1].homeX);!ta&&b.highlights&&(c.homeY=a.highlights[1].homeY,ta=void 0!==a.highlights[1].homeY);!Ga&&b.highlights&&(c.homeScale=a.highlights[1].homeScale,
Ga=void 0!==a.highlights[1].homeScale);!oa&&b.aspectRatio1&&(c.aspectRatio=a.aspectRatio1,oa=void 0!==a.aspectRatio1);!fa&&b.scale1&&(c.scale=a.scale1,fa=void 0!==a.scale1);!za&&b.gcx1&&(c.gcx=a.gcx1,za=void 0!==a.gcx1);!Aa&&b.gcy1&&(c.gcy=a.gcy1,Aa=void 0!==a.gcy1);W._set(c);Aa=za=fa=oa=Ga=ta=na=ma=sa=ha=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);la._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!La&&b.gridSize&&(c.gridSize=a.gridSize,La=void 0!==
a.gridSize);!pa&&b.showLabels&&(c.showLabels=a.showLabels,pa=void 0!==a.showLabels);!Ba&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,Ba=void 0!==a.classHeatmap);!Ha&&b.highlights&&(c.homeX=a.highlights[2].homeX,Ha=void 0!==a.highlights[2].homeX);!Ea&&b.highlights&&(c.homeY=a.highlights[2].homeY,Ea=void 0!==a.highlights[2].homeY);!xa&&b.highlights&&(c.homeScale=a.highlights[2].homeScale,xa=void 0!==a.highlights[2].homeScale);!$a&&b.aspectRatio2&&(c.aspectRatio=a.aspectRatio2,$a=void 0!==a.aspectRatio2);
!lb&&b.scale2&&(c.scale=a.scale2,lb=void 0!==a.scale2);!qa&&b.gcx2&&(c.gcx=a.gcx2,qa=void 0!==a.gcx2);!va&&b.gcy2&&(c.gcy=a.gcy2,va=void 0!==a.gcy2);ua._set(c);va=qa=lb=$a=xa=Ea=Ha=Ba=pa=La=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Fa._set(c);b.layerName&&da(w,a.layerName)},d(a){a&&D(c);z.destroy();I.destroy();L.destroy();V.destroy();ka.destroy();Kb.destroy();W.destroy();la.destroy();ua.destroy();Fa.destroy()}}}function hf(b){F(this,b);this._state=q({loupeSize:245,
layerName:"mixed4d",gridSize:1,classHeatmap:235,highlights:[{homeX:.221,homeY:.138,homeScale:10},{homeX:.709,homeY:.421,homeScale:10},{homeX:.873,homeY:.415,homeScale:10},{homeX:.789,homeY:.861,homeScale:10}]},b.data);this._intro=!0;this._fragment=Jh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Kh(b,a){var c,d,e,n,g,m,l,p,t,q,u,r,w,A,v,C,F,O,z={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",classHeatmap:235};
if(void 0!==a.gridSize){z.gridSize=a.gridSize;var B=!0}var E=new Da({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!B&&a.gridSize&&(d.gridSize=c.gridSize);b._set(d);B=void 0}});b.root._beforecreate.push(()=>{E._bind({gridSize:1},E.get())});z={background:!1,round:!0,annotationValue:1,enableDragging:!1};if(void 0!==a.$focus3aspectRatio0){z.aspectRatio=a.$focus3aspectRatio0;var K=!0}if(void 0!==a.$focus3scale0){z.scale=a.$focus3scale0;var P=!0}if(void 0!==a.$focus3gcx0){z.gcx=a.$focus3gcx0;var I=
!0}if(void 0!==a.$focus3gcy0){z.gcy=a.$focus3gcy0;var N=!0}var M=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!K&&a.aspectRatio&&(d.focus3aspectRatio0=c.aspectRatio);!P&&a.scale&&(d.focus3scale0=c.scale);!I&&a.gcx&&(d.focus3gcx0=c.gcx);!N&&a.gcy&&(d.focus3gcy0=c.gcy);b.store.set(d);N=I=P=K=void 0}});b.root._beforecreate.push(()=>{M._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},M.get())});z={background:!1,round:!0,annotationValue:2,enableDragging:!1};if(void 0!==a.$focus3aspectRatio1){z.aspectRatio=
a.$focus3aspectRatio1;var G=!0}if(void 0!==a.$focus3scale1){z.scale=a.$focus3scale1;var Q=!0}if(void 0!==a.$focus3gcx1){z.gcx=a.$focus3gcx1;var L=!0}if(void 0!==a.$focus3gcy1){z.gcy=a.$focus3gcy1;var U=!0}var R=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!G&&a.aspectRatio&&(d.focus3aspectRatio1=c.aspectRatio);!Q&&a.scale&&(d.focus3scale1=c.scale);!L&&a.gcx&&(d.focus3gcx1=c.gcx);!U&&a.gcy&&(d.focus3gcy1=c.gcy);b.store.set(d);U=L=Q=G=void 0}});b.root._beforecreate.push(()=>{R._bind({aspectRatio:1,
scale:1,gcx:1,gcy:1},R.get())});z={background:!1,round:!0,annotationValue:3,enableDragging:!1};if(void 0!==a.$focus3aspectRatio2){z.aspectRatio=a.$focus3aspectRatio2;var X=!0}if(void 0!==a.$focus3scale2){z.scale=a.$focus3scale2;var T=!0}if(void 0!==a.$focus3gcx2){z.gcx=a.$focus3gcx2;var V=!0}if(void 0!==a.$focus3gcy2){z.gcy=a.$focus3gcy2;var Y=!0}var S=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!X&&a.aspectRatio&&(d.focus3aspectRatio2=c.aspectRatio);!T&&a.scale&&(d.focus3scale2=
c.scale);!V&&a.gcx&&(d.focus3gcx2=c.gcx);!Y&&a.gcy&&(d.focus3gcy2=c.gcy);b.store.set(d);Y=V=T=X=void 0}});b.root._beforecreate.push(()=>{S._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},S.get())});z={background:!1,round:!0,annotationValue:4,enableDragging:!1};if(void 0!==a.$focus3aspectRatio3){z.aspectRatio=a.$focus3aspectRatio3;var Z=!0}if(void 0!==a.$focus3scale3){z.scale=a.$focus3scale3;var ca=!0}if(void 0!==a.$focus3gcx3){z.gcx=a.$focus3gcx3;var da=!0}if(void 0!==a.$focus3gcy3){z.gcy=a.$focus3gcy3;
var aa=!0}var ya=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!Z&&a.aspectRatio&&(d.focus3aspectRatio3=c.aspectRatio);!ca&&a.scale&&(d.focus3scale3=c.scale);!da&&a.gcx&&(d.focus3gcx3=c.gcx);!aa&&a.gcy&&(d.focus3gcy3=c.gcy);b.store.set(d);aa=da=ca=Z=void 0}});b.root._beforecreate.push(()=>{ya._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},ya.get())});z={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",classHeatmap:287};if(void 0!==a.gridSize){z.gridSize=
a.gridSize;var ea=!0}var ha=new Da({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!ea&&a.gridSize&&(d.gridSize=c.gridSize);b._set(d);ea=void 0}});b.root._beforecreate.push(()=>{ha._bind({gridSize:1},ha.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:1,enableDragging:!1};if(void 0!==a.$focus3aspectRatio0){z.aspectRatio=a.$focus3aspectRatio0;var ia=!0}if(void 0!==a.$focus3scale0){z.scale=a.$focus3scale0;var ka=!0}if(void 0!==a.$focus3gcx0){z.gcx=a.$focus3gcx0;var ma=!0}if(void 0!==
a.$focus3gcy0){z.gcy=a.$focus3gcy0;var ua=!0}var sa=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!ia&&a.aspectRatio&&(d.focus3aspectRatio0=c.aspectRatio);!ka&&a.scale&&(d.focus3scale0=c.scale);!ma&&a.gcx&&(d.focus3gcx0=c.gcx);!ua&&a.gcy&&(d.focus3gcy0=c.gcy);b.store.set(d);ua=ma=ka=ia=void 0}});b.root._beforecreate.push(()=>{sa._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},sa.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:2,enableDragging:!1};if(void 0!==a.$focus3aspectRatio1){z.aspectRatio=
a.$focus3aspectRatio1;var qa=!0}if(void 0!==a.$focus3scale1){z.scale=a.$focus3scale1;var na=!0}if(void 0!==a.$focus3gcx1){z.gcx=a.$focus3gcx1;var ta=!0}if(void 0!==a.$focus3gcy1){z.gcy=a.$focus3gcy1;var Ga=!0}var oa=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!qa&&a.aspectRatio&&(d.focus3aspectRatio1=c.aspectRatio);!na&&a.scale&&(d.focus3scale1=c.scale);!ta&&a.gcx&&(d.focus3gcx1=c.gcx);!Ga&&a.gcy&&(d.focus3gcy1=c.gcy);b.store.set(d);Ga=ta=na=qa=void 0}});b.root._beforecreate.push(()=>
{oa._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},oa.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:3,enableDragging:!1};if(void 0!==a.$focus3aspectRatio2){z.aspectRatio=a.$focus3aspectRatio2;var fa=!0}if(void 0!==a.$focus3scale2){z.scale=a.$focus3scale2;var za=!0}if(void 0!==a.$focus3gcx2){z.gcx=a.$focus3gcx2;var Aa=!0}if(void 0!==a.$focus3gcy2){z.gcy=a.$focus3gcy2;var W=!0}var la=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!fa&&a.aspectRatio&&(d.focus3aspectRatio2=
c.aspectRatio);!za&&a.scale&&(d.focus3scale2=c.scale);!Aa&&a.gcx&&(d.focus3gcx2=c.gcx);!W&&a.gcy&&(d.focus3gcy2=c.gcy);b.store.set(d);W=Aa=za=fa=void 0}});b.root._beforecreate.push(()=>{la._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},la.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:4,enableDragging:!1};if(void 0!==a.$focus3aspectRatio3){z.aspectRatio=a.$focus3aspectRatio3;var La=!0}if(void 0!==a.$focus3scale3){z.scale=a.$focus3scale3;var pa=!0}if(void 0!==a.$focus3gcx3){z.gcx=a.$focus3gcx3;
var Ba=!0}if(void 0!==a.$focus3gcy3){z.gcy=a.$focus3gcy3;var Ha=!0}var Ea=new ra({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!La&&a.aspectRatio&&(d.focus3aspectRatio3=c.aspectRatio);!pa&&a.scale&&(d.focus3scale3=c.scale);!Ba&&a.gcx&&(d.focus3gcx3=c.gcx);!Ha&&a.gcy&&(d.focus3gcy3=c.gcy);b.store.set(d);Ha=Ba=pa=La=void 0}});b.root._beforecreate.push(()=>{Ea._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},Ea.get())});return{c(){c=k("div");d=k("div");e=k("h4");e.textContent="Activations for Fireboat";
n=h("\n    ");g=k("div");E._fragment.c();m=h("\n      ");M._fragment.c();l=h("\n      ");R._fragment.c();p=h("\n      ");S._fragment.c();t=h("\n      ");ya._fragment.c();q=h("\n  ");u=k("div");r=k("h4");r.textContent="Activations for Streetcar";w=h("\n    ");A=k("div");ha._fragment.c();v=h("\n      ");sa._fragment.c();C=h("\n      ");oa._fragment.c();F=h("\n      ");la._fragment.c();O=h("\n      ");Ea._fragment.c();e.className="svelte-7wmkxl";g.className="atlas svelte-7wmkxl";d.className="column svelte-7wmkxl";
r.className="svelte-7wmkxl";A.className="atlas svelte-7wmkxl";u.className="column svelte-7wmkxl";c.className="focus svelte-7wmkxl"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);d.appendChild(n);d.appendChild(g);E._mount(g,null);g.appendChild(m);M._mount(g,null);g.appendChild(l);R._mount(g,null);g.appendChild(p);S._mount(g,null);g.appendChild(t);ya._mount(g,null);c.appendChild(q);c.appendChild(u);u.appendChild(r);u.appendChild(w);u.appendChild(A);ha._mount(A,null);A.appendChild(v);
sa._mount(A,null);A.appendChild(C);oa._mount(A,null);A.appendChild(F);la._mount(A,null);A.appendChild(O);Ea._mount(A,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!B&&b.gridSize&&(c.gridSize=a.gridSize,B=void 0!==a.gridSize);E._set(c);B=void 0;c={};!K&&b.$focus3aspectRatio0&&(c.aspectRatio=a.$focus3aspectRatio0,K=void 0!==a.$focus3aspectRatio0);!P&&b.$focus3scale0&&(c.scale=a.$focus3scale0,P=void 0!==a.$focus3scale0);!I&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,I=void 0!==a.$focus3gcx0);
!N&&b.$focus3gcy0&&(c.gcy=a.$focus3gcy0,N=void 0!==a.$focus3gcy0);M._set(c);N=I=P=K=void 0;c={};!G&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,G=void 0!==a.$focus3aspectRatio1);!Q&&b.$focus3scale1&&(c.scale=a.$focus3scale1,Q=void 0!==a.$focus3scale1);!L&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,L=void 0!==a.$focus3gcx1);!U&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,U=void 0!==a.$focus3gcy1);R._set(c);U=L=Q=G=void 0;c={};!X&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,X=void 0!==
a.$focus3aspectRatio2);!T&&b.$focus3scale2&&(c.scale=a.$focus3scale2,T=void 0!==a.$focus3scale2);!V&&b.$focus3gcx2&&(c.gcx=a.$focus3gcx2,V=void 0!==a.$focus3gcx2);!Y&&b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,Y=void 0!==a.$focus3gcy2);S._set(c);Y=V=T=X=void 0;c={};!Z&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,Z=void 0!==a.$focus3aspectRatio3);!ca&&b.$focus3scale3&&(c.scale=a.$focus3scale3,ca=void 0!==a.$focus3scale3);!da&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,da=void 0!==a.$focus3gcx3);
!aa&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,aa=void 0!==a.$focus3gcy3);ya._set(c);aa=da=ca=Z=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!ea&&b.gridSize&&(c.gridSize=a.gridSize,ea=void 0!==a.gridSize);ha._set(c);ea=void 0;c={};!ia&&b.$focus3aspectRatio0&&(c.aspectRatio=a.$focus3aspectRatio0,ia=void 0!==a.$focus3aspectRatio0);!ka&&b.$focus3scale0&&(c.scale=a.$focus3scale0,ka=void 0!==a.$focus3scale0);!ma&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,ma=void 0!==a.$focus3gcx0);!ua&&b.$focus3gcy0&&
(c.gcy=a.$focus3gcy0,ua=void 0!==a.$focus3gcy0);sa._set(c);ua=ma=ka=ia=void 0;c={};!qa&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,qa=void 0!==a.$focus3aspectRatio1);!na&&b.$focus3scale1&&(c.scale=a.$focus3scale1,na=void 0!==a.$focus3scale1);!ta&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,ta=void 0!==a.$focus3gcx1);!Ga&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,Ga=void 0!==a.$focus3gcy1);oa._set(c);Ga=ta=na=qa=void 0;c={};!fa&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,fa=void 0!==
a.$focus3aspectRatio2);!za&&b.$focus3scale2&&(c.scale=a.$focus3scale2,za=void 0!==a.$focus3scale2);!Aa&&b.$focus3gcx2&&(c.gcx=a.$focus3gcx2,Aa=void 0!==a.$focus3gcx2);!W&&b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,W=void 0!==a.$focus3gcy2);la._set(c);W=Aa=za=fa=void 0;c={};!La&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,La=void 0!==a.$focus3aspectRatio3);!pa&&b.$focus3scale3&&(c.scale=a.$focus3scale3,pa=void 0!==a.$focus3scale3);!Ba&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,Ba=void 0!==a.$focus3gcx3);
!Ha&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,Ha=void 0!==a.$focus3gcy3);Ea._set(c);Ha=Ba=pa=La=void 0},d(a){a&&D(c);E.destroy();M.destroy();R.destroy();S.destroy();ya.destroy();ha.destroy();sa.destroy();oa.destroy();la.destroy();Ea.destroy()}}}function jf(b){F(this,b);this._state=q(q(this.store._init("focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" ")),
{layerName:"mixed4d",gridSize:1}),b.data);this.store._add(this,"focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" "));this._intro=!0;this._handlers.destroy=[jb];this._fragment=Kh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}function Lh(b,a){var c,d,e,n,g,m,l,p,t,q,u,r,A,C,v,F,O,T,z,
B,E,K,P,I,N,M,G,Q,L,U,R={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:235};if(void 0!==a.gridSize){R.gridSize=a.gridSize;var X=!0}if(void 0!==a.showLabels){R.showLabels=a.showLabels;var Y=!0}if(void 0!==a.$focus3Highlights[0].homeX){R.homeX=a.$focus3Highlights[0].homeX;var V=!0}if(void 0!==a.$focus3Highlights[0].homeY){R.homeY=a.$focus3Highlights[0].homeY;var Z=!0}if(void 0!==a.$focus3Highlights[0].homeScale){R.homeScale=
a.$focus3Highlights[0].homeScale;var S=!0}if(void 0!==a.$focus3aspectRatio0){R.aspectRatio=a.$focus3aspectRatio0;var aa=!0}if(void 0!==a.$focus3scale0){R.scale=a.$focus3scale0;var ea=!0}if(void 0!==a.$focus3gcx0){R.gcx=a.$focus3gcx0;var ha=!0}if(void 0!==a.$focus3gcy0){R.gcy=a.$focus3gcy0;var ma=!0}var ya=new Da({root:b.root,store:b.store,data:R,_bind(c,d){var e={},f={};!X&&c.gridSize&&(e.gridSize=d.gridSize);!Y&&c.showLabels&&(e.showLabels=d.showLabels);!V&&c.homeX&&(a.$focus3Highlights[0].homeX=
d.homeX,f.focus3Highlights=a.$focus3Highlights);!Z&&c.homeY&&(a.$focus3Highlights[0].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!S&&c.homeScale&&(a.$focus3Highlights[0].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!aa&&c.aspectRatio&&(f.focus3aspectRatio0=d.aspectRatio);!ea&&c.scale&&(f.focus3scale0=d.scale);!ha&&c.gcx&&(f.focus3gcx0=d.gcx);!ma&&c.gcy&&(f.focus3gcy0=d.gcy);b.store.set(f);b._set(e);ma=ha=ea=aa=S=Z=V=Y=X=void 0}});b.root._beforecreate.push(()=>{ya._bind({gridSize:1,
showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},ya.get())});var ua={width:a.loupeSize,height:a.loupeSize,label:1},qa=new bb({root:b.root,store:b.store,slots:{default:ca()},data:ua}),ia={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){ia.gridSize=a.gridSize;var ka=!0}if(void 0!==a.showLabels){ia.showLabels=a.showLabels;var ra=!0}if(void 0!==
a.$focus3Highlights[0].homeX){ia.homeX=a.$focus3Highlights[0].homeX;var Va=!0}if(void 0!==a.$focus3Highlights[0].homeY){ia.homeY=a.$focus3Highlights[0].homeY;var sa=!0}if(void 0!==a.$focus3Highlights[0].homeScale){ia.homeScale=a.$focus3Highlights[0].homeScale;var Wa=!0}if(void 0!==a.$focus3aspectRatio0){ia.aspectRatio=a.$focus3aspectRatio0;var na=!0}if(void 0!==a.$focus3scale0){ia.scale=a.$focus3scale0;var ta=!0}if(void 0!==a.$focus3gcx0){ia.gcx=a.$focus3gcx0;var Ga=!0}if(void 0!==a.$focus3gcy0){ia.gcy=
a.$focus3gcy0;var oa=!0}var fa=new Da({root:b.root,store:b.store,data:ia,_bind(c,d){var e={},f={};!ka&&c.gridSize&&(e.gridSize=d.gridSize);!ra&&c.showLabels&&(e.showLabels=d.showLabels);!Va&&c.homeX&&(a.$focus3Highlights[0].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!sa&&c.homeY&&(a.$focus3Highlights[0].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!Wa&&c.homeScale&&(a.$focus3Highlights[0].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!na&&c.aspectRatio&&(f.focus3aspectRatio0=
d.aspectRatio);!ta&&c.scale&&(f.focus3scale0=d.scale);!Ga&&c.gcx&&(f.focus3gcx0=d.gcx);!oa&&c.gcy&&(f.focus3gcy0=d.gcy);b.store.set(f);b._set(e);oa=Ga=ta=na=Wa=sa=Va=ra=ka=void 0}});b.root._beforecreate.push(()=>{fa._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},fa.get())});var za={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:1},Aa=new bb({root:b.root,store:b.store,slots:{default:ca()},data:za}),W={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",
scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,classHeatmap:235};if(void 0!==a.gridSize){W.gridSize=a.gridSize;var la=!0}if(void 0!==a.showLabels){W.showLabels=a.showLabels;var La=!0}if(void 0!==a.$focus3Highlights[1].homeX){W.homeX=a.$focus3Highlights[1].homeX;var pa=!0}if(void 0!==a.$focus3Highlights[1].homeY){W.homeY=a.$focus3Highlights[1].homeY;var Ba=!0}if(void 0!==a.$focus3Highlights[1].homeScale){W.homeScale=a.$focus3Highlights[1].homeScale;var Ha=!0}if(void 0!==a.$focus3aspectRatio1){W.aspectRatio=
a.$focus3aspectRatio1;var Ea=!0}if(void 0!==a.$focus3scale1){W.scale=a.$focus3scale1;var xa=!0}if(void 0!==a.$focus3gcx1){W.gcx=a.$focus3gcx1;var $a=!0}if(void 0!==a.$focus3gcy1){W.gcy=a.$focus3gcy1;var lb=!0}var Ta=new Da({root:b.root,store:b.store,data:W,_bind(c,d){var e={},f={};!la&&c.gridSize&&(e.gridSize=d.gridSize);!La&&c.showLabels&&(e.showLabels=d.showLabels);!pa&&c.homeX&&(a.$focus3Highlights[1].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!Ba&&c.homeY&&(a.$focus3Highlights[1].homeY=
d.homeY,f.focus3Highlights=a.$focus3Highlights);!Ha&&c.homeScale&&(a.$focus3Highlights[1].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!Ea&&c.aspectRatio&&(f.focus3aspectRatio1=d.aspectRatio);!xa&&c.scale&&(f.focus3scale1=d.scale);!$a&&c.gcx&&(f.focus3gcx1=d.gcx);!lb&&c.gcy&&(f.focus3gcy1=d.gcy);b.store.set(f);b._set(e);lb=$a=xa=Ea=Ha=Ba=pa=La=la=void 0}});b.root._beforecreate.push(()=>{Ta._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},
Ta.get())});var va={width:a.loupeSize,height:a.loupeSize,label:2},eb=new bb({root:b.root,store:b.store,slots:{default:ca()},data:va}),Fa={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){Fa.gridSize=a.gridSize;var ab=!0}if(void 0!==a.showLabels){Fa.showLabels=a.showLabels;var Ia=!0}if(void 0!==a.$focus3Highlights[1].homeX){Fa.homeX=a.$focus3Highlights[1].homeX;
var hb=!0}if(void 0!==a.$focus3Highlights[1].homeY){Fa.homeY=a.$focus3Highlights[1].homeY;var ib=!0}if(void 0!==a.$focus3Highlights[1].homeScale){Fa.homeScale=a.$focus3Highlights[1].homeScale;var jb=!0}if(void 0!==a.$focus3aspectRatio1){Fa.aspectRatio=a.$focus3aspectRatio1;var Ja=!0}if(void 0!==a.$focus3scale1){Fa.scale=a.$focus3scale1;var kb=!0}if(void 0!==a.$focus3gcx1){Fa.gcx=a.$focus3gcx1;var ob=!0}if(void 0!==a.$focus3gcy1){Fa.gcy=a.$focus3gcy1;var qb=!0}var wa=new Da({root:b.root,store:b.store,
data:Fa,_bind(c,d){var e={},f={};!ab&&c.gridSize&&(e.gridSize=d.gridSize);!Ia&&c.showLabels&&(e.showLabels=d.showLabels);!hb&&c.homeX&&(a.$focus3Highlights[1].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!ib&&c.homeY&&(a.$focus3Highlights[1].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!jb&&c.homeScale&&(a.$focus3Highlights[1].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!Ja&&c.aspectRatio&&(f.focus3aspectRatio1=d.aspectRatio);!kb&&c.scale&&(f.focus3scale1=d.scale);
!ob&&c.gcx&&(f.focus3gcx1=d.gcx);!qb&&c.gcy&&(f.focus3gcy1=d.gcy);b.store.set(f);b._set(e);qb=ob=kb=Ja=jb=ib=hb=Ia=ab=void 0}});b.root._beforecreate.push(()=>{wa._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},wa.get())});var Cb={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:2},pb=new bb({root:b.root,store:b.store,slots:{default:ca()},data:Cb}),Ka={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",
enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:235};if(void 0!==a.gridSize){Ka.gridSize=a.gridSize;var mb=!0}if(void 0!==a.showLabels){Ka.showLabels=a.showLabels;var ub=!0}if(void 0!==a.$focus3Highlights[2].homeX){Ka.homeX=a.$focus3Highlights[2].homeX;var db=!0}if(void 0!==a.$focus3Highlights[2].homeY){Ka.homeY=a.$focus3Highlights[2].homeY;var Oa=!0}if(void 0!==a.$focus3Highlights[2].homeScale){Ka.homeScale=a.$focus3Highlights[2].homeScale;var Na=!0}if(void 0!==a.$focus3aspectRatio2){Ka.aspectRatio=
a.$focus3aspectRatio2;var xb=!0}if(void 0!==a.$focus3scale2){Ka.scale=a.$focus3scale2;var yb=!0}if(void 0!==a.$focus3gcx2){Ka.gcx=a.$focus3gcx2;var zb=!0}if(void 0!==a.$focus3gcy2){Ka.gcy=a.$focus3gcy2;var wb=!0}var tb=new Da({root:b.root,store:b.store,data:Ka,_bind(c,d){var e={},f={};!mb&&c.gridSize&&(e.gridSize=d.gridSize);!ub&&c.showLabels&&(e.showLabels=d.showLabels);!db&&c.homeX&&(a.$focus3Highlights[2].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!Oa&&c.homeY&&(a.$focus3Highlights[2].homeY=
d.homeY,f.focus3Highlights=a.$focus3Highlights);!Na&&c.homeScale&&(a.$focus3Highlights[2].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!xb&&c.aspectRatio&&(f.focus3aspectRatio2=d.aspectRatio);!yb&&c.scale&&(f.focus3scale2=d.scale);!zb&&c.gcx&&(f.focus3gcx2=d.gcx);!wb&&c.gcy&&(f.focus3gcy2=d.gcy);b.store.set(f);b._set(e);wb=zb=yb=xb=Na=Oa=db=ub=mb=void 0}});b.root._beforecreate.push(()=>{tb._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},
tb.get())});var Ab={width:a.loupeSize,height:a.loupeSize,label:3},rb=new bb({root:b.root,store:b.store,slots:{default:ca()},data:Ab}),Ca={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){Ca.gridSize=a.gridSize;var Qa=!0}if(void 0!==a.showLabels){Ca.showLabels=a.showLabels;var ja=!0}if(void 0!==a.$focus3Highlights[2].homeX){Ca.homeX=a.$focus3Highlights[2].homeX;
var fb=!0}if(void 0!==a.$focus3Highlights[2].homeY){Ca.homeY=a.$focus3Highlights[2].homeY;var Ra=!0}if(void 0!==a.$focus3Highlights[2].homeScale){Ca.homeScale=a.$focus3Highlights[2].homeScale;var gb=!0}if(void 0!==a.$focus3aspectRatio2){Ca.aspectRatio=a.$focus3aspectRatio2;var Sa=!0}if(void 0!==a.$focus3scale2){Ca.scale=a.$focus3scale2;var Pa=!0}if(void 0!==a.$focus3gcx2){Ca.gcx=a.$focus3gcx2;var vb=!0}if(void 0!==a.$focus3gcy2){Ca.gcy=a.$focus3gcy2;var Xb=!0}var Ub=new Da({root:b.root,store:b.store,
data:Ca,_bind(c,d){var e={},f={};!Qa&&c.gridSize&&(e.gridSize=d.gridSize);!ja&&c.showLabels&&(e.showLabels=d.showLabels);!fb&&c.homeX&&(a.$focus3Highlights[2].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!Ra&&c.homeY&&(a.$focus3Highlights[2].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!gb&&c.homeScale&&(a.$focus3Highlights[2].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!Sa&&c.aspectRatio&&(f.focus3aspectRatio2=d.aspectRatio);!Pa&&c.scale&&(f.focus3scale2=d.scale);
!vb&&c.gcx&&(f.focus3gcx2=d.gcx);!Xb&&c.gcy&&(f.focus3gcy2=d.gcy);b.store.set(f);b._set(e);Xb=vb=Pa=Sa=gb=Ra=fb=ja=Qa=void 0}});b.root._beforecreate.push(()=>{Ub._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},Ub.get())});var Tb={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:3},Eb=new bb({root:b.root,store:b.store,slots:{default:ca()},data:Tb}),Bb={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",
enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:235};if(void 0!==a.gridSize){Bb.gridSize=a.gridSize;var Jb=!0}if(void 0!==a.showLabels){Bb.showLabels=a.showLabels;var Rb=!0}if(void 0!==a.$focus3Highlights[3].homeX){Bb.homeX=a.$focus3Highlights[3].homeX;var Xa=!0}if(void 0!==a.$focus3Highlights[3].homeY){Bb.homeY=a.$focus3Highlights[3].homeY;var hc=!0}if(void 0!==a.$focus3Highlights[3].homeScale){Bb.homeScale=a.$focus3Highlights[3].homeScale;var Yb=!0}if(void 0!==a.$focus3aspectRatio3){Bb.aspectRatio=
a.$focus3aspectRatio3;var Zb=!0}if(void 0!==a.$focus3scale3){Bb.scale=a.$focus3scale3;var $b=!0}if(void 0!==a.$focus3gcx3){Bb.gcx=a.$focus3gcx3;var Sb=!0}if(void 0!==a.$focus3gcy3){Bb.gcy=a.$focus3gcy3;var Ya=!0}var Vb=new Da({root:b.root,store:b.store,data:Bb,_bind(c,d){var e={},f={};!Jb&&c.gridSize&&(e.gridSize=d.gridSize);!Rb&&c.showLabels&&(e.showLabels=d.showLabels);!Xa&&c.homeX&&(a.$focus3Highlights[3].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!hc&&c.homeY&&(a.$focus3Highlights[3].homeY=
d.homeY,f.focus3Highlights=a.$focus3Highlights);!Yb&&c.homeScale&&(a.$focus3Highlights[3].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!Zb&&c.aspectRatio&&(f.focus3aspectRatio3=d.aspectRatio);!$b&&c.scale&&(f.focus3scale3=d.scale);!Sb&&c.gcx&&(f.focus3gcx3=d.gcx);!Ya&&c.gcy&&(f.focus3gcy3=d.gcy);b.store.set(f);b._set(e);Ya=Sb=$b=Zb=Yb=hc=Xa=Rb=Jb=void 0}});b.root._beforecreate.push(()=>{Vb._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},
Vb.get())});var cc={width:a.loupeSize,height:a.loupeSize,label:4},Lb=new bb({root:b.root,store:b.store,slots:{default:ca()},data:cc}),nb={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){nb.gridSize=a.gridSize;var Fb=!0}if(void 0!==a.showLabels){nb.showLabels=a.showLabels;var ac=!0}if(void 0!==a.$focus3Highlights[3].homeX){nb.homeX=a.$focus3Highlights[3].homeX;
var Mb=!0}if(void 0!==a.$focus3Highlights[3].homeY){nb.homeY=a.$focus3Highlights[3].homeY;var Gb=!0}if(void 0!==a.$focus3Highlights[3].homeScale){nb.homeScale=a.$focus3Highlights[3].homeScale;var Hb=!0}if(void 0!==a.$focus3aspectRatio3){nb.aspectRatio=a.$focus3aspectRatio3;var sb=!0}if(void 0!==a.$focus3scale3){nb.scale=a.$focus3scale3;var Nb=!0}if(void 0!==a.$focus3gcx3){nb.gcx=a.$focus3gcx3;var Ob=!0}if(void 0!==a.$focus3gcy3){nb.gcy=a.$focus3gcy3;var Pb=!0}var Ib=new Da({root:b.root,store:b.store,
data:nb,_bind(c,d){var e={},f={};!Fb&&c.gridSize&&(e.gridSize=d.gridSize);!ac&&c.showLabels&&(e.showLabels=d.showLabels);!Mb&&c.homeX&&(a.$focus3Highlights[3].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!Gb&&c.homeY&&(a.$focus3Highlights[3].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!Hb&&c.homeScale&&(a.$focus3Highlights[3].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!sb&&c.aspectRatio&&(f.focus3aspectRatio3=d.aspectRatio);!Nb&&c.scale&&(f.focus3scale3=d.scale);
!Ob&&c.gcx&&(f.focus3gcx3=d.gcx);!Pb&&c.gcy&&(f.focus3gcy3=d.gcy);b.store.set(f);b._set(e);Pb=Ob=Nb=sb=Hb=Gb=Mb=ac=Fb=void 0}});b.root._beforecreate.push(()=>{Ib._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},Ib.get())});var dc={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:4},Qb=new bb({root:b.root,store:b.store,slots:{default:ca()},data:dc});return{c(){c=k("div");d=k("div");e=k("h4");n=h("Fireboat");g=h("\n    ");m=k("h4");l=h("Streetcar");
p=h("\n  \n  ");t=k("div");ya._fragment.c();qa._fragment.c();q=h("\n    ");fa._fragment.c();Aa._fragment.c();u=h("\n    ");r=k("div");A=h("At ");C=h(a.layerName);v=h(', Both "streetcar" and "fireboat" contain activations for what look like windows.');F=h("\n  \n  ");O=k("div");Ta._fragment.c();eb._fragment.c();T=h("\n    ");wa._fragment.c();pb._fragment.c();z=h("\n    ");B=k("div");B.textContent="Both classes also contain activations for crane-like apparatuses, though they are less prominent than the window activations.";
E=h("\n  \n  ");K=k("div");tb._fragment.c();rb._fragment.c();P=h("\n    ");Ub._fragment.c();Eb._fragment.c();I=h("\n    ");N=k("div");N.textContent='"Fireboat" activations have much stronger attributions from water than "streetcar", where there is virtually no positive evidence.';M=h("\n  \n  ");G=k("div");Vb._fragment.c();Lb._fragment.c();Q=h("\n    ");Ib._fragment.c();Qb._fragment.c();L=h("\n    ");U=k("div");U.textContent='The activations for "streetcar" have much stronger attributions from buildings than does "fireboat".';
w(e,"width",""+a.loupeSize+"px");e.className="svelte-13ehk1x";w(m,"width",""+a.loupeSize+"px");m.className="svelte-13ehk1x";d.className="row svelte-13ehk1x";r.className="figcaption";t.className="row svelte-13ehk1x";B.className="figcaption";O.className="row svelte-13ehk1x";N.className="figcaption";K.className="row svelte-13ehk1x";U.className="figcaption";G.className="row svelte-13ehk1x";c.className="details svelte-13ehk1x"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(n);
d.appendChild(g);d.appendChild(m);m.appendChild(l);c.appendChild(p);c.appendChild(t);ya._mount(qa._slotted.default,null);qa._mount(t,null);t.appendChild(q);fa._mount(Aa._slotted.default,null);Aa._mount(t,null);t.appendChild(u);t.appendChild(r);r.appendChild(A);r.appendChild(C);r.appendChild(v);c.appendChild(F);c.appendChild(O);Ta._mount(eb._slotted.default,null);eb._mount(O,null);O.appendChild(T);wa._mount(pb._slotted.default,null);pb._mount(O,null);O.appendChild(z);O.appendChild(B);c.appendChild(E);
c.appendChild(K);tb._mount(rb._slotted.default,null);rb._mount(K,null);K.appendChild(P);Ub._mount(Eb._slotted.default,null);Eb._mount(K,null);K.appendChild(I);K.appendChild(N);c.appendChild(M);c.appendChild(G);Vb._mount(Lb._slotted.default,null);Lb._mount(G,null);G.appendChild(Q);Ib._mount(Qb._slotted.default,null);Qb._mount(G,null);G.appendChild(L);G.appendChild(U)},p(b,c){a=c;b.loupeSize&&(w(e,"width",""+a.loupeSize+"px"),w(m,"width",""+a.loupeSize+"px"));c={};b.layerName&&(c.id="inceptionv1_"+
a.layerName);!X&&b.gridSize&&(c.gridSize=a.gridSize,X=void 0!==a.gridSize);!Y&&b.showLabels&&(c.showLabels=a.showLabels,Y=void 0!==a.showLabels);!V&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[0].homeX,V=void 0!==a.$focus3Highlights[0].homeX);!Z&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[0].homeY,Z=void 0!==a.$focus3Highlights[0].homeY);!S&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[0].homeScale,S=void 0!==a.$focus3Highlights[0].homeScale);!aa&&b.$focus3aspectRatio0&&(c.aspectRatio=
a.$focus3aspectRatio0,aa=void 0!==a.$focus3aspectRatio0);!ea&&b.$focus3scale0&&(c.scale=a.$focus3scale0,ea=void 0!==a.$focus3scale0);!ha&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,ha=void 0!==a.$focus3gcx0);!ma&&b.$focus3gcy0&&(c.gcy=a.$focus3gcy0,ma=void 0!==a.$focus3gcy0);ya._set(c);ma=ha=ea=aa=S=Z=V=Y=X=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);qa._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!ka&&b.gridSize&&(c.gridSize=a.gridSize,ka=void 0!==a.gridSize);
!ra&&b.showLabels&&(c.showLabels=a.showLabels,ra=void 0!==a.showLabels);!Va&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[0].homeX,Va=void 0!==a.$focus3Highlights[0].homeX);!sa&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[0].homeY,sa=void 0!==a.$focus3Highlights[0].homeY);!Wa&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[0].homeScale,Wa=void 0!==a.$focus3Highlights[0].homeScale);!na&&b.$focus3aspectRatio0&&(c.aspectRatio=a.$focus3aspectRatio0,na=void 0!==a.$focus3aspectRatio0);
!ta&&b.$focus3scale0&&(c.scale=a.$focus3scale0,ta=void 0!==a.$focus3scale0);!Ga&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,Ga=void 0!==a.$focus3gcx0);!oa&&b.$focus3gcy0&&(c.gcy=a.$focus3gcy0,oa=void 0!==a.$focus3gcy0);fa._set(c);oa=Ga=ta=na=Wa=sa=Va=ra=ka=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Aa._set(c);b.layerName&&da(C,a.layerName);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!la&&b.gridSize&&(c.gridSize=a.gridSize,la=void 0!==a.gridSize);!La&&b.showLabels&&
(c.showLabels=a.showLabels,La=void 0!==a.showLabels);!pa&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[1].homeX,pa=void 0!==a.$focus3Highlights[1].homeX);!Ba&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[1].homeY,Ba=void 0!==a.$focus3Highlights[1].homeY);!Ha&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[1].homeScale,Ha=void 0!==a.$focus3Highlights[1].homeScale);!Ea&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,Ea=void 0!==a.$focus3aspectRatio1);!xa&&b.$focus3scale1&&
(c.scale=a.$focus3scale1,xa=void 0!==a.$focus3scale1);!$a&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,$a=void 0!==a.$focus3gcx1);!lb&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,lb=void 0!==a.$focus3gcy1);Ta._set(c);lb=$a=xa=Ea=Ha=Ba=pa=La=la=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);eb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!ab&&b.gridSize&&(c.gridSize=a.gridSize,ab=void 0!==a.gridSize);!Ia&&b.showLabels&&(c.showLabels=a.showLabels,Ia=void 0!==a.showLabels);
!hb&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[1].homeX,hb=void 0!==a.$focus3Highlights[1].homeX);!ib&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[1].homeY,ib=void 0!==a.$focus3Highlights[1].homeY);!jb&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[1].homeScale,jb=void 0!==a.$focus3Highlights[1].homeScale);!Ja&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,Ja=void 0!==a.$focus3aspectRatio1);!kb&&b.$focus3scale1&&(c.scale=a.$focus3scale1,kb=void 0!==a.$focus3scale1);
!ob&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,ob=void 0!==a.$focus3gcx1);!qb&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,qb=void 0!==a.$focus3gcy1);wa._set(c);qb=ob=kb=Ja=jb=ib=hb=Ia=ab=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);pb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!mb&&b.gridSize&&(c.gridSize=a.gridSize,mb=void 0!==a.gridSize);!ub&&b.showLabels&&(c.showLabels=a.showLabels,ub=void 0!==a.showLabels);!db&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[2].homeX,
db=void 0!==a.$focus3Highlights[2].homeX);!Oa&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[2].homeY,Oa=void 0!==a.$focus3Highlights[2].homeY);!Na&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[2].homeScale,Na=void 0!==a.$focus3Highlights[2].homeScale);!xb&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,xb=void 0!==a.$focus3aspectRatio2);!yb&&b.$focus3scale2&&(c.scale=a.$focus3scale2,yb=void 0!==a.$focus3scale2);!zb&&b.$focus3gcx2&&(c.gcx=a.$focus3gcx2,zb=void 0!==a.$focus3gcx2);
!wb&&b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,wb=void 0!==a.$focus3gcy2);tb._set(c);wb=zb=yb=xb=Na=Oa=db=ub=mb=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);rb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Qa&&b.gridSize&&(c.gridSize=a.gridSize,Qa=void 0!==a.gridSize);!ja&&b.showLabels&&(c.showLabels=a.showLabels,ja=void 0!==a.showLabels);!fb&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[2].homeX,fb=void 0!==a.$focus3Highlights[2].homeX);!Ra&&b.$focus3Highlights&&
(c.homeY=a.$focus3Highlights[2].homeY,Ra=void 0!==a.$focus3Highlights[2].homeY);!gb&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[2].homeScale,gb=void 0!==a.$focus3Highlights[2].homeScale);!Sa&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,Sa=void 0!==a.$focus3aspectRatio2);!Pa&&b.$focus3scale2&&(c.scale=a.$focus3scale2,Pa=void 0!==a.$focus3scale2);!vb&&b.$focus3gcx2&&(c.gcx=a.$focus3gcx2,vb=void 0!==a.$focus3gcx2);!Xb&&b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,Xb=void 0!==a.$focus3gcy2);
Ub._set(c);Xb=vb=Pa=Sa=gb=Ra=fb=ja=Qa=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Eb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Jb&&b.gridSize&&(c.gridSize=a.gridSize,Jb=void 0!==a.gridSize);!Rb&&b.showLabels&&(c.showLabels=a.showLabels,Rb=void 0!==a.showLabels);!Xa&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[3].homeX,Xa=void 0!==a.$focus3Highlights[3].homeX);!hc&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[3].homeY,hc=void 0!==
a.$focus3Highlights[3].homeY);!Yb&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[3].homeScale,Yb=void 0!==a.$focus3Highlights[3].homeScale);!Zb&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,Zb=void 0!==a.$focus3aspectRatio3);!$b&&b.$focus3scale3&&(c.scale=a.$focus3scale3,$b=void 0!==a.$focus3scale3);!Sb&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,Sb=void 0!==a.$focus3gcx3);!Ya&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,Ya=void 0!==a.$focus3gcy3);Vb._set(c);Ya=Sb=$b=Zb=Yb=hc=Xa=Rb=Jb=void 0;
c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Lb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Fb&&b.gridSize&&(c.gridSize=a.gridSize,Fb=void 0!==a.gridSize);!ac&&b.showLabels&&(c.showLabels=a.showLabels,ac=void 0!==a.showLabels);!Mb&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[3].homeX,Mb=void 0!==a.$focus3Highlights[3].homeX);!Gb&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[3].homeY,Gb=void 0!==a.$focus3Highlights[3].homeY);!Hb&&b.$focus3Highlights&&
(c.homeScale=a.$focus3Highlights[3].homeScale,Hb=void 0!==a.$focus3Highlights[3].homeScale);!sb&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,sb=void 0!==a.$focus3aspectRatio3);!Nb&&b.$focus3scale3&&(c.scale=a.$focus3scale3,Nb=void 0!==a.$focus3scale3);!Ob&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,Ob=void 0!==a.$focus3gcx3);!Pb&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,Pb=void 0!==a.$focus3gcy3);Ib._set(c);Pb=Ob=Nb=sb=Hb=Gb=Mb=ac=Fb=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&
(c.height=a.loupeSize);Qb._set(c)},d(a){a&&D(c);ya.destroy();qa.destroy();fa.destroy();Aa.destroy();Ta.destroy();eb.destroy();wa.destroy();pb.destroy();tb.destroy();rb.destroy();Ub.destroy();Eb.destroy();Vb.destroy();Lb.destroy();Ib.destroy();Qb.destroy()}}}function kf(b){F(this,b);this._state=q(q(this.store._init("focus3Highlights focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" ")),
{layerName:"mixed4d",gridSize:1,loupeSize:220}),b.data);this.store._add(this,"focus3Highlights focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" "));this._intro=!0;this._handlers.destroy=[jb];this._fragment=Lh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),O(this))}var A={destroy:function(b){this.destroy=
Y;this.fire("destroy");this.set=Y;this._fragment.d(!1!==b);this._fragment=null;this._state={}},get:ad,fire:$c,on:bd,set:function(b){this._set(q({},b));this.root._lock||O(this.root)},_recompute:Y,_set:function(b){var a=this._state,c={},d=!1;b=q(this._staged,b);this._staged={};for(var e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=q(q({},a),b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(this.fire("state",{changed:c,current:this._state,previous:a}),
this._fragment.p(c,this._state),this.fire("update",{changed:c,current:this._state,previous:a})))},_stage:function(b){q(this._staged,b)},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_differs:Zc};q(cd.prototype,{_add(b,a){this._dependents.push({component:b,props:a})},_init(b){let a={};for(let c=0;c<b.length;c+=1){let d=b[c];a["$"+d]=this._state[d]}return a},_remove(b){let a=this._dependents.length;for(;a--;)if(this._dependents[a].component===b){this._dependents.splice(a,
1);break}},_set(b,a){let c=this._state;this._state=q(q({},c),b);for(b=0;b<this._sortedComputedProperties.length;b+=1)this._sortedComputedProperties[b].update(this._state,a);this.fire("state",{changed:a,previous:c,current:this._state});this._dependents.filter((b)=>{let c={},d=!1;for(let e=0;e<b.props.length;e+=1){let f=b.props[e];f in a&&(c["$"+f]=this._state[f],d=!0)}if(d)return b.component._stage(c),!0}).forEach((a)=>{a.component.set({})});this.fire("update",{changed:a,previous:c,current:this._state})},
_sortComputedProperties(){function b(f){let g=a[f];g&&(g.deps.forEach((a)=>{if(a===e)throw Error(`Cyclical dependency detected between ${a} <-> ${f}`);b(a)}),d[f]||(d[f]=!0,c.push(g)))}let a=this._computed,c=this._sortedComputedProperties=[],d=Object.create(null),e;for(let a in this._computed)b(e=a)},compute(b,a,c){let d,e={deps:a,update:(e,f,g)=>{var h=a.map((a)=>{a in f&&(g=!0);return e[a]});g&&(h=c.apply(null,h),this._differs(h,d)&&(d=h,f[b]=!0,e[b]=d))}};this._computed[b]=e;this._sortComputedProperties();
let h=q({},this._state),g={};e.update(h,g,!0);this._set(h,g)},fire:$c,get:ad,on:bd,set(b){let a=this._state,c=this._changed={},d=!1;for(let e in b){if(this._computed[e])throw Error(`'${e}' is a read-only computed property`);this._differs(b[e],a[e])&&(c[e]=d=!0)}d&&this._set(b,c)}});var xc={inception:"dummy;kit fox;English setter;Siberian husky;Australian terrier;English springer;grey whale;lesser panda;Egyptian cat;ibex;Persian cat;cougar;gazelle;porcupine;sea lion;malamute;badger;Great Dane;Walker hound;Welsh springer spaniel;whippet;Scottish deerhound;killer whale;mink;African elephant;Weimaraner;soft - coated wheaten terrier;Dandie Dinmont;red wolf;Old English sheepdog;jaguar;otterhound;bloodhound;Airedale;hyena;meerkat;giant schnauzer;titi;three - toed sloth;sorrel;black - footed ferret;dalmatian;black - and - tan coonhound;papillon;skunk;Staffordshire bullterrier;Mexican hairless;Bouvier des Flandres;weasel;miniature poodle;Cardigan;malinois;bighorn;fox squirrel;colobus;tiger cat;Lhasa;impala;coyote;Yorkshire terrier;Newfoundland;brown bear;red fox;Norwegian elkhound;Rottweiler;hartebeest;Saluki;grey fox;schipperke;Pekinese;Brabancon griffon;West Highland white terrier;Sealyham terrier;guenon;mongoose;indri;tiger;Irish wolfhound;wild boar;EntleBucher;zebra;ram;French bulldog;orangutan;basenji;leopard;Bernese mountain dog;Maltese dog;Norfolk terrier;toy terrier;vizsla;cairn;squirrel monkey;groenendael;clumber;Siamese cat;chimpanzee;komondor;Afghan hound;Japanese spaniel;proboscis monkey;guinea pig;white wolf;ice bear;gorilla;borzoi;toy poodle;Kerry blue terrier;ox;Scotch terrier;Tibetan mastiff;spider monkey;Doberman;Boston bull;Greater Swiss Mountain dog;Appenzeller;Shih - Tzu;Irish water spaniel;Pomeranian;Bedlington terrier;warthog;Arabian camel;siamang;miniature schnauzer;collie;golden retriever;Irish terrier;affenpinscher;Border collie;hare;boxer;silky terrier;beagle;Leonberg;German short - haired pointer;patas;dhole;baboon;macaque;Chesapeake Bay retriever;bull mastiff;kuvasz;capuchin;pug;curly - coated retriever;Norwich terrier;flat - coated retriever;hog;keeshond;Eskimo dog;Brittany spaniel;standard poodle;Lakeland terrier;snow leopard;Gordon setter;dingo;standard schnauzer;hamster;Tibetan terrier;Arctic fox;wire - haired fox terrier;basset;water buffalo;American black bear;Angora;bison;howler monkey;hippopotamus;chow;giant panda;American Staffordshire terrier;Shetland sheepdog;Great Pyrenees;Chihuahua;tabby;marmoset;Labrador retriever;Saint Bernard;armadillo;Samoyed;bluetick;redbone;polecat;marmot;kelpie;gibbon;llama;miniature pinscher;wood rabbit;Italian greyhound;lion;cocker spaniel;Irish setter;dugong;Indian elephant;beaver;Sussex spaniel;Pembroke;Blenheim spaniel;Madagascar cat;Rhodesian ridgeback;lynx;African hunting dog;langur;Ibizan hound;timber wolf;cheetah;English foxhound;briard;sloth bear;Border terrier;German shepherd;otter;koala;tusker;echidna;wallaby;platypus;wombat;revolver;umbrella;schooner;soccer ball;accordion;ant;starfish;chambered nautilus;grand piano;laptop;strawberry;airliner;warplane;airship;balloon;space shuttle;fireboat;gondola;speedboat;lifeboat;canoe;yawl;catamaran;trimaran;container ship;liner;pirate;aircraft carrier;submarine;wreck;half track;tank;missile;bobsled;dogsled;bicycle - built -for-two;mountain bike;freight car;passenger car;barrow;shopping cart;motor scooter;forklift;electric locomotive;steam locomotive;amphibian;ambulance;beach wagon;cab;convertible;jeep;limousine;minivan;Model T;racer;sports car;go-kart;golfcart;moped;snowplow;fire engine;garbage truck;pickup;tow truck;trailer truck;moving van;police van;recreational vehicle;streetcar;snowmobile;tractor;mobile home;tricycle;unicycle;horse cart;jinrikisha;oxcart;bassinet;cradle;crib;four-poster;bookcase;china cabinet;medicine chest;chiffonier;table lamp;file;park bench;barber chair;throne;folding chair;rocking chair;studio couch;toilet seat;desk;pool table;dining table;entertainment center;wardrobe;Granny Smith;orange;lemon;fig;pineapple;banana;jackfruit;custard apple;pomegranate;acorn;hip;ear;rapeseed;corn;buckeye;organ;upright;chime;drum;gong;maraca;marimba;steel drum;banjo;cello;violin;harp;acoustic guitar;electric guitar;cornet;French horn;trombone;harmonica;ocarina;panpipe;bassoon;oboe;sax;flute;daisy;yellow lady's slipper;cliff;valley;alp;volcano;promontory;sandbar;coral reef;lakeside;seashore;geyser;hatchet;cleaver;letter opener;plane;power drill;lawn mower;hammer;corkscrew;can opener;plunger;screwdriver;shovel;plow;chain saw;cock;hen;ostrich;brambling;goldfinch;house finch;junco;indigo bunting;robin;bulbul;jay;magpie;chickadee;water ouzel;kite;bald eagle;vulture;great grey owl;black grouse;ptarmigan;ruffed grouse;prairie chicken;peacock;quail;partridge;African grey;macaw;sulphur-crested cockatoo;lorikeet;coucal;bee eater;hornbill;hummingbird;jacamar;toucan;drake;red-breasted merganser;goose;black swan;white stork;black stork;spoonbill;flamingo;American egret;little blue heron;bittern;crane;limpkin;American coot;bustard;ruddy turnstone;red - backed sandpiper;redshank;dowitcher;oystercatcher;European gallinule;pelican;king penguin;albatross;great white shark;tiger shark;hammerhead;electric ray;stingray;barracouta;coho;tench;goldfish;eel;rock beauty;anemone fish;lionfish;puffer;sturgeon;gar;loggerhead;leatherback turtle;mud turtle;terrapin;box turtle;banded gecko;common iguana;American chameleon;whiptail;agama;frilled lizard;alligator lizard;Gila monster;green lizard;African chameleon;Komodo dragon;triceratops;African crocodile;American alligator;thunder snake;ringneck snake;hognose snake;green snake;king snake;garter snake;water snake;vine snake;night snake;boa constrictor;rock python;Indian cobra;green mamba;sea snake;horned viper;diamondback;sidewinder;European fire salamander;common newt;eft;spotted salamander;axolotl;bullfrog;tree frog;tailed frog;whistle;wing;paintbrush;hand blower;oxygen mask;snorkel;loudspeaker;microphone;screen;mouse;electric fan;oil filter;strainer;space heater;stove;guillotine;barometer;rule;odometer;scale;analog clock;digital clock;wall clock;hourglass;sundial;parking meter;stopwatch;digital watch;stethoscope;syringe;magnetic compass;binoculars;projector;sunglasses;loupe;radio telescope;bow;cannon [ground];assault rifle;rifle;projectile;computer keyboard;typewriter keyboard;crane;lighter;abacus;cash machine;slide rule;desktop computer;hand - held computer;notebook;web site;harvester;thresher;printer;slot;vending machine;sewing machine;joystick;switch;hook;car wheel;paddlewheel;pinwheel;potter's wheel;gas pump;carousel;swing;reel;radiator;puck;hard disc;sunglass;pick;car mirror;solar dish;remote control;disk brake;buckle;hair slide;knot;combination lock;padlock;nail;safety pin;screw;muzzle;seat belt;ski;candle;jack - o'-lantern;spotlight;torch;neck brace;pier;tripod;maypole;mousetrap;spider web;trilobite;harvestman;scorpion;black and gold garden spider;barn spider;garden spider;black widow;tarantula;wolf spider;tick;centipede;isopod;Dungeness crab;rock crab;fiddler crab;king crab;American lobster;spiny lobster;crayfish;hermit crab;tiger beetle;ladybug;ground beetle;long - horned beetle;leaf beetle;dung beetle;rhinoceros beetle;weevil;fly;bee;grasshopper;cricket;walking stick;cockroach;mantis;cicada;leafhopper;lacewing;dragonfly;damselfly;admiral;ringlet;monarch;cabbage butterfly;sulphur butterfly;lycaenid;jellyfish;sea anemone;brain coral;flatworm;nematode;conch;snail;slug;sea slug;chiton;sea urchin;sea cucumber;iron;espresso maker;microwave;Dutch oven;rotisserie;toaster;waffle iron;vacuum;dishwasher;refrigerator;washer;Crock Pot;frying pan;wok;caldron;coffeepot;teapot;spatula;altar;triumphal arch;patio;steel arch bridge;suspension bridge;viaduct;barn;greenhouse;palace;monastery;library;apiary;boathouse;church;mosque;stupa;planetarium;restaurant;cinema;home theater;lumbermill;coil;obelisk;totem pole;castle;prison;grocery store;bakery;barbershop;bookshop;butcher shop;confectionery;shoe shop;tobacco shop;toyshop;fountain;cliff dwelling;yurt;dock;brass;megalith;bannister;breakwater;dam;chainlink fence;picket fence;worm fence;stone wall;grille;sliding door;turnstile;mountain tent;scoreboard;honeycomb;plate rack;pedestal;beacon;mashed potato;bell pepper;head cabbage;broccoli;cauliflower;zucchini;spaghetti squash;acorn squash;butternut squash;cucumber;artichoke;cardoon;mushroom;shower curtain;jean;carton;handkerchief;sandal;ashcan;safe;plate;necklace;croquet ball;fur coat;thimble;pajama;running shoe;cocktail shaker;chest;manhole cover;modem;tub;tray;balance beam;bagel;prayer rug;kimono;hot pot;whiskey jug;knee pad;book jacket;spindle;ski mask;beer bottle;crash helmet;bottlecap;tile roof;mask;maillot;Petri dish;football helmet;bathing cap;teddy bear;holster;pop bottle;photocopier;vestment;crossword puzzle;golf ball;trifle;suit;water tower;feather boa;cloak;red wine;drumstick;shield;Christmas stocking;hoopskirt;menu;stage;bonnet;meat loaf;baseball;face powder;scabbard;sunscreen;beer glass;hen-of - the - woods;guacamole;lampshade;wool;hay;bow tie;mailbag;water jug;bucket;dishrag;soup bowl;eggnog;mortar;trench coat;paddle;chain;swab;mixing bowl;potpie;wine bottle;shoji;bulletproof vest;drilling platform;binder;cardigan;sweatshirt;pot;birdhouse;hamper;ping-pong ball;pencil box;pay - phone;consomme;apron;punching bag;backpack;groom;bearskin;pencil sharpener;broom;mosquito net;abaya;mortarboard;poncho;crutch;Polaroid camera;space bar;cup;racket;traffic light;quill;radio;dough;cuirass;military uniform;lipstick;shower cap;monitor;oscilloscope;mitten;brassiere;French loaf;vase;milk can;rugby ball;paper towel;earthstar;envelope;miniskirt;cowboy hat;trolleybus;perfume;bathtub;hotdog;coral fungus;bullet train;pillow;toilet tissue;cassette;carpenter's kit;ladle;stinkhorn;lotion;hair spray;academic gown;dome;crate;wig;burrito;pill bottle;chain mail;theater curtain;window shade;barrel;washbasin;ballpoint;basketball;bath towel;cowboy boot;gown;window screen;agaric;cellular telephone;nipple;barbell;mailbox;lab coat;fire screen;minibus;packet;maze;pole;horizontal bar;sombrero;pickelhaube;rain barrel;wallet;cassette player;comic book;piggy bank;street sign;bell cote;fountain pen;Windsor tie;volleyball;overskirt;sarong;purse;bolo tie;bib;parachute;sleeping bag;television;swimming trunks;measuring cup;espresso;pizza;breastplate;shopping basket;wooden spoon;saltshaker;chocolate sauce;ballplayer;goblet;gyromitra;stretcher;water bottle;dial telephone;soap dispenser;jersey;school bus;jigsaw puzzle;plastic bag;reflex camera;diaper;Band Aid;ice lolly;velvet;tennis ball;gasmask;doormat;Loafer;ice cream;pretzel;quilt;maillot;tape player;clog;iPod;bolete;scuba diver;pitcher;matchstick;bikini;sock;CD player;lens cap;thatch;vault;beaker;bubble;cheeseburger;parallel bars;flagpole;coffee mug;rubber eraser;stole;carbonara;dumbbell".split(";")};
q(Gc.prototype,A);q(Hc.prototype,A);q(T.prototype,A);T.prototype._recompute=function(b,a){(b.radarReady||b.component)&&this._differs(a.ready,a.ready=rf(a))&&(b.ready=!0);(b.width||b.height||b.aspectRatio||b.minHeight)&&this._differs(a.finalHeight,a.finalHeight=sf(a))&&(b.finalHeight=!0)};q(kb.prototype,A);var zf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ic.prototype=Jc.prototype;Jc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?
"0":"")+(null==this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var id,jd={"%":function(b,a){return(100*b).toFixed(a)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return Math.round(b).toString(10)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},g:function(b,a){return b.toPrecision(a)},o:function(b){return Math.round(b).toString(8)},
p:function(b,a){return fd(100*b,a)},r:fd,s:function(b,a){var c=vb(b,a);if(!c)return b+"";var d=c[0];c=c[1];c=c-(id=3*Math.max(-8,Math.min(8,Math.floor(c/3))))+1;var e=d.length;return c===e?d:c>e?d+Array(c-e+1).join("0"):0<c?d.slice(0,c)+"."+d.slice(c):"0."+Array(1-c).join("0")+vb(b,Math.max(0,a+c-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}},hd="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),Yc,Dc;(function(b){Yc=Af(b);
Dc=Yc.format;return Yc})({decimal:".",thousands:",",grouping:[3],currency:["$",""]});q(cc.prototype,A);q(kd.prototype,A);q(ld.prototype,A);q(md.prototype,A);q(Jb.prototype,A);Jb.prototype._recompute=function(b,a){b.name&&this._differs(a.Icon,a.Icon=Ff(a))&&(b.Icon=!0)};var pd={},Kc={},Mh=od(",").parse,Nh=od("\t").parse;let Mc=new Map,nc=new Map,Lc=new Map,sd=new Map([["gif",dc],["png",dc],["jpeg",dc],["jpg",dc],["csv",function(b){return mc(b).then((a)=>Promise.resolve(Mh(a)))}],["tsv",function(b){return mc(b).then((a)=>
Promise.resolve(Nh(a)))}],["txt",mc],["text",mc],["json",function(b){return fetch(b).then(qd).then((a)=>a.json())}]]);(function(b){1===b.length&&(b=Jf(b));return{left:function(a,c,d,e){null==d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0>b(a[f],c)?d=f+1:e=f}return d},right:function(a,c,d,e){null==d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0<b(a[f],c)?e=f:d=f+1}return d}}})(td);var oc=[235,287,237,982,507,41,176,3,2,112,158,14,442,450,454,513,523,529,930,600,605,736,744,358,
756,936,942,943,366,365,367,484,483,488,489,387,388,399,411,405];q(Nc.prototype,A);var qa={components:[],running:!1,add:function(b){~qa.components.indexOf(b)||(qa.components.push(b),qa.running||(qa.running=!0,requestAnimationFrame(qa.next)))},next:function(){for(var b=window.performance.now(),a=!1,c=qa.components.length;c--;){var d=qa.components[c],e={},h=!1,g;for(g in d._currentTweens){var k=d._currentTweens[g];b>=k.end?(e[g]=k.to,delete d._currentTweens[g],k.fulfil()):(a=h=!0,b>=k.start&&(e[g]=
k.value(k.ease((b-k.start)/k.duration))))}d._tweening=!0;d.set(e);d._tweening=!1;h||qa.components.splice(c,1)}a?requestAnimationFrame(qa.next):qa.running=!1}};q(pc.prototype,A);q(pc.prototype,{tween:function(b,a,c){var d=this;void 0===c&&(c={});if(!this._currentTweens){this._currentTweens=Object.create(null);this._tweening=!1;var e=this.set;this.set=function(a){if(!d._tweening)for(var b in a)d._currentTweens[b]&&d._currentTweens[b].abort();e.call(d,a)}}this._currentTweens[b]&&this._currentTweens[b].abort();
var h=window.performance.now()+(c.delay||0),g=c.duration||400,k=h+g,l={key:b,value:(c.interpolate||Oc)(this.get()[b],a),to:a,start:h,end:k,duration:g,ease:c.easing||Mf,running:!0,abort:function(){l.running=!1;delete d._currentTweens[b]}};this._currentTweens[b]=l;qa.add(this);a=new Promise(function(a){l.fulfil=a});a.abort=l.abort;return a},setScale(b){let {width:a}=this.get();this.set({unit:a/b})},panTo(b,a,c){void 0===c&&(c=1E3);0==c?this.set({gcx:b,gcy:a}):(this.tween("gcx",b,{duration:c,easing:eb}),
this.tween("gcy",a,{duration:c,easing:eb}))},scaleTo(b,a){void 0===a&&(a=1E3);let {width:c}=this.get();this.tween("unit",c/b,{duration:a,easing:eb})},transitionTo(b,a,c,d){void 0===d&&(d=1E3);let {width:e}=this.get();this.tween("unit",e/c,{duration:d,easing:eb});this.tween("gcx",b,{duration:d,easing:eb});this.tween("gcy",a,{duration:d,easing:eb})}});pc.prototype._recompute=function(b,a){(b.width||b.unit)&&this._differs(a.scale,a.scale=Nf(a))&&(b.scale=!0)};q(Pc.prototype,A);q(Da.prototype,A);q(Da.prototype,
{fullscreen(){this.refs.root.webkitRequestFullscreen()},mouseEnter(){this.set({onCanvas:!0})},mouseDown(b){this.set({mouseMoveFunction:this.mouseMove.bind(this),mouseUpFunction:this.mouseUp.bind(this)});let {mouseMoveFunction:a,mouseUpFunction:c}=this.get();b.preventDefault();window.addEventListener("mousemove",a);window.addEventListener("mouseup",c);this.set({mouseMoveMode:"pan"});this.set({mouseDownTimer:Date.now()});this.set({lastRecordedCanvasPos:{x:b.offsetX,y:b.offsetY}});this.set({mouseDownScreenPos:{x:b.screenX,
y:b.screenY}})},mouseMove(b){let {mouseMoveMode:a}=this.get();this.set({lastRecordedCanvasPos:{x:b.offsetX,y:b.offsetY}});if("pan"==a){let {mouseDownScreenPos:a,gcx:d,gcy:e,enableDragToPan:h}=this.get();this.set({mouseDownScreenPos:{x:b.screenX,y:b.screenY}});h&&this.refs.zoom.panTo(this.toPercent(a.x-b.screenX)+d,this.toPercent(a.y-b.screenY)+e,0)}},mouseOut(b){this.set({onCanvas:!1})},mouseUp(b){let {mouseDownTimer:a,scale:c,zoomFactors:d,mouseMoveFunction:e,mouseUpFunction:h,lastRecordedCanvasPos:g,
topLeft:k,gcx:l,gcy:p,enableClickToZoom:t}=this.get();this.set({mouseMoveMode:"hover"});window.removeEventListener("mousemove",e);window.removeEventListener("mouseup",h);var q=Date.now()-a,r=Math.sqrt(Math.pow(b.offsetX-g.x,2)+Math.pow(b.offsetY-g.y,2));if(200>q&&5>r&&t){q=d.in;b.shiftKey&&(q=d.out);var w=.5,A=.5;r=q*c;1<r?(w=this.toPercent(b.offsetX-k.x),b=this.toPercent(b.offsetY-k.y),w-=(w-l)/q,A=b-(b-p)/q):r=1;this.transitionTo(w,A,r,500)}},home(){let {homeX:b,homeY:a,homeScale:c}=this.get();
this.transitionTo(b,a,c,800)},transitionTo(b,a,c,d){this.refs.zoom.transitionTo(b,a,c,d)},zoomit(b){let {scale:a}=this.get();this.refs.zoom.scaleTo(a*b,500)},iconToCanvasPosition(b,a){let {config:c,scaleCountFactor:d,topLeft:e,layerScale:h,currentZoomIndex:g}=this.get();a=d/(g+1);a=Math.sqrt(Math.min(a,b.num_activations)/a);let k=(1-a)*c.icon_size*h/2;return{sx:b.localX*c.icon_size,sy:b.localY*c.icon_size,dx:b.grid_y*c.icon_size*h+e.x+k,dy:b.grid_x*c.icon_size*h+e.y+k,iconWidth:c.icon_size*h*a}},
toPercent(b){let {scale:a,minViewDimInPx:c}=this.get();return b/(a*c)},toPixels(b){let {scale:a,minViewDimInPx:c}=this.get();return b*a*c},clear(){let {viewHeight:b,viewWidth:a,context:c,backgroundColor:d}=this.get();c.globalAlpha=1;c.fillStyle=d;c.clearRect(0,0,a,b);c.fillRect(0,0,a,b)},updateIconHoverImage(){let {currentIconInfo:b,currentZoomIndex:a,iconCrop:c,config:d,showHoverImage:e}=this.get();b&&e&&ub(b.url).then((e)=>{let f=this.refs.hoverImage.getContext("2d"),{sx:h,sy:k}=this.iconToCanvasPosition(b,
a),n=c*d.icon_size/2,t=Math.min(this.refs.hoverImage.height,this.refs.hoverImage.width);f.drawImage(e,k+n,h+n,d.icon_size-2*n,d.icon_size-2*n,0,0,t,t)})},render(){let {minActivations:b,viewHeight:a,viewWidth:c,context:d,config:e,layers:h,currentZoomIndex:g,strokeColor:k,maxAttributionValue:l}=this.get();this.clear();d.imageSmoothingQuality="low";d.imageSmoothingEnabled=!1;e&&h&&h.forEach((e,f)=>{-1<[g].indexOf(f)&&e.forEach((e,g)=>{e.forEach((e,g)=>{if(e.num_activations>=b){let {dx:b,dy:g,iconWidth:h}=
this.iconToCanvasPosition(e,f);if(b>-h&&b<c&&g>-h&&g<a){let {dx:a,dy:b,iconWidth:c}=this.iconToCanvasPosition(e,f);d.globalAlpha=.75;d.strokeStyle=k;d.fillStyle="white";d.beginPath();d.rect(a,b,c,c);d.stroke();d.fill();d.closePath();ub(e.url).then((a)=>{let {currentZoomIndex:b,iconCrop:c,showLabels:g}=this.get();if(b==f){let {labels:b,config:k,classHeatmap:m,classHeatmapMultiplier:n,classHeatmapPositive:p}=this.get();var h=1;-1<m&&(h=e.full_class_indices.indexOf(m),-1<h?(h=e.full_class_values[h]/
l,h*=p,h=Math.max(0,h)*n):h=0);let {sx:q,sy:r,dx:t,dy:v,iconWidth:u}=this.iconToCanvasPosition(e,f);d.globalAlpha=h;h=c*k.icon_size/2;d.clearRect(t+1,v+1,u-2,u-2);d.drawImage(a,r+h,q+h,k.icon_size-2*h,k.icon_size-2*h,t,v,u,u);d.globalAlpha=1;g&&b&&(d.globalAlpha=1,d.font="10px Helvetica",d.fillStyle="rgba(255, 255, 255, 1)",d.fillText(b[e.top_class_indices[0]],t+4,v+u-4,u-8))}})}}})})})}});Da.prototype._recompute=function(b,a){(b.layers||b.layer)&&this._differs(a.maxAttributionValue,a.maxAttributionValue=
Rf(a))&&(b.maxAttributionValue=!0);if(b.viewWidth||b.viewHeight)this._differs(a.aspectRatio,a.aspectRatio=Sf(a))&&(b.aspectRatio=!0),this._differs(a.minViewDimInPx,a.minViewDimInPx=Tf(a))&&(b.minViewDimInPx=!0);(b.gcx||b.gcy||b.scale||b.viewWidth||b.viewHeight||b.minViewDimInPx)&&this._differs(a.topLeft,a.topLeft=Uf(a))&&(b.topLeft=!0);(b.scale||b.gridSize)&&this._differs(a.currentZoomIndex,a.currentZoomIndex=Vf(a))&&(b.currentZoomIndex=!0);(b.currentZoomIndex||b.layers)&&this._differs(a.numIconsWide,
a.numIconsWide=Wf(a))&&(b.numIconsWide=!0);(b.config||b.minViewDimInPx||b.currentZoomIndex||b.scale)&&this._differs(a.iconSizeInPixels,a.iconSizeInPixels=Xf(a))&&(b.iconSizeInPixels=!0);(b.minViewDimInPx||b.config||b.currentZoomIndex||b.scale)&&this._differs(a.layerScale,a.layerScale=Zf(a))&&(b.layerScale=!0);(b.lastRecordedCanvasPos||b.topLeft||b.layerScale||b.config)&&this._differs(a.gridSelected,a.gridSelected=$f(a))&&(b.gridSelected=!0);(b.layers||b.currentZoomIndex||b.gridSelected||b.classHeatmap)&&
this._differs(a.currentIconInfo,a.currentIconInfo=bg(a))&&(b.currentIconInfo=!0);(b.mouseMoveMode||b.onCanvas||b.currentIconInfo||b.enableHover)&&this._differs(a.showHoverIcon,a.showHoverIcon=Yf(a))&&(b.showHoverIcon=!0);(b.config||b.layerScale||b.topLeft||b.gridSelected)&&this._differs(a.topLeftCornerHover,a.topLeftCornerHover=ag(a))&&(b.topLeftCornerHover=!0)};q(ra.prototype,A);q(ra.prototype,{mouseUp(){let {}=this.get();this.set({dragging:!1})},mouseDown(b){let {enableDragging:a}=this.get();a&&
(b.preventDefault(),this.set({dragging:!0,startPos:{x:b.screenX,y:b.screenY}}))},mouseMove(b){let {dragging:a,startPos:c,scale:d,width:e,aspectRatio:h,height:g,left:k,top:l}=this.get();a&&(this.set({gcx:(b.screenX-c.x+k)/e+1/d*h/2,gcy:(b.screenY-c.y+l)/g+1/d/2}),this.set({startPos:{x:b.screenX,y:b.screenY}}))}});ra.prototype._recompute=function(b,a){b.scale&&this._differs(a.h,a.h=fg(a))&&(b.h=!0);(b.scale||b.aspectRatio)&&this._differs(a.w,a.w=gg(a))&&(b.w=!0);(b.gcx||b.w||b.width)&&this._differs(a.l,
a.l=hg(a))&&(b.l=!0);(b.gcy||b.h||b.height||b.aspectRatio)&&this._differs(a.t,a.t=ig(a))&&(b.t=!0);(b.l||b.w)&&this._differs(a.r,a.r=jg(a))&&(b.r=!0);(b.t||b.h)&&this._differs(a.b,a.b=kg(a))&&(b.b=!0);(b.l||b.width||b.gcx||b.gcy||b.scale||b.aspectRatio||b.w||b.r)&&this._differs(a.left,a.left=lg(a))&&(b.left=!0);(b.r||b.width)&&this._differs(a.right,a.right=mg(a))&&(b.right=!0);(b.t||b.height)&&this._differs(a.top,a.top=ng(a))&&(b.top=!0);(b.b||b.height)&&this._differs(a.bottom,a.bottom=og(a))&&(b.bottom=
!0)};q(qc.prototype,A);qc.prototype._recompute=function(b,a){b.clientWidth&&this._differs(a.width,a.width=qg(a))&&(b.width=!0);(b.width||b.aspectRatio)&&this._differs(a.height,a.height=rg(a))&&(b.height=!0)};q(Ed.prototype,A);var Oh={destroy:Fd,get:function(b){return b?this._state[b]:this._state},fire:function(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1)b[c].call(this,a)},observe:function(b,a,c){var d=c&&c.defer?this._observers.post:this._observers.pre;(d[b]||
(d[b]=[])).push(a);c&&!1===c.init||(a.__calling=!0,a.call(this,this._state[b]),a.__calling=!1);return{cancel:function(){var c=d[b].indexOf(a);~c&&d[b].splice(c,1)}}},on:function(b,a){if("teardown"===b)return this.on("destroy",a);var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}},set:function(b){this._set(rc({},b));this.root._lock||(this.root._lock=!0,sc(this.root._beforecreate),sc(this.root._oncreate),sc(this.root._aftercreate),
this.root._lock=!1)},teardown:Fd,_recompute:Qc,_set:function(b){var a=this._state,c={},d=!1,e;for(e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=rc({},a,b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(Gd(this,this._observers.pre,c,this._state,a),this._fragment.p(c,this._state),Gd(this,this._observers.post,c,this._state,a)))},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_unmount:function(){this._fragment&&this._fragment.u()},
_differs:function(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}};let Rc=new Map;rc(Hd.prototype,{draw(){if(this.refs.canvas){let b=this.refs.canvas.getContext("2d"),{img:a,index:c,width:d,realHeight:e,columns:h,loaded:g}=this.get();b.clearRect(0,0,d,e);let k=Array.isArray(c)?c[0]*d:c%h*d,l=Array.isArray(c)?c[1]*e:Math.floor(c/h)*e;g?b.drawImage(a,k,l,d,e,0,0,d,e):(b.fillStyle="#ccc",b.fillRect(0,0,d,e),b.fillStyle="#eee",b.textAlign="center",b.font="16px sans-serif",
b.fillText("...",d/2,e/2))}}},Oh);Hd.prototype._recompute=function(b,a){(b.width||b.height)&&this._differs(a.realHeight,a.realHeight=ug(a.width,a.height))&&(b.realHeight=!0)};var Kd={},Sc={},Ph=Jd(",").parse,Qh=Jd("\t").parse;let Uc=new Map,wc=new Map,Tc=new Map,Nd=new Map([["gif",tc],["png",tc],["jpeg",tc],["jpg",tc],["csv",function(b){return uc(b).then((a)=>Promise.resolve(Ph(a)))}],["tsv",function(b){return uc(b).then((a)=>Promise.resolve(Qh(a)))}],["txt",uc],["text",uc],["json",function(b){return fetch(b).then(Ld).then((a)=>
a.json())}]]);q(ua.prototype,A);q(ua.prototype,{render(){let {gridSize:b,icons:a,classHeatmap:c}=this.get(),d=this.refs.canvas.getContext("2d"),e=d.getImageData(0,0,b,b),h=e.data;for(let d of a){var g=.5;-1<c&&(g=oc.indexOf(c),g=Math.max(.05,5*Math.max(0,d.f[g])));h[d.x*b*4+4*d.y+3]=d.n*g}d.putImageData(e,0,0)}});ua.prototype._recompute=function(b,a){b.clientWidth&&this._differs(a.height,a.height=zg(a))&&(b.height=!0);(b.model||b.layerName)&&this._differs(a.id,a.id=Ag(a))&&(b.id=!0)};q(Qd.prototype,
A);q(Vc.prototype,A);Vc.prototype._recompute=function(b,a){b.inceptionLabels&&this._differs(a.labels,a.labels=Fg(a))&&(b.labels=!0)};q(yc.prototype,A);var Eb=Dc(".3f");q(ob.prototype,A);ob.prototype._recompute=function(b,a){b.gridSize&&this._differs(a.realGridSize,a.realGridSize=Ig(a))&&(b.realGridSize=!0);(b.iconScaleFactor||b.realGridSize)&&this._differs(a.scaleCountFactor,a.scaleCountFactor=Jg(a))&&(b.scaleCountFactor=!0)};q(ea.prototype,A);q(Yd.prototype,A);q(Zd.prototype,A);q($d.prototype,A);
q(tb.prototype,A);tb.prototype._recompute=function(b,a){b.gridSize&&this._differs(a.ticks,a.ticks=Pg(a))&&(b.ticks=!0);(b.root||b.classFilter||b.gridSize)&&this._differs(a.src,a.src=Qg(a))&&(b.src=!0)};q(ge.prototype,A);q(zc.prototype,A);zc.prototype._recompute=function(b,a){if(b.$classComparisons||b.classComparisonIndex)this._differs(a.leftIndex,a.leftIndex=Tg(a))&&(b.leftIndex=!0),this._differs(a.rightIndex,a.rightIndex=Ug(a))&&(b.rightIndex=!0)};q(Cb.prototype,A);Cb.prototype._recompute=function(b,
a){b.width&&this._differs(a.height,a.height=Wg(a))&&(b.height=!0);(b.width||b.margin)&&this._differs(a.outerWidth,a.outerWidth=Xg(a))&&(b.outerWidth=!0);(b.height||b.margin)&&this._differs(a.outerHeight,a.outerHeight=Yg(a))&&(b.outerHeight=!0);b.width&&this._differs(a.cellWidth,a.cellWidth=Zg(a))&&(b.cellWidth=!0);(b.currentClassComparisonIndex||b.$classComparisons)&&this._differs(a.comparison,a.comparison=$g(a))&&(b.comparison=!0)};var we=Dc(".1f");q(Ac.prototype,A);q(xe.prototype,A);q(ye.prototype,
A);var Le=Dc(" .5f");q(Wc.prototype,A);Wc.prototype._recompute=function(b,a){(b.inputWidth||b.columnWidth||b.columnMargin)&&this._differs(a.width,a.width=eh(a))&&(b.width=!0);b.inputWidth&&this._differs(a.height,a.height=fh(a))&&(b.height=!0);(b.timerCount||b.numCells)&&this._differs(a.clippedCount,a.clippedCount=gh(a))&&(b.clippedCount=!0);if(b.clippedCount||b.numCells)this._differs(a.windowX,a.windowX=hh(a))&&(b.windowX=!0),this._differs(a.windowY,a.windowY=ih(a))&&(b.windowY=!0);(b.inputWidth||
b.numCells||b.cellPadding)&&this._differs(a.cellWidth,a.cellWidth=jh(a))&&(b.cellWidth=!0);(b.numCells||b.windowSize)&&this._differs(a.numInputCells,a.numInputCells=kh(a))&&(b.numInputCells=!0);(b.inputWidth||b.numInputCells||b.cellPadding)&&this._differs(a.inputCellWidth,a.inputCellWidth=lh(a))&&(b.inputCellWidth=!0);b.numCells&&this._differs(a.activations,a.activations=mh(a))&&(b.activations=!0)};q(Xc.prototype,A);Xc.prototype._recompute=function(b,a){(b.width||b.columnPadding)&&this._differs(a.columnWidth,
a.columnWidth=oh(a))&&(b.columnWidth=!0);(b.columnWidth||b.inputPadding)&&this._differs(a.inputWidth,a.inputWidth=ph(a))&&(b.inputWidth=!0);(b.inputWidth||b.numCells||b.cellPadding)&&this._differs(a.cellWidth,a.cellWidth=qh(a))&&(b.cellWidth=!0);(b.columnWidth||b.numIcons)&&this._differs(a.iconWidth,a.iconWidth=rh(a))&&(b.iconWidth=!0)};q(cf.prototype,A);q(hb.prototype,A);q(Bc.prototype,A);q(Bc.prototype,{render(){let {icon:b,config:a,width:c,height:d,iconCrop:e}=this.get(),h=this.refs.canvas.getContext("2d");
h.clearRect(0,0,c,d);if(b){let f=e*a.icon_size/2;vc(b.url).then((e)=>{h.drawImage(e,b.localY*a.icon_size+f,b.localX*a.icon_size+f,a.icon_size-2*f,a.icon_size-2*f,0,0,c,d)})}}});Bc.prototype._recompute=function(b,a){b.width&&this._differs(a.height,a.height=wh(a))&&(b.height=!0)};q(Cc.prototype,A);q(Cc.prototype,{drawArrow(){let {arrow:b,width:a,color:c,arrowHeight:d}=this.get(),e=d/2;b.clearRect(0,0,a,d);b.lineWidth=2;b.strokeStyle=c;b.fillStyle=c;b.beginPath();b.moveTo(2,e);b.lineTo(a,e);b.stroke();
b.beginPath();b.arc(4,e,4,0,2*Math.PI);b.fill();b.beginPath();b.moveTo(a,e);b.lineTo(a-10,e-5);b.lineTo(a-10,e+5);b.fill()},render(){let {pointList:b}=this.get();if(b){let a={},c=[];b.forEach((b)=>{b=this.getIconData({x:b[0],y:b[1]});b!=a&&c.push(b);a=b});this.set({imgList:c});console.log(c)}},getIconData(b){let {layers:a,pathZoomIndex:c}=this.get();if(a&&a[c]){var d=Math.floor(b.x*a[c].length);b=Math.floor(b.y*a[c].length);if(a[c][b]&&a[c][b][d]&&0<a[c][b][d].num_activations)return a[c][b][d]}}});
Cc.prototype._recompute=function(b,a){b.layers&&this._differs(a.pathZoomIndex,a.pathZoomIndex=yh(a))&&(b.pathZoomIndex=!0)};q(ib.prototype,A);ib.prototype._recompute=function(b,a){b.pointList&&this._differs(a.numIcons,a.numIcons=Bh(a))&&(b.numIcons=!0);(b.viewWidth||b.viewHeight)&&this._differs(a.edgeLength,a.edgeLength=Ch(a))&&(b.edgeLength=!0);(b.viewWidth||b.viewHeight||b.edgeLength)&&this._differs(a.topLeft,a.topLeft=Dh(a))&&(b.topLeft=!0);(b.pointList||b.topLeft||b.edgeLength)&&this._differs(a.path_d,
a.path_d=Eh(a))&&(b.path_d=!0)};q(Va.prototype,A);q(gf.prototype,A);q(bb.prototype,A);q(hf.prototype,A);q(jf.prototype,A);q(kf.prototype,A);class Rh extends cd{}let C=new Rh({inceptionLabels:xc.inception,currentClass:62,classChoices:[9,622,780,665,652,322,288,233,225,188,169,80,76,62,61,7,355,990,897,746,791],currentClassComparisonIndex:0,classComparisons:[{id:"507_982",leftLabel:"snorkel",rightLabel:"scuba diver",left:507,right:982,annotation:[{pos:{x:2,y:7},desc:"shark-like"}]},{id:"736_744",leftLabel:"head cabbage",
rightLabel:"artichoke",left:736,right:744,annotation:[]},{id:"671_672",leftLabel:"frying pan",rightLabel:"wok",left:671,right:672,annotation:[{pos:{x:1,y:7},desc:"noodles"}]},{id:"777_831",leftLabel:"beer bottle",rightLabel:"wine bottle",left:777,right:831,annotation:[]},{id:"543_544",leftLabel:"computer keyboard",rightLabel:"typewriter keyboard",left:543,right:544,annotation:[]},{id:"28_205",leftLabel:"red wolf",rightLabel:"timber wolf",left:28,right:205,annotation:[]},{id:"67_62",leftLabel:"grey fox",
rightLabel:"red fox",left:67,right:62,annotation:[]},{id:"1_62",leftLabel:"kit fox",rightLabel:"red fox",left:1,right:62,annotation:[]},{id:"6_442",leftLabel:xc.inception[6],rightLabel:xc.inception[442],left:6,right:442,annotation:[{pos:{x:2,y:7},desc:"baseball?"}]}],focus3Highlights:[{homeX:.873,homeY:.415,homeScale:10},{homeX:.66,homeY:.405,homeScale:10},{homeX:.208,homeY:.16,homeScale:10},{homeX:.807,homeY:.333,homeScale:10}],pois:{mammals:{layerName:"mixed4a",gridSize:2,gcx:.3705,gcy:.9475,scale:8},
dogs:{layerName:"mixed5b",gridSize:3,gcx:.678,gcy:.931,scale:8},curves:{layerName:"mixed4b",gridSize:3,gcx:.5947,gcy:.3351,scale:14},cups:{layerName:"mixed5b",gridSize:3,gcx:.35073,gcy:.138,scale:10},patterns:{layerName:"mixed4b",gridSize:3,gcx:.91579,gcy:.32406,scale:8},text:{layerName:"mixed5a",gridSize:3,gcx:.5281,gcy:.0234,scale:19},fabric:{layerName:"mixed4b",gridSize:3,gcx:.489,gcy:.2043,scale:12},clothing:{layerName:"mixed5a",gridSize:3,gcx:.74955,gcy:.5058,scale:13}}});window.store=C;let lf=
document.querySelector("#cover");lf.addEventListener("ready",(b)=>{new ob({target:lf,store:C,data:{layerName:"mixed4c"}})});let Sh=document.querySelectorAll("[data-notebook-url]");for(let b of Sh){let a=b.getAttribute("data-notebook-url");new kb({target:b,data:{url:a}})}new Yd({target:document.querySelector("#overview")});new Zd({target:document.querySelector("#model-overview")});new $d({target:document.querySelector("#grid-detail")});new T({target:document.querySelector("#activation-grid"),data:{aspectRatio:3.5,
component:Wc}});new T({target:document.querySelector("#process"),data:{aspectRatio:2.1,component:Xc}});new T({store:C,target:document.querySelector("#one-layer"),data:{aspectRatio:1,component:cf}});new T({target:document.querySelector("#layer-annotation-1"),store:C,data:{aspectRatio:3,component:hb,componentData:{homeX:.306,homeY:.035}}});new T({target:document.querySelector("#layer-annotation-2"),store:C,data:{aspectRatio:3,component:hb,componentData:{homeX:.309,homeY:.173}}});new T({target:document.querySelector("#layer-annotation-3"),
store:C,data:{aspectRatio:3,component:hb,componentData:{homeX:.335,homeY:.353,gridSize:3,homeScale:32}}});new T({target:document.querySelector("#layer-annotation-4"),store:C,data:{component:hb,aspectRatio:3,componentData:{homeX:.33,homeY:.666}}});new T({target:document.querySelector("#layer-annotation-5"),store:C,data:{aspectRatio:3,component:hb,componentData:{homeX:.281,homeY:.761}}});new T({target:document.querySelector("#layer-annotation-6"),store:C,data:{aspectRatio:3,component:hb,componentData:{homeX:.944,
homeY:.51}}});new T({target:document.querySelector("#layer-annotation-7"),store:C,data:{aspectRatio:3,component:hb,componentData:{homeX:.837,homeY:.239}}});new T({target:document.querySelector("#layer-annotation-8"),store:C,data:{aspectRatio:3,component:hb,componentData:{homeX:.594,homeY:.223}}});new T({target:document.querySelector("#show-a-path-0"),store:C,data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.161,.38610000610351564],[.161,.39373501368931363],[.161,.4013700212751116],
[.161,.40900500161307196],[.161,.41664000919886995],[.161,.42427498953683035],[.161,.43190999712262834],[.161,.43954500470842633],[.161,.4471800122942243],[.161,.4548149926321847],[.161,.46244997297014506],[.161,.47008498055594305],[.161,.47771998814174105],[.161,.48535499572753904],[.161,.49299000331333703],[.161,.500625010899135],[.161,.5082600184849331],[.161,.5158949715750558],[.161,.5235299791608538],[.161,.5311649867466518]]}}});new T({target:document.querySelector("#show-a-path-1"),store:C,
data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.877770015171596,.35276998792375835],[.8758255004882812,.3431870596749442],[.8738809858049665,.3336041041782924],[.871936525617327,.3240211486816406],[.8699920109340122,.31443819318498883],[.8680474962506975,.30485523768833706],[.8661029815673829,.2952722821916853],[.8641585213797432,.2856893266950335],[.8622140066964286,.2761063711983817],[.8602694920131139,.26652344294956754],[.8583249773297991,.25694048745291576],
[.8563805171421596,.24735755920410157],[.8544360024588449,.23777460370744977],[.8524914877755302,.228191648210798],[.8505469730922154,.2186086927141462],[.8486025129045759,.20902573721749443],[.8466579982212612,.19944279534476145],[.8447134835379464,.18985985347202847],[.8427689688546317,.1802768979753767],[.8408245086669922,.17069394247872488]]}}});new T({target:document.querySelector("#show-a-path-2"),store:C,data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.275,
.775],[.2794630323137556,.7651796068464006],[.2839260646275112,.7553592136928013],[.28838912418910434,.7455388205392021],[.29285215650285995,.7357184273856027],[.2973151888166155,.7258980342320034],[.3017782483782087,.716077641078404],[.3040830067225865,.7056094578334263],[.30576556069510324,.6949544634137835],[.30744808741978236,.6842995234898158],[.3091306413922991,.6736445835658482],[.31081319536481583,.6629896436418806],[.31111000605991906,.6522259303501674],[.31111000605991906,.641438947405134],
[.31111000605991906,.6306520189557757],[.31111000605991906,.6198650360107422],[.31111000605991906,.6090780530657087],[.3058485576084682,.5997803279331753],[.3001950400216239,.5905935559953962],[.2945415224347796,.5814067840576171]]}}});new T({target:document.querySelector("#show-a-path-3"),store:C,data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.61,.13],[.609,.132],[.607,.139],[.606,.141],[.605,.145],[.603,.151],[.6,.158],[.597,.164],[.596,.169],[.594,.175],[.593,
.177],[.592,.183],[.589,.188],[.587,.191],[.585,.195],[.582,.2],[.581,.204],[.579,.208],[.578,.213],[.577,.219]]}}});new T({target:document.querySelector("#abacus-0"),store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed3b",homeX:.8086,homeY:.4295,gridSize:3,homeScale:48}}});new T({target:document.querySelector("#abacus-1"),store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed4c",homeX:.8593,homeY:.5814}}});new T({target:document.querySelector("#abacus-2"),
store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed5b",homeX:.8183,homeY:.2047,gridSize:4,homeScale:96}}});new T({target:document.querySelector("#plant-0"),store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed3b",homeX:.3222,homeY:.6352,gridSize:3,homeScale:48}}});new T({target:document.querySelector("#plant-1"),store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed4c",homeX:.146,homeY:.392}}});new T({target:document.querySelector("#plant-2"),
store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed5b",homeX:.1668,homeY:.2833,gridSize:4,homeScale:96}}});new T({target:document.querySelector("#water-0"),store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed4c",homeX:.365,homeY:.673}}});new T({target:document.querySelector("#water-1"),store:C,data:{aspectRatio:.75,component:Va,componentData:{layerName:"mixed4c",homeX:.318,homeY:.764}}});new T({target:document.querySelector("#water-2"),store:C,data:{aspectRatio:.75,
component:Va,componentData:{layerName:"mixed5b",homeX:.74,homeY:.534,gridSize:4,homeScale:96}}});let mf=new ob({target:document.querySelector("#all-layer-comparison"),store:C,data:{showClassFilter:!1}}),Th=document.querySelectorAll("[data-poi]");for(let b of Th){let a=b.getAttribute("data-poi"),{pois:c}=C.get();b.addEventListener("click",(b)=>{b.preventDefault();mf.set({layerName:c[a].layerName});mf.set(c[a])})}new T({target:document.querySelector("#focus-1"),store:C,data:{aspectRatio:2,component:gf}});
new T({target:document.querySelector("#focus-2"),store:C,data:{aspectRatio:2,component:hf}});new T({target:document.querySelector("#focus-3"),store:C,data:{aspectRatio:2,component:jf}});new T({target:document.querySelector("#focus-3-table"),store:C,data:{aspectRatio:1,component:kf}});new ob({target:document.querySelector("#focus-playground"),store:C,classHeatmap:235});new ge({target:document.querySelector("#class-subset"),store:C});new zc({target:document.querySelector("#class-comparison-1"),store:C,
data:{showControls:!1,classComparisonIndex:6}});new zc({target:document.querySelector("#class-comparison-2"),store:C,data:{showControls:!1,classComparisonIndex:0}});new Cb({target:document.querySelector("#class-gradient-snorkel"),store:C,data:{currentClassComparisonIndex:0}});new Cb({target:document.querySelector("#class-gradient-frying-pan"),store:C,data:{currentClassComparisonIndex:2}});new Cb({target:document.querySelector("#class-gradient-shark"),store:C,data:{currentClassComparisonIndex:8}});
new Ac({target:document.querySelector("#snorkel-scuba-diver"),store:C,data:{aspectRatio:480/360,left:"snorkel",right:"scuba diver",classifications:[{image:"assets/images/snorkel-06.png",caption:"Image from ImageNet labeled as \u201csnorkel\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["snorkel",34.33],["scuba diver",28.16],["coral reef",12.43],["loggerhead",11.11],["lionfish",3.84],["sea snake",2.19]]},{image:"assets/images/teethshark-07.png",caption:"By adding a picture of one of the concepts seen in the visualization above we can change the classification. With an added picture of a \u201cshark\u201d (also from ImageNet) the confidence of \u201cscuba diver\u201d classification rises and \u201csnorkel\u201d drops significantly.",
rows:[["scuba diver",50.3],["coral reef",22.44],["tiger shark",9.08],["snorkel",3.92],["lionfish",2.38],["loggerhead",2.12]]},{image:"assets/images/teethshark-05.png",caption:"As the picture of the shark gets bigger, the classification for \u201cgreat white shark\u201d increases, but the relative changes in confidence of \u201csnorkel\u201d and \u201cscuba diver\u201d remain.",rows:[["great white shark",81.73],["tiger shark",15.3],["scuba diver",1.62],["loggerhead",.3],["coho",.29],["snorkel",.15]]}]}});
new Ac({target:document.querySelector("#frying-pan-wok"),store:C,data:{left:"frying pan",right:"wok",aspectRatio:806/608,classifications:[{image:"assets/images/fry-06.png",caption:"Image from ImageNet labeled as \u201cfrying pan\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["frying pan",34.62],["stove",16.33],["strainer",11.04],["wok",9.72],["caldron",8.79],["Dutch oven",6.02]]},{image:"assets/images/fry-noodles-14.png",caption:"By adding a picture of some noodles, also from ImageNet, we can see the top classification change from \u201cfrying pan\u201d to \u201cwok.\u201d",
rows:[["wok",48.3],["frying pan",18.64],["strainer",14.03],["ladle",4.4],["stove",2.77],["caldron",2.6]]},{image:"assets/images/fry-10.png",caption:"As we make the picture of noodles larger, its influence overpowers the other classifications, but \u201cwok\u201d remains ranked above \u201cfrying pan\u201d.",rows:[["carbonara",87.79],["strainer",8.16],["wok",1.67],["ladle",.45],["frying pan",.37],["French horn",.27]]}]}});new Ac({target:document.querySelector("#shark-grey-whale"),store:C,data:{left:"great white shark",
right:"grey whale",aspectRatio:996/656,classifications:[{image:"assets/images/whale-03.jpg",caption:"",rows:[["grey whale",78.39],["killer whale",20.97],["great white shark",.34],["gar",.13],["sea lion",.09],["tiger shark",.02]]},{image:"assets/images/whale-06.jpg",caption:"",rows:[["great white shark",34.35],["rugby ball",23.55],["grey whale",12.91],["baseball",10.89],["killer whale",7.7],["ping - pong ball",3.42]]},{image:"assets/images/whale-05.jpg",caption:"",rows:[["baseball",31.13],["ping-pong ball",
22.93],["great white shark",14.01],["grey whale",8.11],["rugby ball",7.34],["killer whale",6.06]]}]}});new xe({target:document.querySelector("#samples")});new ye({target:document.querySelector("#class-grids")})})();
//# sourceMappingURL=main.min.js.map
