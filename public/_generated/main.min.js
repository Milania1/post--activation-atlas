'use strict';(function(){function W(){}function r(b,a){for(var c in a)b[c]=a[c];return b}function ma(b,a){for(var c in a)b[c]=1;return b}function C(b){b.parentNode.removeChild(b)}function Gd(b,a){for(;b.nextSibling&&b.nextSibling!==a;)b.parentNode.removeChild(b.nextSibling)}function Pc(b){for(;b.nextSibling;)b.parentNode.removeChild(b.nextSibling)}function hb(b,a){for(;b.firstChild;)a.appendChild(b.firstChild)}function ca(b,a){for(var c=0;c<b.length;c+=1)b[c]&&b[c].d(a)}function X(){return document.createDocumentFragment()}
function m(b){return document.createElement(b)}function p(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function k(b){return document.createTextNode(b)}function la(){return document.createComment("")}function e(b,a,c){null==c?b.removeAttribute(a):b.setAttribute(a,c)}function Xa(b,a,c){b.setAttributeNS("http://www.w3.org/1999/xlink",a,c)}function Qc(b){return""===b?void 0:+b}function ba(b,a){b.data=""+a}function t(b,a,c){b.style.setProperty(a,c)}function Ra(b,a){"static"===getComputedStyle(b).position&&
(b.style.position="relative");let c=document.createElement("object");c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");c.type="text/html";let d;c.onload=()=>{d=c.contentDocument.defaultView;d.addEventListener("resize",a)};/Trident/.test(navigator.userAgent)?(b.appendChild(c),c.data="about:blank"):(c.data="about:blank",b.appendChild(c));return{cancel:()=>{d&&d.removeEventListener&&d.removeEventListener("resize",
a);b.removeChild(c)}}}function Hd(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}function fh(b,a){return b!=b?a==a:b!==a}function Id(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1){var d=b[c];if(!d.__calling)try{d.__calling=!0,d.call(this,a)}finally{d.__calling=!1}}}function F(b){b._lock=!0;Rc(b._beforecreate);Rc(b._oncreate);Rc(b._aftercreate);b._lock=!1}function Jd(){return this._state}function B(b,a){b._handlers=Object.create(null);
b._slots=Object.create(null);b._bind=a._bind;b._staged={};b.options=a;b.root=a.root||b;b.store=a.store||b.root.store;a.root||(b._beforecreate=[],b._oncreate=[],b._aftercreate=[])}function Kd(b,a){var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}}function Rc(b){for(;b&&b.length;)b.shift()()}function Ga(){this.store._remove(this)}function Ld(b,a){this._handlers={};this._dependents=[];this._computed=Object.create(null);this._sortedComputedProperties=
[];this._state=r({},b);this._differs=a&&a.immutable?fh:Hd}function gh({x:b,width:a,y:c,clientHeight:d,visible:f}){if(!1===f)return"visibility: hidden;";{f=document.documentElement.scrollLeft;let l=document.documentElement.scrollTop,g=document.documentElement.clientWidth-a;d=document.documentElement.clientHeight-d;let h=Math.min(b,g),n=Math.min(c,d);b>=g&&c>=d&&(h=b-a);return`width: ${a}px; top: ${n+l}px; left: ${h+f}px;`}}function hh(b,a){function c(a){b.mousemove(a)}function d(a){b.hide()}function f(){b.set({clientHeight:g.clientHeight})}
var l,g,h;document.addEventListener("mousemove",c);document.addEventListener("scroll",d);var n=a.component&&Md(b,a);return{c(){l=k("\n\n");g=m("div");n&&n.c();b.root._beforecreate.push(f);g.style.cssText=a.style;g.className="svelte-14z2oof svelte-ref-root"},m(a,c){a.insertBefore(l,c);a.insertBefore(g,c);n&&n.m(g,null);h=Ra(g,f);b.refs.root=g},p(a,c){c.component?n?n.p(a,c):(n=Md(b,c),n.c(),n.m(g,null)):n&&(n.d(1),n=null);a.style&&(g.style.cssText=c.style)},d(a){document.removeEventListener("mousemove",
c);document.removeEventListener("scroll",d);a&&(C(l),C(g));n&&n.d();h.cancel();b.refs.root===g&&(b.refs.root=null)}}}function Md(b,a){var c,d=a.component;if(d)var f=new d({root:b.root,store:b.store});return{c(){f&&f._fragment.c();c=la()},m(a,d){f&&(f._mount(a,d),b.refs.component=f);a.insertBefore(c,d)},p(a,g){d!==(d=g.component)&&(f&&f.destroy(),d?(f=new d({root:b.root,store:b.store}),f._fragment.c(),f._mount(c.parentNode,c),b.refs.component=f):(f=null,b.refs.component===f&&(b.refs.component=null)))},
d(a){a&&C(c);f&&f.destroy(a)}}}function Lb(b){B(this,b);this.refs={};this._state=r({visible:!1,width:150,component:null},b.data);this._recompute({x:1,width:1,y:1,clientHeight:1,visible:1},this._state);this._intro=!0;this._fragment=hh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Eb(b,a){if(0>(a=(b=a?b.toExponential(a-1):b.toExponential()).indexOf("e")))return null;var c=b.slice(0,a);return[1<c.length?c[0]+c.slice(2):c,+b.slice(a+1)]}function ih(b){return b=
Eb(Math.abs(b)),b?b[1]:NaN}function jh(b,a){return function(c,d){for(var f=c.length,l=[],g=0,h=b[0],n=0;0<f&&0<h;){n+h+1>d&&(h=Math.max(1,d-n));l.push(c.substring(f-=h,f+h));if((n+=h+1)>d)break;h=b[g=(g+1)%b.length]}return l.reverse().join(a)}}function kh(b){return function(a){return a.replace(/[0-9]/g,function(a){return b[+a]})}}function Sc(b){return new Tc(b)}function Tc(b){if(!(a=lh.exec(b)))throw Error("invalid format: "+b);var a;this.fill=a[1]||" ";this.align=a[2]||">";this.sign=a[3]||"-";this.symbol=
a[4]||"";this.zero=!!a[5];this.width=a[6]&&+a[6];this.comma=!!a[7];this.precision=a[8]&&+a[8].slice(1);this.trim=!!a[9];this.type=a[10]||""}function Nd(b,a){a=Eb(b,a);if(!a)return b+"";b=a[0];a=a[1];return 0>a?"0."+Array(-a).join("0")+b:b.length>a+1?b.slice(0,a+1)+"."+b.slice(a+1):b+Array(a-b.length+2).join("0")}function Od(b){return b}function mh(b){function a(a){function b(a){var b=G,d=t,g,n;if("c"===k)d=E(a)+d,a="";else{a=+a;var u=0>a;a=E(Math.abs(a),w);if(m){var v=a.length,q=1,J=-1;a:for(;q<v;++q)switch(a[q]){case ".":J=
g=q;break;case "0":0===J&&(J=q);g=q;break;default:if(0<J){if(!+a[q])break a;J=0}}a=0<J?a.slice(0,J)+a.slice(g+1):a}u&&0===+a&&(u=!1);b=(u?"("===x?x:"-":"-"===x||"("===x?"":x)+b;d=("s"===k?Pd[8+Qd/3]:"")+d+(u&&"("===x?")":"");if(p)for(u=-1,g=a.length;++u<g;)if(n=a.charCodeAt(u),48>n||57<n){d=(46===n?f+a.slice(u+1):a.slice(u))+d;a=a.slice(0,u);break}}z&&!ka&&(a=c(a,Infinity));n=b.length+a.length+d.length;u=n<y?Array(y-n+1).join(h):"";z&&ka&&(a=c(u+a,u.length?y-d.length:Infinity),u="");switch(e){case "<":a=
b+a+d+u;break;case "=":a=b+u+a+d;break;case "^":a=u.slice(0,n=u.length>>1)+b+a+d+u.slice(n);break;default:a=u+b+a+d}return l(a)}a=Sc(a);var h=a.fill,e=a.align,x=a.sign,q=a.symbol,ka=a.zero,y=a.width,z=a.comma,w=a.precision,m=a.trim,k=a.type;"n"===k?(z=!0,k="g"):Rd[k]||(null==w&&(w=12),m=!0,k="g");if(ka||"0"===h&&"="===e)ka=!0,h="0",e="=";var G="$"===q?d[0]:"#"===q&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",t="$"===q?d[1]:/[%p]/.test(k)?g:"",E=Rd[k],p=/[defgprs%]/.test(k);w=null==w?6:/[gprs]/.test(k)?
Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));b.toString=function(){return a+""};return b}var c=b.grouping&&b.thousands?jh(b.grouping,b.thousands):Od,d=b.currency,f=b.decimal,l=b.numerals?kh(b.numerals):Od,g=b.percent||"%";return{format:a,formatPrefix:function(b,c){var d=a((b=Sc(b),b.type="f",b));b=3*Math.max(-8,Math.min(8,Math.floor(ih(c)/3)));var f=Math.pow(10,-b),g=Pd[8+b/3];return function(a){return d(f*a)+g}}}}function Sd(b,a,c){b=Object.create(b);b.top=a[c];b.i=c;return b}function nh(b,
a){var c,d,f,l,g,h=Td(a.num_activations),n,e,v=a.top_class_indices&&Ud(b,a);return{c(){c=m("div");d=m("table");v&&v.c();f=k("\n  ");l=m("div");g=k("Average of ");n=k(h);e=k(" activations");d.className="svelte-1qbcldy";t(l,"font-size","10px");t(l,"margin-top","4px");t(l,"color","#999");t(l,"text-align","right");c.className="hover svelte-1qbcldy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);v&&v.m(d,null);c.appendChild(f);c.appendChild(l);l.appendChild(g);l.appendChild(n);l.appendChild(e)},p(a,c){c.top_class_indices?
v?v.p(a,c):(v=Ud(b,c),v.c(),v.m(d,null)):v&&(v.d(1),v=null);a.num_activations&&h!==(h=Td(c.num_activations))&&ba(n,h)},d(a){a&&C(c);v&&v.d()}}}function Ud(b,a){for(var c,d=a.top_class_indices.slice(0,5),f=[],l=0;l<d.length;l+=1)f[l]=Vd(b,Sd(a,d,l));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=la()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,l){if(a.top_class_values||a.$inceptionLabels||a.top_class_indices){d=l.top_class_indices.slice(0,5);for(var g=0;g<d.length;g+=
1){let h=Sd(l,d,g);f[g]?f[g].p(a,h):(f[g]=Vd(b,h),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ca(f,a);a&&C(c)}}}function Vd(b,a){var c,d,f=a.i+1,l,g,h,n,e=a.$inceptionLabels[a.top],v,x,q,ka=Wd(a.top_class_values[a.i]),y;return{c(){c=m("tr");d=m("td");l=k(f);g=k(".");h=k("\n        ");n=m("td");v=k(e);x=k("\n        ");q=m("td");y=k(ka);t(d,"width","10px");t(d,"text-align","right");t(d,"padding-right","4px");d.className="svelte-1qbcldy";n.className=(0==
a.i?"first":"")+" svelte-1qbcldy";t(q,"text-align","right");q.className="svelte-1qbcldy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(l);d.appendChild(g);c.appendChild(h);c.appendChild(n);n.appendChild(v);c.appendChild(x);c.appendChild(q);q.appendChild(y)},p(a,b){(a.$inceptionLabels||a.top_class_indices)&&e!==(e=b.$inceptionLabels[b.top])&&ba(v,e);a.top_class_values&&ka!==(ka=Wd(b.top_class_values[b.i]))&&ba(y,ka)},d(a){a&&C(c)}}}function Xd(b){B(this,b);this._state=r(this.store._init(["inceptionLabels"]),
b.data);this.store._add(this,["inceptionLabels"]);this._intro=!0;this._handlers.destroy=[Ga];this._fragment=nh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function oh(){this.refs.element.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.element.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.element.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function ph(b,a){var c,
d=b._slotted.default;return{c(){c=m("d-figure");t(c,"display",a.display);t(c,"height",a.height)},m(a,l){a.insertBefore(c,l);d&&c.appendChild(d);b.refs.element=c},p(a,b){a.display&&t(c,"display",b.display);a.height&&t(c,"height",b.height)},d(a){a&&C(c);d&&hb(c,d);b.refs.element===c&&(b.refs.element=null)}}}function Fb(b){B(this,b);this.refs={};this._state=r({display:"block",ready:!1,height:"",onscreen:!1,offscreen:!0},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=ph(this,this._state);
this.root._oncreate.push(()=>{oh.call(this);this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function qh(b,a){var c;return{c(){c=m("div");c.innerHTML='<span class="svelte-19e83wz">Loading \u2026</span>';c.className="svelte-19e83wz"},m(a,b){a.insertBefore(c,b)},p:W,d(a){a&&C(c)}}}function Uc(b){B(this,b);this._state=r({},b.data);this._intro=!0;this._fragment=qh(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor))}function rh({radarReady:b,component:a}){return b&&a?!0:!1}function sh({width:b}){if(b){if("number"==typeof b)return b+"px";if("string"==typeof b)return b}else return"100%"}function th({clientWidth:b,height:a,aspectRatio:c,minHeight:d}){if(c)return b/=c,d?Math.min(d,b)+"px":b+"px";if(a){if("number"==typeof a)return a+"px";if("string"==typeof a)return a}else return"100%"}function uh(){let {height:b,aspectRatio:a}=this.get();b||a||console.warn(`Require 'height'${b} or 'aspectRatio'${a} not set on LazyComponent.html`,
this);let {url:c}=this.get();c&&import(c).then((a)=>{this.set({component:a.default})})}function vh(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,f,l=a.ready?Yd:Zd,g=l(b,a),h={offscreen:a.offscreen,onscreen:a.onscreen,height:"100%"};if(void 0!==a.radarReady){h.ready=a.radarReady;var n=!0}var e=new Fb({root:b.root,store:b.store,slots:{default:X()},data:h,_bind(a,c){var d={};!n&&a.ready&&(d.radarReady=c.ready);b._set(d);n=void 0}});b.root._beforecreate.push(()=>{e._bind({ready:1},e.get())});
return{c(){d=m("div");g.c();e._fragment.c();b.root._beforecreate.push(c);t(d,"width",a.finalWidth);t(d,"height",a.finalHeight);d.className="svelte-16j6f9b svelte-ref-container"},m(a,l){e._slotted.default.appendChild(d);g.m(d,null);f=Ra(d,c);b.refs.container=d;e._mount(a,l)},p(c,f){a=f;l===(l=a.ready?Yd:Zd)&&g?g.p(c,a):(g.d(1),g=l(b,a),g.c(),g.m(d,null));c.finalWidth&&t(d,"width",a.finalWidth);c.finalHeight&&t(d,"height",a.finalHeight);f={};c.offscreen&&(f.offscreen=a.offscreen);c.onscreen&&(f.onscreen=
a.onscreen);!n&&c.radarReady&&(f.ready=a.radarReady,n=void 0!==a.radarReady);e._set(f);n=void 0},d(a){g.d();f.cancel();b.refs.container===d&&(b.refs.container=null);e.destroy(a)}}}function Zd(b,a){var c=new Uc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:W,d(a){c.destroy(a)}}}function Yd(b,a){function c(a){a={};for(var c=0;c<f.length;c+=1)a=r(a,f[c]);return{root:b.root,store:b.store,data:a}}var d,f=[a.componentData,{clientWidth:a.width}],l=a.component;if(l)var g=
new l(c(a));return{c(){g&&g._fragment.c();d=la()},m(a,c){g&&(g._mount(a,c),b.refs.component=g);a.insertBefore(d,c)},p(a,n){if(a.componentData||a.width){var h=f;a=[a.componentData&&n.componentData,a.width&&{clientWidth:n.width}];for(var e={},x={},q={},m=h.length;m--;){var y=h[m],z=a[m];if(z){for(var w in y)w in z||(x[w]=1);for(w in z)q[w]||(e[w]=z[w],q[w]=1);h[m]=z}else for(w in y)q[w]=1}for(w in x)w in e||(e[w]=void 0);h=e}else h={};l!==(l=n.component)?(g&&g.destroy(),l?(g=new l(c(n)),g._fragment.c(),
g._mount(d.parentNode,d),b.refs.component=g):(g=null,b.refs.component===g&&(b.refs.component=null))):l&&g._set(h)},d(a){a&&C(d);g&&g.destroy(a)}}}function S(b){B(this,b);this.refs={};this._state=r({component:null,url:null,componentData:null,radarReady:!1,onscreen:!1,offsreen:!0,height:null,width:null,aspectRatio:null,minHeight:null},b.data);this._recompute({radarReady:1,component:1,width:1,clientWidth:1,height:1,aspectRatio:1,minHeight:1},this._state);this._intro=!0;this._fragment=vh(this,this._state);
this.root._oncreate.push(()=>{uh.call(this);this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function wh({clientWidth:b}){return b}function xh({width:b,aspectRatio:a}){return b/a}function yh(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,f,l=b._slotted.default,g;return{c(){d=m("div");f=m("div");f.className="container svelte-xqvv98";b.root._beforecreate.push(c);d.className="root svelte-xqvv98";t(d,
"display",a.display);t(d,"padding-bottom",""+100/a.aspectRatio+"%")},m(a,b){a.insertBefore(d,b);d.appendChild(f);l&&f.appendChild(l);g=Ra(d,c)},p(a,b){a.display&&t(d,"display",b.display);a.aspectRatio&&t(d,"padding-bottom",""+100/b.aspectRatio+"%")},d(a){a&&C(d);l&&hb(f,l);g.cancel()}}}function Gb(b){B(this,b);this._state=r({display:"block",aspectRatio:1,clientWidth:0},b.data);this._recompute({clientWidth:1,width:1,aspectRatio:1},this._state);this._intro=!0;this._slotted=b.slots||{};this._fragment=
yh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function zh(b,a){var c,d,f,l=a.ready?$d:ae,g=l(b,a),h={aspectRatio:a.aspectRatio},n=new Gb({root:b.root,store:b.store,slots:{default:X()},data:h});h={};if(void 0!==a.ready){h.ready=a.ready;var e=!0}var v=new Fb({root:b.root,store:b.store,slots:{default:X()},data:h,_bind(a,c){var d={};!e&&a.ready&&(d.ready=c.ready);b._set(d);e=void 0}});b.root._beforecreate.push(()=>{v._bind({ready:1},v.get())});return{c(){c=
m("div");g.c();d=la();n._fragment.c();v._fragment.c();c.className=f=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-1q1tvil svelte-ref-root"},m(a,f){a.insertBefore(c,f);g.m(n._slotted.default,null);n._slotted.default.appendChild(d);n._mount(v._slotted.default,null);v._mount(c,null);b.refs.root=c},p(h,u){a=u;l===(l=a.ready?$d:ae)&&g?g.p(h,a):(g.d(1),g=l(b,a),g.c(),g.m(d.parentNode,d));u={};h.aspectRatio&&(u.aspectRatio=a.aspectRatio);n._set(u);u={};!e&&h.ready&&(u.ready=a.ready,
e=void 0!==a.ready);v._set(u);e=void 0;(h.background||h.border)&&f!==(f=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-1q1tvil svelte-ref-root")&&(c.className=f)},d(a){a&&C(c);g.d();n.destroy();v.destroy();b.refs.root===c&&(b.refs.root=null)}}}function ae(b,a){var c=new Uc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:W,d(a){c.destroy(a)}}}function $d(b,a){var c;return{c(){c=m("img");c.src=a.src;c.alt=a.alt;c.className="svelte-1q1tvil svelte-ref-image"},
m(a,f){a.insertBefore(c,f);b.refs.image=c},p(a,b){a.src&&(c.src=b.src);a.alt&&(c.alt=b.alt)},d(a){a&&C(c);b.refs.image===c&&(b.refs.image=null)}}}function L(b){B(this,b);this.refs={};this._state=r({ready:!1,src:"",alt:"",display:"block",aspectRatio:1,border:!0,background:!0},b.data);this._intro=!0;this._fragment=zh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Ah(b,a){var c,d,f,l,g,h,n;return{c(){c=m("a");d=p("svg");f=p("path");l=k("\n  ");g=m("span");
h=k(a.text);e(f,"d","M14,2c0-0.3-0.2-0.5-0.5-0.5S13,1.7,13,2v12c0,0.6-0.4,1-1,1H3.1c-0.3,0-0.5-0.1-0.7-0.3L1.7,14h8.8c0.8,0,1.5-0.7,1.5-1.5\n      l0-11C12,0.7,11.3,0,10.5,0l-9,0C0.7,0,0,0.7,0,1.5v12.1c0,0.3,0.1,0.5,0.3,0.7l1.4,1.4C1.9,15.9,2.1,16,2.4,16h10.1\n      c0.8,0,1.5-0.7,1.5-1.5l0-1.8C14,9,14,2,14,2z M9.1,9.6c0,0.3-0.2,0.5-0.5,0.5H5.4c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h3.1\n      C8.8,9.1,9.1,9.3,9.1,9.6z M2.3,4.7C2.1,4.5,2.1,4.2,2.3,4C2.5,3.8,2.8,3.8,3,4l2.8,2.6L3,9.3C2.9,9.4,2.8,9.4,2.7,9.4\n      c-0.1,0-0.3-0.1-0.4-0.2c-0.2-0.2-0.2-0.5,0-0.7l2-1.9L2.3,4.7z");
e(f,"class","svelte-7z3jn3");e(d,"viewBox","0 0 18 18");e(d,"class","svelte-7z3jn3");g.className="svelte-7z3jn3";c.href=a.url;c.className=n="root emphasis-"+a.emphasis+" svelte-7z3jn3"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);c.appendChild(l);c.appendChild(g);g.appendChild(h)},p(a,b){a.text&&ba(h,b.text);a.url&&(c.href=b.url);a.emphasis&&n!==(n="root emphasis-"+b.emphasis+" svelte-7z3jn3")&&(c.className=n)},d(a){a&&C(c)}}}function mc(b){B(this,b);this._state=r({url:"",text:"Try in a notebook",
emphasis:1},b.data);this._intro=!0;this._fragment=Ah(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Bh(b,a){function c(a){b.fire("click")}var d,f=b._slotted.default;return{c(){d=m("button");d.addEventListener("click",c,void 0);t(d,"background-color",a.backgroundColor);t(d,"color",a.color);d.className="svelte-1cv5054"},m(a,b){a.insertBefore(d,b);f&&d.appendChild(f)},p(a,b){a.backgroundColor&&t(d,"background-color",b.backgroundColor);a.color&&t(d,"color",b.color)},
d(a){a&&C(d);f&&hb(d,f);d.removeEventListener("click",c,void 0)}}}function Mb(b){B(this,b);this._state=r({backgroundColor:"rgb(255, 130, 0)",color:"white"},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Bh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Ch(b,a){var c,d,f;return{c(){c=p("svg");d=p("path");f=p("path");e(d,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z");e(f,"d","M0 0h24v24H0z");e(f,"fill","none");e(c,"xmlns","http://www.w3.org/2000/svg");
e(c,"width","24");e(c,"height","24");e(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(f)},p:W,d(a){a&&C(c)}}}function be(b){B(this,b);this._state=r({},b.data);this._intro=!0;this._fragment=Ch(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Dh(b,a){var c,d,f;return{c(){c=p("svg");d=p("path");f=p("path");e(d,"d","M19 13H5v-2h14v2z");e(f,"d","M0 0h24v24H0z");e(f,"fill","none");e(c,"xmlns","http://www.w3.org/2000/svg");e(c,
"width","24");e(c,"height","24");e(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(f)},p:W,d(a){a&&C(c)}}}function ce(b){B(this,b);this._state=r({},b.data);this._intro=!0;this._fragment=Dh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Eh(b,a){var c,d,f;return{c(){c=p("svg");d=p("path");f=p("path");e(d,"d","M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z");e(f,"d","M0 0h24v24H0z");e(f,"fill","none");e(c,"xmlns","http://www.w3.org/2000/svg");
e(c,"width","24");e(c,"height","24");e(c,"viewBox","0 0 24 24")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(f)},p:W,d(a){a&&C(c)}}}function de(b){B(this,b);this._state=r({},b.data);this._intro=!0;this._fragment=Eh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Fh({name:b}){if("home"===b)return de;if("add"===b)return be;if("remove"===b)return ce}function Gh(b,a){var c,d=a.Icon;if(d)var f=new d({root:b.root,store:b.store});return{c(){c=m("div");
f&&f._fragment.c();t(c,"fill",a.color)},m(a,b){a.insertBefore(c,b);f&&f._mount(c,null)},p(a,g){d!==(d=g.Icon)&&(f&&f.destroy(),d?(f=new d({root:b.root,store:b.store}),f._fragment.c(),f._mount(c,null)):f=null);a.color&&t(c,"fill",g.color)},d(a){a&&C(c);f&&f.destroy()}}}function Hb(b){B(this,b);this._state=r({color:"black"},b.data);this._recompute({name:1},this._state);this._intro=!0;this._fragment=Gh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Hh({clientWidth:b,
extent:a}){return Math.min(b,Math.max(0,a[0][0]*b))}function Ih({clientWidth:b,extent:a}){return Math.min(b,a[0][1]*b)}function Jh({clientHeight:b,extent:a}){return Math.min(b,Math.max(0,a[1][0]*b))}function Kh({clientHeight:b,extent:a}){return Math.min(b,a[1][1]*b)}function Lh(b,a){function c(){b.set({clientWidth:f.clientWidth,clientHeight:f.clientHeight})}function d(a){b.mouseDown(a)}var f,l,g=a.extent&&ee(b,a);return{c(){f=m("div");g&&g.c();b.root._beforecreate.push(c);f.addEventListener("mousedown",
d,void 0);f.className="root svelte-xo8icp"},m(a,b){a.insertBefore(f,b);g&&g.m(f,null);l=Ra(f,c)},p(a,c){c.extent?g?g.p(a,c):(g=ee(b,c),g.c(),g.m(f,null)):g&&(g.d(1),g=null)},d(a){a&&C(f);g&&g.d();l.cancel();f.removeEventListener("mousedown",d,void 0)}}}function ee(b,a){var c,d,f,l,g=a.left&&a.right&&a.top&&a.bottom&&fe(b,a),h=a.annotationValue&&ge(b,a);return{c(){c=p("svg");g&&g.c();d=k("\n    ");f=m("div");h&&h.c();e(c,"width",a.clientWidth);e(c,"height",a.clientHeight);e(c,"class","svelte-xo8icp");
f.className=l="reticle "+(a.round?"round":"")+" svelte-xo8icp";t(f,"border-color",a.color);t(f,"top",""+(a.top-1)+"px");t(f,"left",""+(a.left-1)+"px");t(f,"width",""+(a.right-a.left+2)+"px");t(f,"height",""+(a.bottom-a.top+2)+"px")},m(a,b){a.insertBefore(c,b);g&&g.m(c,null);a.insertBefore(d,b);a.insertBefore(f,b);h&&h.m(f,null)},p(a,d){d.left&&d.right&&d.top&&d.bottom?g?g.p(a,d):(g=fe(b,d),g.c(),g.m(c,null)):g&&(g.d(1),g=null);a.clientWidth&&e(c,"width",d.clientWidth);a.clientHeight&&e(c,"height",
d.clientHeight);d.annotationValue?h?h.p(a,d):(h=ge(b,d),h.c(),h.m(f,null)):h&&(h.d(1),h=null);a.round&&l!==(l="reticle "+(d.round?"round":"")+" svelte-xo8icp")&&(f.className=l);a.color&&t(f,"border-color",d.color);a.top&&t(f,"top",""+(d.top-1)+"px");a.left&&t(f,"left",""+(d.left-1)+"px");(a.right||a.left)&&t(f,"width",""+(d.right-d.left+2)+"px");(a.bottom||a.top)&&t(f,"height",""+(d.bottom-d.top+2)+"px")},d(a){a&&C(c);g&&g.d();a&&(C(d),C(f));h&&h.d()}}}function fe(b,a){var c,d,f;return{c(){c=p("path");
e(c,"class",d=(a.background?"":"transparent")+" svelte-xo8icp");e(c,"d",f="M0,0 L"+a.clientWidth+",0 L"+a.clientWidth+","+a.clientHeight+" L0,"+a.clientHeight+" z M"+a.left+","+a.top+" L"+a.left+","+a.bottom+" L"+a.right+","+a.bottom+" L"+a.right+","+a.top+" z")},m(a,b){a.insertBefore(c,b)},p(a,b){a.background&&d!==(d=(b.background?"":"transparent")+" svelte-xo8icp")&&e(c,"class",d);(a.clientWidth||a.clientHeight||a.left||a.top||a.bottom||a.right)&&f!==(f="M0,0 L"+b.clientWidth+",0 L"+b.clientWidth+
","+b.clientHeight+" L0,"+b.clientHeight+" z M"+b.left+","+b.top+" L"+b.left+","+b.bottom+" L"+b.right+","+b.bottom+" L"+b.right+","+b.top+" z")&&e(c,"d",f)},d(a){a&&C(c)}}}function ge(b,a){var c,d,f,l;return{c(){c=m("div");d=m("div");f=m("p");l=k(a.annotationValue);f.className="annotation svelte-xo8icp";d.className="annotationTab svelte-xo8icp";t(d,"background",a.color);c.className="annotationTabParent svelte-xo8icp";t(c,"top",""+(a.w*a.width-2)/2+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);
d.appendChild(f);f.appendChild(l)},p(a,b){a.annotationValue&&ba(l,b.annotationValue);a.color&&t(d,"background",b.color);(a.w||a.width)&&t(c,"top",""+(b.w*b.width-2)/2+"px")},d(a){a&&C(c)}}}function sb(b){B(this,b);this._state=r({dragging:!1,extent:[[0,0],[0,0]],background:!0,round:!1,color:"rgb(255, 130, 0)",enableDragging:!0,mouseUpListener:null,mouseMoveListener:null},b.data);this._recompute({clientWidth:1,extent:1,clientHeight:1},this._state);this._intro=!0;this._fragment=Lh(this,this._state);
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Mh(b,a){var c,d,f,l,g,h={enableDragging:!0};if(void 0!==a.extent){h.extent=a.extent;var n=!0}var e=new sb({root:b.root,store:b.store,data:h,_bind(a,c){var d={};!n&&a.extent&&(d.extent=c.extent);b._set(d);n=void 0}});b.root._beforecreate.push(()=>{e._bind({extent:1},e.get())});e.on("drag",function(a){b.fire("drag",a)});var v=new Gb({root:b.root,store:b.store,slots:{default:X()}});return{c(){c=m("div");d=m("img");g=k("\n    ");
e._fragment.c();v._fragment.c();d.src=f="assets/images/renders/thumbnail-"+a.layerName+".jpg";d.alt=l="thumbnail for "+a.layerName;d.className="svelte-10b429t";c.className="svelte-10b429t svelte-ref-root"},m(a,f){a.insertBefore(c,f);v._slotted.default.appendChild(d);v._slotted.default.appendChild(g);e._mount(v._slotted.default,null);v._mount(c,null);b.refs.root=c},p(b,c){a=c;b.layerName&&f!==(f="assets/images/renders/thumbnail-"+a.layerName+".jpg")&&(d.src=f);b.layerName&&l!==(l="thumbnail for "+
a.layerName)&&(d.alt=l);c={};!n&&b.extent&&(c.extent=a.extent,n=void 0!==a.extent);e._set(c);n=void 0},d(a){a&&C(c);e.destroy();v.destroy();b.refs.root===c&&(b.refs.root=null)}}}function he(b){B(this,b);this.refs={};this._state=r({scaleCountFactor:200},b.data);this._intro=!0;this._fragment=Mh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Vc(){}function nc(b){for(var a,c,d=1,f=arguments.length;d<f;d++)for(a in c=arguments[d],c)b[a]=c[a];return b}function ie(b){this.destroy=
Vc;this.fire("destroy");this.set=this.get=Vc;!1!==b&&this._fragment.u();this._fragment.d();this._fragment=this._state=null}function je(b,a,c,d,f){for(var l in a)if(c[l]){var g=d[l],h=f[l],n=a[l];if(n)for(var e=0;e<n.length;e+=1){var v=n[e];v.__calling||(v.__calling=!0,v.call(b,g,h),v.__calling=!1)}}}function oc(b){for(;b&&b.length;)b.shift()()}function Nh(b,a){return a?a:b}function Oh(){let b=(a)=>{this.set({loaded:!0});var {img:a}=this.get();a.removeEventListener("loaded",b)};this.observe("index",
(a)=>{this.draw()},{init:!1});this.observe("img",(a)=>{this.draw()},{init:!1});this.observe("loaded",(a)=>{this.draw()},{init:!1});this.observe("url",(a)=>{let c=this.get("img");c&&c.removeEventListener("load",b);if(Wc.has(a))a=Wc.get(a),a.loaded?this.set({loaded:!0,img:a.img}):(this.set({loaded:!1,img:a.img}),a.img.addEventListener("load",b));else{let c=new Image;this.set({loaded:!1,img:c});let f={img:c},l=(a)=>{f.loaded=!0;c.removeEventListener("load",l)};c.addEventListener("load",l);c.addEventListener("load",
b);Wc.set(a,f);c.src=a}})}function Ph(b,a){var c;return{c:function(){c=document.createElement("canvas");this.h()},h:function(){c.width=a.width;c.height=a.realHeight},m:function(a,f){a.insertBefore(c,f);b.refs.canvas=c},p:function(a,b){a.width&&(c.width=b.width);a.realHeight&&(c.height=b.realHeight)},u:function(){c.parentNode.removeChild(c)},d:function(){b.refs.canvas===c&&(b.refs.canvas=null)}}}function ke(b){this._observers={pre:Object.create(null),post:Object.create(null)};this._handlers=Object.create(null);
this._bind=b._bind;this.options=b;this.root=b.root||this;this.store=this.root.store||b.store;this.refs={};this._state=nc({url:"",index:0,width:100,loaded:null,columns:Infinity,height:null,img:null},b.data);this._recompute({width:1,height:1},this._state);var a=Oh.bind(this);b.root||(this._oncreate=[]);this._fragment=Ph(this,this._state);this.root._oncreate.push(a);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),oc(this._oncreate))}function le(b){return new Function("d","return {"+b.map(function(a,
b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function Qh(b,a){var c=le(b);return function(d,f){return a(c(d),f,b)}}function Rh(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function me(b){function a(a,b){function c(){if(y)return Xc;if(z)return z=!1,ne;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<f&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=f?y=!0:10===(d=a.charCodeAt(g++))?z=!0:13===d&&(z=!0,10===a.charCodeAt(g)&&
++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<f;){if(10===(d=a.charCodeAt(b=g++)))z=!0;else if(13===d)z=!0,10===a.charCodeAt(g)&&++g;else if(d!==l)continue;return a.slice(c,b)}return y=!0,a.slice(c,f)}var d=[],f=a.length,g=0,h=0,e,y=0>=f,z=!1;10===a.charCodeAt(f-1)&&--f;for(13===a.charCodeAt(f-1)&&--f;(e=c())!==Xc;){for(var w=[];e!==ne&&e!==Xc;)w.push(e),e=c();b&&null==(w=b(w,h++))||d.push(w)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":f.test(a+="")?'"'+
a.replace(/"/g,'""')+'"':a}var f=new RegExp('["'+b+"\n\r]"),l=b.charCodeAt(0);return{parse:function(b,c){var d,f;b=a(b,function(a,b){if(d)return d(a,b-1);f=a;d=c?Qh(a,c):le(a)});b.columns=f||[];return b},parseRows:a,format:function(a,c){null==c&&(c=Rh(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}function oe(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function pc(b){return new Promise((a,
c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function qc(b){return fetch(b).then(oe).then((a)=>a.text())}function rc(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();sc.set(c,!1);if(Yc.has(a)){let b=Yc.get(a);sc.set(b,!0)}Yc.set(a,c);return new Promise((a,f)=>{if(Array.isArray(b)){var d=b.map((a)=>pe(a));d=Promise.all(d)}else d=pe(b);d.then((b)=>{sc.get(c)||a(b)}).catch((a)=>{sc.get(c)||f(a)})})}function pe(b){if(Zc.has(b))return Zc.get(b);
var a=qe;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=qe.get(a)(b);Zc.set(b,a);return a}function Sh({clientWidth:b}){return b}function Th({model:b,layerName:a}){return b+"_"+a}function Uh(){let {root:b,id:a,grid:c}=this.get();rc(`${b}/${a}/${a}.json`).then((d)=>{null==d.class_filter&&(d.class_filter="None");null==d.filter&&(d.filter="None");Array.isArray(d.layout)||(d.layout=[d.layout]);Array.isArray(d.layer)||
(d.layer=[d.layer]);Array.isArray(d.filter)||(d.filter=[d.filter]);this.set({gridSize:d.grid_size[c]});rc(`${b}/${a}/web/web--grid_size=${d.grid_size[c]}--layout=${d.layout[0]}--class_filter=${d.class_filter}--filter=${d.filter[0]}--layer=${d.layer[0]}--model=${d.model}--sample_images=${d.sample_images}--sample_type=${d.sample_type}.json`).then((a)=>{this.set({icons:a});this.render()})})}function Vh({changed:b}){b.classHeatmap&&this.render()}function Wh(b,a){function c(){b.set({clientWidth:d.clientWidth})}
var d,f,l;return{c(){d=m("div");f=m("canvas");f.width=a.gridSize;f.height=a.gridSize;t(f,"width",""+a.clientWidth+"px");t(f,"height",""+a.height+"px");f.className="svelte-sjakuy";b.root._beforecreate.push(c);t(d,"height",""+a.height+"px")},m(a,h){a.insertBefore(d,h);d.appendChild(f);b.refs.canvas=f;l=Ra(d,c)},p(a,b){a.gridSize&&(f.width=b.gridSize,f.height=b.gridSize);a.clientWidth&&t(f,"width",""+b.clientWidth+"px");a.height&&(t(f,"height",""+b.height+"px"),t(d,"height",""+b.height+"px"))},d(a){a&&
C(d);b.refs.canvas===f&&(b.refs.canvas=null);l.cancel()}}}function tc(b){B(this,b);this.refs={};this._state=r({root:"https://storage.googleapis.com/activation-atlas/build",model:"inceptionv1",layerName:"mixed4d",grid:1,layout:0,gridSize:10,classHeatmap:-1,icons:[]},b.data);this._recompute({clientWidth:1,model:1,layerName:1},this._state);this._intro=!0;this._handlers.update=[Vh];this._fragment=Wh(this,this._state);this.root._oncreate.push(()=>{Uh.call(this);this.fire("update",{changed:ma({},this._state),
current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function re(b,a,c){b=Object.create(b);b.layer=a[c];b.i=c;return b}function Xh(b,a){for(var c,d=a.layers,f=[],l=0;l<d.length;l+=1)f[l]=se(b,re(a,d,l));return{c(){c=m("div");for(var a=0;a<f.length;a+=1)f[a].c();c.className="stack"},m(a,b){a.insertBefore(c,b);for(a=0;a<f.length;a+=1)f[a].m(c,null)},p(a,l){if(a.layerName||a.layers||a.classHeatmap){d=l.layers;for(var g=0;g<d.length;g+=1){let h=re(l,d,g);f[g]?
f[g].p(a,h):(f[g]=se(b,h),f[g].c(),f[g].m(c,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){a&&C(c);ca(f,a)}}}function se(b,a){function c(){b.set({layerName:f.__value})}var d,f,l,g,h,n,u,v=a.layer,x,q,ka,y=new tc({root:b.root,store:b.store,data:{layerName:a.layer,classHeatmap:a.classHeatmap}});return{c(){d=m("label");f=m("input");g=k("\n    ");h=m("div");y._fragment.c();n=k("\n    ");u=m("span");x=k(v);q=k("\n  ");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,
"type","radio");f.__value=l=a.layer;f.value=f.__value;f.className="svelte-hzvbih";t(h,"width","50px");t(h,"position","relative");u.className="svelte-hzvbih";d.className=ka="layer "+(a.layerName==a.layer?"selected":"")+" svelte-hzvbih"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.layerName;d.appendChild(g);d.appendChild(h);y._mount(h,null);d.appendChild(n);d.appendChild(u);u.appendChild(x);d.appendChild(q)},p(a,b){a.layerName&&(f.checked=f.__value===b.layerName);a.layers&&l!==
(l=b.layer)&&(f.__value=l);f.value=f.__value;var c={};a.layers&&(c.layerName=b.layer);a.classHeatmap&&(c.classHeatmap=b.classHeatmap);y._set(c);a.layers&&v!==(v=b.layer)&&ba(x,v);(a.layerName||a.layers)&&ka!==(ka="layer "+(b.layerName==b.layer?"selected":"")+" svelte-hzvbih")&&(d.className=ka)},d(a){a&&C(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),1);f.removeEventListener("change",c,void 0);y.destroy()}}}function te(b){B(this,b);this._state=r({layerName:"mixed4c",layers:"mixed3b mixed4a mixed4b mixed4c mixed4d mixed4e mixed5a mixed5b".split(" "),
classHeatmap:-1},b.data);this._bindingGroups=[[]];this._intro=!0;this._fragment=Xh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Yh({inceptionLabels:b}){let a=uc.map((a)=>({label:b.inception[a],i:a}));return[{label:"show all",i:-1}].concat(a)}function ue(b,a,c){b=Object.create(b);b.l=a[c];return b}function Zh(b,a){for(var c,d=a.labels,f=[],l=0;l<d.length;l+=1)f[l]=ve(b,ue(a,d,l));return{c(){c=m("div");for(var a=0;a<f.length;a+=1)f[a].c();c.className=
"chooser svelte-h2ed57"},m(a,b){a.insertBefore(c,b);for(a=0;a<f.length;a+=1)f[a].m(c,null)},p(a,l){if(a.classHeatmap||a.labels){d=l.labels;for(var g=0;g<d.length;g+=1){let h=ue(l,d,g);f[g]?f[g].p(a,h):(f[g]=ve(b,h),f[g].c(),f[g].m(c,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){a&&C(c);ca(f,a)}}}function ve(b,a){function c(){b.set({classHeatmap:f.__value})}var d,f,l,g,h,n=a.l.label,u,v,x,q;return{c(){d=m("label");f=m("input");g=k("\n      ");h=m("span");u=k(n);x=k("\n    ");b._bindingGroups[0].push(f);
f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=l=a.l.i;f.value=f.__value;f.className="svelte-h2ed57";h.title=v=a.l.i;d.className=q=(a.classHeatmap===a.l.i?"selected":"")+" svelte-h2ed57"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.classHeatmap;d.appendChild(g);d.appendChild(h);h.appendChild(u);d.appendChild(x)},p(a,b){a.classHeatmap&&(f.checked=f.__value===b.classHeatmap);a.labels&&l!==(l=b.l.i)&&(f.__value=l);f.value=f.__value;a.labels&&n!==(n=b.l.label)&&
ba(u,n);a.labels&&v!==(v=b.l.i)&&(h.title=v);(a.classHeatmap||a.labels)&&q!==(q=(b.classHeatmap===b.l.i?"selected":"")+" svelte-h2ed57")&&(d.className=q)},d(a){a&&C(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),1);f.removeEventListener("change",c,void 0)}}}function $c(b){B(this,b);this._state=r({classesToKeep:uc,inceptionLabels:zb,classHeatmap:235},b.data);this._recompute({inceptionLabels:1},this._state);this._bindingGroups=[[]];this._intro=!0;this._fragment=Zh(this,this._state);b.target&&
(this._fragment.c(),this._mount(b.target,b.anchor))}function we(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function $h(b,a){var c=we(b);return function(d,f){return a(c(d),f,b)}}function ai(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function xe(b){function a(a,b){function c(){if(y)return ad;if(z)return z=!1,ye;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<f&&34!==a.charCodeAt(g)||
34===a.charCodeAt(++g););(b=g)>=f?y=!0:10===(d=a.charCodeAt(g++))?z=!0:13===d&&(z=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<f;){if(10===(d=a.charCodeAt(b=g++)))z=!0;else if(13===d)z=!0,10===a.charCodeAt(g)&&++g;else if(d!==l)continue;return a.slice(c,b)}return y=!0,a.slice(c,f)}var d=[],f=a.length,g=0,h=0,e,y=0>=f,z=!1;10===a.charCodeAt(f-1)&&--f;for(13===a.charCodeAt(f-1)&&--f;(e=c())!==ad;){for(var w=[];e!==ye&&e!==ad;)w.push(e),e=c();b&&null==(w=b(w,h++))||
d.push(w)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":f.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var f=new RegExp('["'+b+"\n\r]"),l=b.charCodeAt(0);return{parse:function(b,c){var d,f;b=a(b,function(a,b){if(d)return d(a,b-1);f=a;d=c?$h(a,c):we(a)});b.columns=f||[];return b},parseRows:a,format:function(a,c){null==c&&(c=ai(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}
function ze(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function vc(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function wc(b){return fetch(b).then(ze).then((a)=>a.text())}function Ae(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();xc.set(c,!1);if(bd.has(a)){let b=bd.get(a);xc.set(b,!0)}bd.set(a,c);return new Promise((a,f)=>{if(Array.isArray(b)){var d=b.map((a)=>Be(a));
d=Promise.all(d)}else d=Be(b);d.then((b)=>{xc.get(c)||a(b)}).catch((a)=>{xc.get(c)||f(a)})})}function Be(b){if(cd.has(b))return cd.get(b);var a=Ce;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=Ce.get(a)(b);cd.set(b,a);return a}function De(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function bi(b){return function(a,c){return De(b(a),c)}}function da(b,a,c){b=+b;a=+a;c=2>(f=arguments.length)?(a=b,b=0,1):
3>f?1:+c;for(var d=-1,f=Math.max(0,Math.ceil((a-b)/c))|0,l=Array(f);++d<f;)l[d]=b+d*c;return l}function ci({changed:b}){if(b.layer||b.classFilter||b.id||b.layout||b.filter){let {root:a,id:c,layer:d,classFilter:f,filter:l,layout:g}=this.get();this.set({loading:!0});let h=di[c];this.set({config:h});null!==f&&(null==h.class_filter&&(h.class_filter="None"),null==h.filter&&(h.filter="None"),Array.isArray(h.grid_size)||(h.grid_size=[h.grid_size]),Array.isArray(h.class_filter)||(h.class_filter=[h.class_filter]),
Array.isArray(h.layer)||(h.layer=[h.layer]),Array.isArray(h.layout)||(h.layout=[h.layout]),Array.isArray(h.filter)||(h.filter=[h.filter]),b=h.grid_size.map((b)=>`${a}/${c}/web/web--grid_size=${b}--layout=${h.layout[g]}--class_filter=${h.class_filter[f]}--filter=${h.filter[l]}--layer=${h.layer[d]}--model=${h.model}--sample_images=${h.sample_images}--sample_type=${h.sample_type}.json`),Ae(b).then((b)=>{let e=Array(b.length);b.forEach((b,n)=>{let u=h.grid_size[n],v=h.tile_size;Array(u/v).keys();let x=
[...Array(u).keys()].map((a)=>Array(u));for(let e of b){void 0!==e.x&&(e.grid_x=e.x);void 0!==e.y&&(e.grid_y=e.y);void 0!==e.n&&(e.num_activations=e.n);void 0!==e.i&&(e.top_class_indices=e.i);void 0!==e.v&&(e.top_class_values=e.v);void 0!==e.f&&(e.full_class_values=e.f,e.full_class_indices=uc);b=e.grid_x;let n=e.grid_y;e.gx=b/u;e.gy=n/u;e.gw=1/u;let q=Math.floor(b/v),y=Math.floor(n/v);e.localX=b%v;e.localY=n%v;e.url=`${a}/${c}/render/render--x=${q}--y=${y}--tries=${h.tries}--alpha=${h.alpha?"True":
"False"}--tile_size=${h.tile_size}--whiten=${h.whiten}--steps=${h.steps}--icon_size=${h.icon_size}--grid_size=${u}--layout=${h.layout[g]}--class_filter=${h.class_filter[f]}--filter=${h.filter[l]}--layer=${h.layer[d]}--model=${h.model}--sample_images=${h.sample_images}--sample_type=${h.sample_type}.jpg`;x[e.grid_x][e.grid_y]=e}e[n]=x});this.set({layers:e,loading:!1})}))}}function dd(b){B(this,b);this._state=r({fingerprint:Math.random()+Date.now(),root:"https://storage.googleapis.com/activation-atlas/build",
id:"inceptionv1",labels:zb.inception,layer:0,classFilter:0,filter:0,layout:0,config:null,layers:null,loading:!1},b.data);this._intro=!0;this._handlers.update=[ci];this._fragment={c:W,m:W,p:W,d:W};this.root._oncreate.push(()=>{this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function ed(){for(var b=0,a=arguments.length,c={},d;b<a;++b){if(!(d=arguments[b]+"")||d in c)throw Error("illegal type: "+d);c[d]=[]}return new yc(c)}
function yc(b){this._=b}function ei(b,a){return b.trim().split(/^|\s+/).map(function(b){var c="",f=b.indexOf(".");0<=f&&(c=b.slice(f+1),b=b.slice(0,f));if(b&&!a.hasOwnProperty(b))throw Error("unknown type: "+b);return{type:b,name:c}})}function Ee(b,a,c){for(var d=0,f=b.length;d<f;++d)if(b[d].name===a){b[d]=fi;b=b.slice(0,d).concat(b.slice(d+1));break}null!=c&&b.push({name:a,value:c});return b}function zc(b){var a=b+="",c=a.indexOf(":");0<=c&&"xmlns"!==(a=b.slice(0,c))&&(b=b.slice(c+1));return Fe.hasOwnProperty(a)?
{space:Fe[a],local:b}:b}function gi(b){return function(){var a=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===a.documentElement.namespaceURI?a.createElement(b):a.createElementNS(c,b)}}function hi(b){return function(){return this.ownerDocument.createElementNS(b.space,b.local)}}function Ge(b){b=zc(b);return(b.local?hi:gi)(b)}function ii(){}function fd(b){return null==b?ii:function(){return this.querySelector(b)}}function ji(){return[]}
function He(b){return null==b?ji:function(){return this.querySelectorAll(b)}}function Ie(b){return Array(b.length)}function Ac(b,a){this.ownerDocument=b.ownerDocument;this.namespaceURI=b.namespaceURI;this._next=null;this._parent=b;this.__data__=a}function ki(b){return function(){return b}}function li(b,a,c,d,f,l){for(var g=0,e,n=a.length,u=l.length;g<u;++g)(e=a[g])?(e.__data__=l[g],d[g]=e):c[g]=new Ac(b,l[g]);for(;g<n;++g)if(e=a[g])f[g]=e}function mi(b,a,c,d,f,l,g){var e,n,u={},v=a.length,x=l.length,
q=Array(v),m;for(e=0;e<v;++e)if(n=a[e])q[e]=m="$"+g.call(n,n.__data__,e,a),m in u?f[e]=n:u[m]=n;for(e=0;e<x;++e)m="$"+g.call(b,l[e],e,l),(n=u[m])?(d[e]=n,n.__data__=l[e],u[m]=null):c[e]=new Ac(b,l[e]);for(e=0;e<v;++e)(n=a[e])&&u[q[e]]===n&&(f[e]=n)}function ni(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function oi(b){return function(){this.removeAttribute(b)}}function pi(b){return function(){this.removeAttributeNS(b.space,b.local)}}function qi(b,a){return function(){this.setAttribute(b,a)}}function ri(b,
a){return function(){this.setAttributeNS(b.space,b.local,a)}}function si(b,a){return function(){var c=a.apply(this,arguments);null==c?this.removeAttribute(b):this.setAttribute(b,c)}}function ti(b,a){return function(){var c=a.apply(this,arguments);null==c?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,c)}}function ui(b){return function(){this.style.removeProperty(b)}}function vi(b,a,c){return function(){this.style.setProperty(b,a,c)}}function wi(b,a,c){return function(){var d=
a.apply(this,arguments);null==d?this.style.removeProperty(b):this.style.setProperty(b,d,c)}}function Ab(b,a){return b.style.getPropertyValue(a)||(b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView).getComputedStyle(b,null).getPropertyValue(a)}function xi(b){return function(){delete this[b]}}function yi(b,a){return function(){this[b]=a}}function zi(b,a){return function(){var c=a.apply(this,arguments);null==c?delete this[b]:this[b]=c}}function gd(b){return b.classList||new Je(b)}
function Je(b){this._node=b;this._names=(b.getAttribute("class")||"").trim().split(/^|\s+/)}function Ke(b,a){b=gd(b);for(var c=-1,d=a.length;++c<d;)b.add(a[c])}function Le(b,a){b=gd(b);for(var c=-1,d=a.length;++c<d;)b.remove(a[c])}function Ai(b){return function(){Ke(this,b)}}function Bi(b){return function(){Le(this,b)}}function Ci(b,a){return function(){(a.apply(this,arguments)?Ke:Le)(this,b)}}function Di(){this.textContent=""}function Ei(b){return function(){this.textContent=b}}function Fi(b){return function(){var a=
b.apply(this,arguments);this.textContent=null==a?"":a}}function Gi(){this.innerHTML=""}function Hi(b){return function(){this.innerHTML=b}}function Ii(b){return function(){var a=b.apply(this,arguments);this.innerHTML=null==a?"":a}}function Ji(){this.nextSibling&&this.parentNode.appendChild(this)}function Ki(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Li(){return null}function Mi(){var b=this.parentNode;b&&b.removeChild(this)}function Ni(){return this.parentNode.insertBefore(this.cloneNode(!1),
this.nextSibling)}function Oi(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function Pi(b,a,c){b=Me(b,a,c);return function(a){var c=a.relatedTarget;c&&(c===this||c.compareDocumentPosition(this)&8)||b.call(this,a)}}function Me(b,a,c){return function(d){var f=H;H=d;try{b.call(this,this.__data__,a,c)}finally{H=f}}}function Qi(b){return b.trim().split(/^|\s+/).map(function(a){var b="",d=a.indexOf(".");0<=d&&(b=a.slice(d+1),a=a.slice(0,d));return{type:a,name:b}})}function Ri(b){return function(){var a=
this.__on;if(a){for(var c=0,d=-1,f=a.length,l;c<f;++c)(l=a[c],b.type&&l.type!==b.type||l.name!==b.name)?a[++d]=l:this.removeEventListener(l.type,l.listener,l.capture);++d?a.length=d:delete this.__on}}}function Si(b,a,c){var d=Ne.hasOwnProperty(b.type)?Pi:Me;return function(f,l,g){f=this.__on;var e;l=d(a,l,g);if(f){g=0;for(var n=f.length;g<n;++g)if((e=f[g]).type===b.type&&e.name===b.name){this.removeEventListener(e.type,e.listener,e.capture);this.addEventListener(e.type,e.listener=l,e.capture=c);e.value=
a;return}}this.addEventListener(b.type,l,c);e={type:b.type,name:b.name,value:a,listener:l,capture:c};f?f.push(e):this.__on=[e]}}function Oe(b,a,c){var d=b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView,f=d.CustomEvent;"function"===typeof f?f=new f(a,c):(f=d.document.createEvent("Event"),c?(f.initEvent(a,c.bubbles,c.cancelable),f.detail=c.detail):f.initEvent(a,!1,!1));b.dispatchEvent(f)}function Ti(b,a){return function(){return Oe(this,b,a)}}function Ui(b,a){return function(){return Oe(this,
b,a.apply(this,arguments))}}function ha(b,a){this._groups=b;this._parents=a}function ib(){return new ha([[document.documentElement]],Pe)}function eb(b){return"string"===typeof b?new ha([[document.querySelector(b)]],[document.documentElement]):new ha([[b]],Pe)}function Qe(){for(var b=H,a;a=b.sourceEvent;)b=a;return b}function Re(b,a){var c=b.ownerSVGElement||b;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y];c=b.getBoundingClientRect();
return[a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop]}function Bc(b){var a=Qe();a.changedTouches&&(a=a.changedTouches[0]);return Re(b,a)}function Se(b,a,c){3>arguments.length&&(c=a,a=Qe().changedTouches);for(var d=0,f=a?a.length:0,l;d<f;++d)if((l=a[d]).identifier===c)return Re(b,l);return null}function hd(){H.preventDefault();H.stopImmediatePropagation()}function Vi(b){var a=b.document.documentElement;b=eb(b).on("dragstart.drag",hd,!0);if("onselectstart"in a)b.on("selectstart.drag",hd,
!0);else a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none"}function Wi(b,a){var c=b.document.documentElement,d=eb(b).on("dragstart.drag",null);a&&(d.on("click.drag",hd,!0),setTimeout(function(){d.on("click.drag",null)},0));if("onselectstart"in c)d.on("selectstart.drag",null);else c.style.MozUserSelect=c.__noselect,delete c.__noselect}function tb(b,a,c){b.prototype=a.prototype=c;c.constructor=b}function ub(b,a){b=Object.create(b.prototype);for(var c in a)b[c]=a[c];return b}function Ha(){}
function Ib(b){var a;b=(b+"").trim().toLowerCase();return(a=Xi.exec(b))?(a=parseInt(a[1],16),new Z(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1)):(a=Yi.exec(b))?Te(parseInt(a[1],16)):(a=Zi.exec(b))?new Z(a[1],a[2],a[3],1):(a=$i.exec(b))?new Z(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=aj.exec(b))?Ue(a[1],a[2],a[3],a[4]):(a=bj.exec(b))?Ue(255*a[1]/100,255*a[2]/100,255*a[3]/100,a[4]):(a=cj.exec(b))?Ve(a[1],a[2]/100,a[3]/100,1):(a=dj.exec(b))?Ve(a[1],a[2]/100,a[3]/100,a[4]):We.hasOwnProperty(b)?
Te(We[b]):"transparent"===b?new Z(NaN,NaN,NaN,0):null}function Te(b){return new Z(b>>16&255,b>>8&255,b&255,1)}function Ue(b,a,c,d){0>=d&&(b=a=c=NaN);return new Z(b,a,c,d)}function id(b){b instanceof Ha||(b=Ib(b));if(!b)return new Z;b=b.rgb();return new Z(b.r,b.g,b.b,b.opacity)}function jd(b,a,c,d){return 1===arguments.length?id(b):new Z(b,a,c,null==d?1:d)}function Z(b,a,c,d){this.r=+b;this.g=+a;this.b=+c;this.opacity=+d}function kd(b){b=Math.max(0,Math.min(255,Math.round(b)||0));return(16>b?"0":"")+
b.toString(16)}function Ve(b,a,c,d){0>=d?b=a=c=NaN:0>=c||1<=c?b=a=NaN:0>=a&&(b=NaN);return new va(b,a,c,d)}function ej(b){if(b instanceof va)return new va(b.h,b.s,b.l,b.opacity);b instanceof Ha||(b=Ib(b));if(!b)return new va;if(b instanceof va)return b;b=b.rgb();var a=b.r/255,c=b.g/255,d=b.b/255,f=Math.min(a,c,d),l=Math.max(a,c,d),g=NaN,e=l-f,n=(l+f)/2;e?(g=a===l?(c-d)/e+6*(c<d):c===l?(d-a)/e+2:(a-c)/e+4,e/=.5>n?l+f:2-l-f,g*=60):e=0<n&&1>n?0:g;return new va(g,e,n,b.opacity)}function va(b,a,c,d){this.h=
+b;this.s=+a;this.l=+c;this.opacity=+d}function ld(b,a,c){return 255*(60>b?a+(c-a)*b/60:180>b?c:240>b?a+(c-a)*(240-b)/60:a)}function md(b){if(b instanceof ra)return new ra(b.l,b.a,b.b,b.opacity);if(b instanceof Ia){if(isNaN(b.h))return new ra(b.l,0,0,b.opacity);var a=b.h*Xe;return new ra(b.l,Math.cos(a)*b.c,Math.sin(a)*b.c,b.opacity)}b instanceof Z||(b=id(b));var c=nd(b.r),d=nd(b.g),f=nd(b.b);a=od(.2225045*c+.7168786*d+.0606169*f);if(c===d&&d===f)var l=c=a;else l=od((.4360747*c+.3850649*d+.1430804*
f)/.96422),c=od((.0139322*c+.0971045*d+.7141733*f)/.82521);return new ra(116*a-16,500*(l-a),200*(a-c),b.opacity)}function ra(b,a,c,d){this.l=+b;this.a=+a;this.b=+c;this.opacity=+d}function od(b){return b>fj?Math.pow(b,1/3):b/Ye+Ze}function pd(b){return b>Bb?b*b*b:Ye*(b-Ze)}function qd(b){return 255*(.0031308>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055)}function nd(b){return.04045>=(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}function gj(b){if(b instanceof Ia)return new Ia(b.h,b.c,b.l,b.opacity);b instanceof
ra||(b=md(b));if(0===b.a&&0===b.b)return new Ia(NaN,0,b.l,b.opacity);var a=Math.atan2(b.b,b.a)*$e;return new Ia(0>a?a+360:a,Math.sqrt(b.a*b.a+b.b*b.b),b.l,b.opacity)}function Ia(b,a,c,d){this.h=+b;this.c=+a;this.l=+c;this.opacity=+d}function vb(b,a,c,d){this.h=+b;this.s=+a;this.l=+c;this.opacity=+d}function af(b){return function(){return b}}function hj(b,a){return function(c){return b+c*a}}function ij(b,a,c){return b=Math.pow(b,c),a=Math.pow(a,c)-b,c=1/c,function(d){return Math.pow(b+d*a,c)}}function jj(b){return 1===
(b=+b)?bf:function(a,c){return c-a?ij(a,c,b):af(isNaN(a)?c:a)}}function bf(b,a){var c=a-b;return c?hj(b,c):af(isNaN(b)?a:b)}function Ya(b,a){return b=+b,a-=b,function(c){return b+a*c}}function kj(b){return function(){return b}}function lj(b){return function(a){return b(a)+""}}function mj(b,a){var c=rd.lastIndex=sd.lastIndex=0,d,f,l,g=-1,e=[],n=[];b+="";for(a+="";(d=rd.exec(b))&&(f=sd.exec(a));)(l=f.index)>c&&(l=a.slice(c,l),e[g]?e[g]+=l:e[++g]=l),(d=d[0])===(f=f[0])?e[g]?e[g]+=f:e[++g]=f:(e[++g]=
null,n.push({i:g,x:Ya(d,f)})),c=sd.lastIndex;c<a.length&&(l=a.slice(c),e[g]?e[g]+=l:e[++g]=l);return 2>e.length?n[0]?lj(n[0].x):kj(a):(a=n.length,function(b){for(var c=0,d;c<a;++c)e[(d=n[c]).i]=d.x(b);return e.join("")})}function cf(b,a,c,d,f,l){var g,e,n;if(g=Math.sqrt(b*b+a*a))b/=g,a/=g;if(n=b*c+a*d)c-=b*n,d-=a*n;if(e=Math.sqrt(c*c+d*d))c/=e,d/=e,n/=e;b*d<a*c&&(b=-b,a=-a,n=-n,g=-g);return{translateX:f,translateY:l,rotate:Math.atan2(a,b)*df,skewX:Math.atan(n)*df,scaleX:g,scaleY:e}}function ef(b,
a,c,d){function f(a){return a.length?a.pop()+" ":""}function l(b,d,f,g,l,e){b!==f||d!==g?(l=l.push("translate(",null,a,null,c),e.push({i:l-4,x:Ya(b,f)},{i:l-2,x:Ya(d,g)})):(f||g)&&l.push("translate("+f+a+g+c)}function g(a,b,c,g){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),g.push({i:c.push(f(c)+"rotate(",null,d)-2,x:Ya(a,b)})):b&&c.push(f(c)+"rotate("+b+d)}function e(a,b,c,g){a!==b?g.push({i:c.push(f(c)+"skewX(",null,d)-2,x:Ya(a,b)}):b&&c.push(f(c)+"skewX("+b+d)}function n(a,b,c,d,g,l){a!==c||b!==d?(g=
g.push(f(g)+"scale(",null,",",null,")"),l.push({i:g-4,x:Ya(a,c)},{i:g-2,x:Ya(b,d)})):1===c&&1===d||g.push(f(g)+"scale("+c+","+d+")")}return function(a,c){var d=[],f=[];a=b(a);c=b(c);l(a.translateX,a.translateY,c.translateX,c.translateY,d,f);g(a.rotate,c.rotate,d,f);e(a.skewX,c.skewX,d,f);n(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,f);a=c=null;return function(a){for(var b=-1,c=f.length,g;++b<c;)d[(g=f[b]).i]=g.x(a);return d.join("")}}}function ff(b){return((b=Math.exp(b))+1/b)/2}function nj(b,a){var c=
b[0],d=b[1],f=b[2];b=a[2];var l=a[0]-c,g=a[1]-d,e=l*l+g*g;if(1E-12>e){var n=Math.log(b/f)/Za;b=function(a){return[c+a*l,d+a*g,f*Math.exp(Za*a*n)]}}else{var u=Math.sqrt(e);a=(b*b-f*f+4*e)/(4*f*u);b=(b*b-f*f-4*e)/(4*b*u);var v=Math.log(Math.sqrt(a*a+1)-a);n=(Math.log(Math.sqrt(b*b+1)-b)-v)/Za;b=function(a){a*=n;var b=ff(v),e=Za*a+v;var h=((e=Math.exp(2*e))-1)/(e+1);var z=v;e=((z=Math.exp(z))-1/z)/2;h=f/(2*u)*(b*h-e);return[c+h*l,d+h*g,f*b/ff(Za*a+v)]}}b.duration=1E3*n;return b}function Cc(){return sa||
(gf(oj),sa=Jb.now()+Dc)}function oj(){sa=0}function Ec(){this._call=this._time=this._next=null}function hf(b,a,c){var d=new Ec;d.restart(b,a,c);return d}function jf(){sa=(Fc=Jb.now())+Dc;$a=ab=0;try{Cc();++$a;for(var b=Gc,a;b;)0<=(a=sa-b._time)&&b._call.call(null,a),b=b._next;--$a}finally{$a=0;b=Gc;for(var c=Infinity;b;)if(b._call){c>b._time&&(c=b._time);var d=b;b=b._next}else a=b._next,b._next=null,b=d?d._next=a:Gc=a;Sa=d;td(c);sa=0}}function pj(){var b=Jb.now(),a=b-Fc;1E3<a&&(Dc-=a,Fc=b)}function td(b){$a||
(ab&&(ab=clearTimeout(ab)),24<b-sa?(Infinity>b&&(ab=setTimeout(jf,b-Jb.now()-Dc)),jb&&(jb=clearInterval(jb))):(jb||(Fc=Jb.now(),jb=setInterval(pj,1E3)),$a=1,gf(jf)))}function kf(b,a,c){var d=new Ec;a=null==a?0:+a;d.restart(function(c){d.stop();b(c+a)},a,c);return d}function Hc(b,a,c,d,f,l){var g=b.__transition;if(!g)b.__transition={};else if(c in g)return;qj(b,c,{name:a,index:d,group:f,on:rj,tween:sj,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:0})}function ud(b,a){b=
na(b,a);if(0<b.state)throw Error("too late; already scheduled");return b}function bb(b,a){b=na(b,a);if(2<b.state)throw Error("too late; already started");return b}function na(b,a){b=b.__transition;if(!b||!(b=b[a]))throw Error("transition not found");return b}function qj(b,a,c){function d(n){var h,v;if(1!==c.state)return l();for(q in g){var m=g[q];if(m.name===c.name){if(3===m.state)return kf(d);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",b,b.__data__,m.index,m.group),delete g[q]):+q<
a&&(m.state=6,m.timer.stop(),delete g[q])}}kf(function(){3===c.state&&(c.state=4,c.timer.restart(f,c.delay,c.time),f(n))});c.state=2;c.on.call("start",b,b.__data__,c.index,c.group);if(2===c.state){c.state=3;e=Array(v=c.tween.length);var q=0;for(h=-1;q<v;++q)if(m=c.tween[q].value.call(b,b.__data__,c.index,c.group))e[++h]=m;e.length=h+1}}function f(a){a=a<c.duration?c.ease.call(null,a/c.duration):(c.timer.restart(l),c.state=5,1);for(var d=-1,f=e.length;++d<f;)e[d].call(null,a);5===c.state&&(c.on.call("end",
b,b.__data__,c.index,c.group),l())}function l(){c.state=6;c.timer.stop();delete g[a];for(var d in g)return;delete b.__transition}var g=b.__transition,e;g[a]=c;c.timer=hf(function(a){c.state=1;c.timer.restart(d,c.delay,c.time);c.delay<=a&&d(a-c.delay)},0,c.time)}function Ic(b,a){var c=b.__transition,d,f=!0,l;if(c){a=null==a?null:a+"";for(l in c)if((d=c[l]).name!==a)f=!1;else{var g=2<d.state&&5>d.state;d.state=6;d.timer.stop();g&&d.on.call("interrupt",b,b.__data__,d.index,d.group);delete c[l]}f&&delete b.__transition}}
function tj(b,a){var c,d;return function(){var f=bb(this,b),l=f.tween;if(l!==c){d=c=l;l=0;for(var g=d.length;l<g;++l)if(d[l].name===a){d=d.slice();d.splice(l,1);break}}f.tween=d}}function uj(b,a,c){var d,f;if("function"!==typeof c)throw Error();return function(){var l=bb(this,b),g=l.tween;if(g!==d){f=(d=g).slice();g={name:a,value:c};for(var e=0,n=f.length;e<n;++e)if(f[e].name===a){f[e]=g;break}e===n&&f.push(g)}l.tween=f}}function vd(b,a,c){var d=b._id;b.each(function(){var b=bb(this,d);(b.value||
(b.value={}))[a]=c.apply(this,arguments)});return function(b){return na(b,d).value[a]}}function lf(b,a){var c;return("number"===typeof a?Ya:a instanceof Ib?mf:(c=Ib(a))?(a=c,mf):mj)(b,a)}function vj(b){return function(){this.removeAttribute(b)}}function wj(b){return function(){this.removeAttributeNS(b.space,b.local)}}function xj(b,a,c){var d,f;return function(){var l=this.getAttribute(b);return l===c?null:l===d?f:f=a(d=l,c)}}function yj(b,a,c){var d,f;return function(){var l=this.getAttributeNS(b.space,
b.local);return l===c?null:l===d?f:f=a(d=l,c)}}function zj(b,a,c){var d,f,l;return function(){var g=c(this);if(null==g)return void this.removeAttribute(b);var e=this.getAttribute(b);return e===g?null:e===d&&g===f?l:l=a(d=e,f=g)}}function Aj(b,a,c){var d,f,l;return function(){var g=c(this);if(null==g)return void this.removeAttributeNS(b.space,b.local);var e=this.getAttributeNS(b.space,b.local);return e===g?null:e===d&&g===f?l:l=a(d=e,f=g)}}function Bj(b,a){function c(){var c=this,f=a.apply(c,arguments);
return f&&function(a){c.setAttributeNS(b.space,b.local,f(a))}}c._value=a;return c}function Cj(b,a){function c(){var c=this,f=a.apply(c,arguments);return f&&function(a){c.setAttribute(b,f(a))}}c._value=a;return c}function Dj(b,a){return function(){ud(this,b).delay=+a.apply(this,arguments)}}function Ej(b,a){return a=+a,function(){ud(this,b).delay=a}}function Fj(b,a){return function(){bb(this,b).duration=+a.apply(this,arguments)}}function Gj(b,a){return a=+a,function(){bb(this,b).duration=a}}function Hj(b,
a){if("function"!==typeof a)throw Error();return function(){bb(this,b).ease=a}}function Ij(b){return(b+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");0<=b&&(a=a.slice(0,b));return!a||"start"===a})}function Jj(b,a,c){var d,f,e=Ij(a)?ud:bb;return function(){var g=e(this,b),l=g.on;if(l!==d)(f=(d=l).copy()).on(a,c);g.on=f}}function Kj(b){return function(){var a=this.parentNode,c;for(c in this.__transition)if(+c!==b)return;a&&a.removeChild(this)}}function Lj(b,a){var c,d,f;return function(){var e=
Ab(this,b),g=(this.style.removeProperty(b),Ab(this,b));return e===g?null:e===c&&g===d?f:f=a(c=e,d=g)}}function Mj(b){return function(){this.style.removeProperty(b)}}function Nj(b,a,c){var d,f;return function(){var e=Ab(this,b);return e===c?null:e===d?f:f=a(d=e,c)}}function Oj(b,a,c){var d,f,e;return function(){var g=Ab(this,b),l=c(this);null==l&&(l=(this.style.removeProperty(b),Ab(this,b)));return g===l?null:g===d&&l===f?e:e=a(d=g,f=l)}}function Pj(b,a,c){function d(){var d=this,e=a.apply(d,arguments);
return e&&function(a){d.style.setProperty(b,e(a),c)}}d._value=a;return d}function Qj(b){return function(){this.textContent=b}}function Rj(b){return function(){var a=b(this);this.textContent=null==a?"":a}}function wa(b,a,c,d){this._groups=b;this._parents=a;this._name=c;this._id=d}function Jc(b){return function(){return b}}function Sj(b,a,c){this.target=b;this.type=a;this.transform=c}function ea(b,a,c){this.k=b;this.x=a;this.y=c}function nf(b){return b.__zoom||Kc}function cb(){H.preventDefault();H.stopImmediatePropagation()}
function Tj(){return!H.button}function Uj(){var b=this;if(b instanceof SVGElement){b=b.ownerSVGElement||b;var a=b.width.baseVal.value;b=b.height.baseVal.value}else a=b.clientWidth,b=b.clientHeight;return[[0,0],[a,b]]}function of(){return this.__zoom||Kc}function Vj(){return-H.deltaY*(H.deltaMode?120:1)/500}function Wj(){return"ontouchstart"in this}function Xj(b,a,c){var d=b.invertX(a[0][0])-c[0][0],f=b.invertX(a[1][0])-c[1][0],e=b.invertY(a[0][1])-c[0][1];a=b.invertY(a[1][1])-c[1][1];return b.translate(f>
d?(d+f)/2:Math.min(0,d)||Math.max(0,f),a>e?(e+a)/2:Math.min(0,e)||Math.max(0,a))}function Yj(){function b(a){a.property("__zoom",of).on("wheel.zoom",h).on("mousedown.zoom",n).on("dblclick.zoom",u).filter(J).on("touchstart.zoom",v).on("touchmove.zoom",m).on("touchend.zoom touchcancel.zoom",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function a(a,b){b=Math.max(t[0],Math.min(t[1],b));return b===a.k?a:new ea(b,a.x,a.y)}function c(a,b,c){var d=b[0]-c[0]*a.k;b=b[1]-
c[1]*a.k;return d===a.x&&b===a.y?a:new ea(a.k,d,b)}function d(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function f(a,b,c){a.on("start.zoom",function(){e(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){e(this,arguments).end()}).tween("zoom",function(){var a=arguments,f=e(this,a),g=y.apply(this,a),l=c||d(g),n=Math.max(g[1][0]-g[0][0],g[1][1]-g[0][1]);g=this.__zoom;var h="function"===typeof b?b.apply(this,a):b,u=E(g.invert(l).concat(n/g.k),h.invert(l).concat(n/h.k));
return function(a){if(1===a)a=h;else{a=u(a);var b=n/a[2];a=new ea(b,l[0]-a[0]*b,l[1]-a[1]*b)}f.zoom(null,a)}})}function e(a,b){for(var c=0,d=r.length,f;c<d;++c)if((f=r[c]).that===a)return f;return new g(a,b)}function g(a,b){this.that=a;this.args=b;this.index=-1;this.active=0;this.extent=y.apply(a,b)}function h(){if(k.apply(this,arguments)){var b=e(this,arguments),d=this.__zoom,f=Math.max(t[0],Math.min(t[1],d.k*Math.pow(2,w.apply(this,arguments)))),g=Bc(this);if(b.wheel){if(b.mouse[0][0]!==g[0]||b.mouse[0][1]!==
g[1])b.mouse[1]=d.invert(b.mouse[0]=g);clearTimeout(b.wheel)}else{if(d.k===f)return;b.mouse=[g,d.invert(g)];Ic(this);b.start()}cb();b.wheel=setTimeout(function(){b.wheel=null;b.end()},150);b.zoom("mouse",z(c(a(d,f),b.mouse[0],b.mouse[1]),b.extent,G))}}function n(){if(!N&&k.apply(this,arguments)){var a=e(this,arguments),b=eb(H.view).on("mousemove.zoom",function(){cb();if(!a.moved){var b=H.clientX-f,d=H.clientY-g;a.moved=b*b+d*d>Y}a.zoom("mouse",z(c(a.that.__zoom,a.mouse[0]=Bc(a.that),a.mouse[1]),a.extent,
G))},!0).on("mouseup.zoom",function(){b.on("mousemove.zoom mouseup.zoom",null);Wi(H.view,a.moved);cb();a.end()},!0),d=Bc(this),f=H.clientX,g=H.clientY;Vi(H.view);H.stopImmediatePropagation();a.mouse=[d,this.__zoom.invert(d)];Ic(this);a.start()}}function u(){if(k.apply(this,arguments)){var d=this.__zoom,g=Bc(this),e=d.invert(g);d=z(c(a(d,d.k*(H.shiftKey?.5:2)),g,e),y.apply(this,arguments),G);cb();0<p?eb(this).transition().duration(p).call(f,d,g):eb(this).call(b.transform,d)}}function v(){if(k.apply(this,
arguments)){var a=e(this,arguments),b=H.changedTouches,c=b.length,d;H.stopImmediatePropagation();for(d=0;d<c;++d){var f=b[d];var g=Se(this,b,f.identifier);g=[g,this.__zoom.invert(g),f.identifier];if(a.touch0)a.touch1||(a.touch1=g);else{a.touch0=g;var l=!0}}if(I&&(I=clearTimeout(I),!a.touch1)){a.end();(g=eb(this).on("dblclick.zoom"))&&g.apply(this,arguments);return}l&&(I=setTimeout(function(){I=null},500),Ic(this),a.start())}}function m(){var b=e(this,arguments),d=H.changedTouches,f=d.length,g;cb();
I&&(I=clearTimeout(I));for(g=0;g<f;++g){var l=d[g];var n=Se(this,d,l.identifier);b.touch0&&b.touch0[2]===l.identifier?b.touch0[0]=n:b.touch1&&b.touch1[2]===l.identifier&&(b.touch1[0]=n)}l=b.that.__zoom;if(b.touch1){n=b.touch0[0];d=b.touch0[1];g=b.touch1[0];f=b.touch1[1];var h=(h=g[0]-n[0])*h+(h=g[1]-n[1])*h;var u=(u=f[0]-d[0])*u+(u=f[1]-d[1])*u;l=a(l,Math.sqrt(h/u));n=[(n[0]+g[0])/2,(n[1]+g[1])/2];h=[(d[0]+f[0])/2,(d[1]+f[1])/2]}else if(b.touch0)n=b.touch0[0],h=b.touch0[1];else return;b.zoom("touch",
z(c(l,n,h),b.extent,G))}function q(){var a=e(this,arguments),b=H.changedTouches,c=b.length,d;H.stopImmediatePropagation();N&&clearTimeout(N);N=setTimeout(function(){N=null},500);for(d=0;d<c;++d){var f=b[d];a.touch0&&a.touch0[2]===f.identifier?delete a.touch0:a.touch1&&a.touch1[2]===f.identifier&&delete a.touch1}a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1);a.touch0?a.touch0[1]=this.__zoom.invert(a.touch0[0]):a.end()}var k=Tj,y=Uj,z=Xj,w=Vj,J=Wj,t=[0,Infinity],G=[[-Infinity,-Infinity],[Infinity,
Infinity]],p=250,E=nj,r=[],C=ed("start","zoom","end"),I,N,Y=0;b.transform=function(a,b){var c=a.selection?a.selection():a;c.property("__zoom",of);a!==c?f(a,b):c.interrupt().each(function(){e(this,arguments).start().zoom(null,"function"===typeof b?b.apply(this,arguments):b).end()})};b.scaleBy=function(a,c){b.scaleTo(a,function(){var a=this.__zoom.k,b="function"===typeof c?c.apply(this,arguments):c;return a*b})};b.scaleTo=function(f,g){b.transform(f,function(){var b=y.apply(this,arguments),f=this.__zoom,
e=d(b),l=f.invert(e),n="function"===typeof g?g.apply(this,arguments):g;return z(c(a(f,n),e,l),b,G)})};b.translateBy=function(a,c,d){b.transform(a,function(){return z(this.__zoom.translate("function"===typeof c?c.apply(this,arguments):c,"function"===typeof d?d.apply(this,arguments):d),y.apply(this,arguments),G)})};b.translateTo=function(a,c,f){b.transform(a,function(){var a=y.apply(this,arguments),b=this.__zoom,g=d(a);return z(Kc.translate(g[0],g[1]).scale(b.k).translate("function"===typeof c?-c.apply(this,
arguments):-c,"function"===typeof f?-f.apply(this,arguments):-f),a,G)})};g.prototype={start:function(){1===++this.active&&(this.index=r.push(this)-1,this.emit("start"));return this},zoom:function(a,b){this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0]));this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0]));this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0]));this.that.__zoom=b;this.emit("zoom");return this},end:function(){0===--this.active&&(r.splice(this.index,
1),this.index=-1,this.emit("end"));return this},emit:function(a){var c=new Sj(b,a,this.that.__zoom),d=C.apply;a=[a,this.that,this.args];var f=H;c.sourceEvent=H;H=c;try{d.apply(C,a)}finally{H=f}}};b.wheelDelta=function(a){return arguments.length?(w="function"===typeof a?a:Jc(+a),b):w};b.filter=function(a){return arguments.length?(k="function"===typeof a?a:Jc(!!a),b):k};b.touchable=function(a){return arguments.length?(J="function"===typeof a?a:Jc(!!a),b):J};b.extent=function(a){return arguments.length?
(y="function"===typeof a?a:Jc([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):y};b.scaleExtent=function(a){return arguments.length?(t[0]=+a[0],t[1]=+a[1],b):[t[0],t[1]]};b.translateExtent=function(a){return arguments.length?(G[0][0]=+a[0][0],G[1][0]=+a[1][0],G[0][1]=+a[0][1],G[1][1]=+a[1][1],b):[[G[0][0],G[0][1]],[G[1][0],G[1][1]]]};b.constrain=function(a){return arguments.length?(z=a,b):z};b.duration=function(a){return arguments.length?(p=+a,b):p};b.interpolate=function(a){return arguments.length?
(E=a,b):E};b.on=function(){var a=C.on.apply(C,arguments);return a===C?b:a};b.clickDistance=function(a){return arguments.length?(Y=(a=+a)*a,b):Math.sqrt(Y)};return b}function Zj(b){return function(){return b}}function wd(b,a){if(b===a||b!==b)return Zj(b);var c=typeof b;if(c!==typeof a||Array.isArray(b)!==Array.isArray(a))throw Error("Cannot interpolate values of different type");if(Array.isArray(b)){var d=a.map(function(a,c){return wd(b[c],a)});return function(a){return d.map(function(b){return b(a)})}}if("object"===
c){if(!b||!a)throw Error("Object cannot be null");if("[object Date]"===Object.prototype.toString.call(b)&&"[object Date]"===Object.prototype.toString.call(a)){b=b.getTime();a=a.getTime();var f=a-b;return function(a){return new Date(b+a*f)}}var e=Object.keys(a),g={},h={};e.forEach(function(c){g[c]=wd(b[c],a[c])});return function(a){e.forEach(function(b){h[b]=g[b](a)});return h}}if("number"===c){var n=a-b;return function(a){return b+a*n}}throw Error("Cannot interpolate "+c+" values");}function ak(b){return b}
function bk({clientWidth:b,clientHeight:a}){return Math.min(b,a)}function ck({msx:b,msy:a}){return void 0!=b&&void 0!=a}function dk({transform:b,msx:a,msy:c}){return b&&void 0!=a&&void 0!=c?[b.invertX(a),b.invertY(c)]:null}function ek({scale:b,translateX:a,translateY:c,minSize:d,clientWidth:f,clientHeight:e}){a=-a/b;c=-c/b;return[[a/d,(a+f/b)/d],[c/d,(c+e/b)/d]]}function fk({extent:b}){return(b[0][0]+b[0][1])/2}function gk({extent:b}){return(b[1][0]+b[1][1])/2}function hk(){let {z:b,scaleExtent:a,
minSize:c,homeScale:d,homeX:f,homeY:e}=this.get(),g=this;b.wheelDelta(()=>{let a=-H.deltaY*(H.deltaMode?120:1)/500;H.ctrlKey&&(a*=10);return a});b.scaleExtent(a);let h=eb(this.refs.root);this.set({selection:h,el:this.refs.root});b(h);b.filter(this.zoomEventFilter.bind(this));b.on("zoom",()=>{this.onzoom(g)});b.translateTo(h,f*c,e*c);b.scaleTo(h,d)}function rf({changed:b,current:a,previous:c}){void 0!=c&&(b.clientWidth||b.clientHeight)&&a.el&&this.update();let {}=this.get()}function ik(b,a){function c(){b.set({clientWidth:g.clientWidth,
clientHeight:g.clientHeight})}function d(a){b.mouseMove(a)}function f(a){b.set({msx:null,msy:null})}function e(a){b.set({msx:null,msy:null})}var g,h=b._slotted.default,n;return{c(){g=m("div");b.root._beforecreate.push(c);g.addEventListener("mousemove",d,void 0);g.addEventListener("mousedown",f,void 0);g.addEventListener("mouseout",e,void 0);g.className="d3zoom svelte-kaete3 svelte-ref-root"},m(a,d){a.insertBefore(g,d);h&&g.appendChild(h);n=Ra(g,c);b.refs.root=g},p:W,d(a){a&&C(g);h&&hb(g,h);n.cancel();
g.removeEventListener("mousemove",d,void 0);g.removeEventListener("mousedown",f,void 0);g.removeEventListener("mouseout",e,void 0);b.refs.root===g&&(b.refs.root=null)}}}function Lc(b){B(this,b);this.refs={};this._state=r({z:Yj(),el:null,selection:null,transform:null,scaleExtent:[1,48],homeScale:1,homeX:.5,homeY:.5,scale:null,translateX:null,translateY:null,k:1,x:0,y:0,msx:null,msy:null,disableBehaviors:!1,scrollWheel:!1},b.data);this._recompute({clientWidth:1,clientHeight:1,msx:1,msy:1,transform:1,
minSize:1,scale:1,translateX:1,translateY:1,extent:1},this._state);this._intro=!0;this._handlers.state=[rf];this._slotted=b.slots||{};rf.call(this,{changed:ma({},this._state),current:this._state});this._fragment=ik(this,this._state);this.root._oncreate.push(()=>{hk.call(this);this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function jk({layers:b,layer:a}){if(null==b)return 0;let c=0;b[a].forEach((a)=>{a.forEach((a)=>
{a&&500<a.num_activations&&(a=a.full_class_values[0],a>c&&(c=a))})});return c}function kk({viewWidth:b,screenResolution:a}){return b*a}function lk({viewHeight:b,screenResolution:a}){return b*a}function mk({scale:b,gridSize:a,config:c,classHeatmap:d,w:f,h:e,autoGridSizeMultiplier:g}){b=-1<a?+a:Math.floor(Math.sqrt(Math.max(f,e)*b/80/g/20));c&&(b=Math.min(c.grid_size.length-1,b));-1<d&&(b=Math.min(2,b));return b}function nk({currentZoomIndex:b,layers:a}){return a?a[b]:[[]]}function ok({labelsBufferContext:b,
labels:a,fontSize:c,textColor:d,textShadowColor:f}){b&&a&&(b.globalAlpha=1,b.font=c+"px Helvetica",a.forEach((a,c)=>{b.lineWidth=3;b.lineJoin="round";b.strokeStyle=f;b.strokeText(a,c%10*150+10,20*Math.floor(c/10+1),80,15);b.fillStyle=d;b.fillStyle=d;b.fillText(a,c%10*150+10,20*Math.floor(c/10+1),80,15)}))}function pk({hoverIconData:b,mouseGlobalPosition:a}){return a&&b&&b.gcx}function qk({currentLayerData:b,mouseGlobalPosition:a,w:c,h:d}){if(b){let f=b.length;if(a){let e=Math.floor(a[0]/Math.min(c,
d)*f);a=Math.floor(a[1]/Math.min(c,d)*f);return b[a]&&b[a][e]?b[a][e]:{}}}return{}}function rk({hoverIconData:b,scale:a,w:c,h:d,translateX:f}){return b.gy*a*Math.min(c,d)+f}function sk({hoverIconData:b,scale:a,w:c,h:d,translateY:f}){return b.gx*a*Math.min(c,d)+f}function tk({hoverIconData:b,scale:a,w:c,h:d}){return b.gw*a*Math.min(c,d)}function uk({mouseGlobalPosition:b,hoverIconData:a,enableHover:c}){return c&&b&&a&&a.gw}function vk({changed:b,current:a}){if(!a.context||b.viewWidth||b.viewHeight){var c=
this.refs.labelsCanvas.getContext("2d");c.imageSmoothingEnabled=!1;this.set({context:this.refs.canvas.getContext("2d"),labelsContext:c})}(b.loading||b.autoGridSizeMultiplier||b.labels||b.density||b.maxAttributionValue||b.classHeatmap||b.classHeatmapMultiplier||b.classHeatmapPositive||b.showLabels||b.viewWidth||b.viewHeight||b.scale||b.translateX||b.translateY||b.iconCrop||b.gridSize||b.layers)&&this.render();if(b.hoverIconData){var {tooltip:c}=this.store.get();let {showHoverIcon:b}=this.get();b?c.show(a.hoverIconData):
c.hide()}if(b.showHoverIcon&&0==a.showHoverIcon){var {tooltip:b}=this.store.get();b.hide()}}function wk(b,a){function c(){b.set({viewWidth:e.clientWidth,viewHeight:e.clientHeight})}var d,f,e,g,h,n,u,v,x,q,ka,y,z,w={};if(void 0!==a.ready){w.ready=a.ready;var J=!0}var t=new Fb({root:b.root,store:b.store,data:w,_bind(a,c){var d={};!J&&a.ready&&(d.ready=c.ready);b._set(d);J=void 0}});b.root._beforecreate.push(()=>{t._bind({ready:1},t.get())});var G=a.ready&&sf(b,a),p=a.showHoverIcon&&tf(b,a);w={homeX:a.homeX,
homeY:a.homeY,homeScale:a.homeScale};if(void 0!==a.scale){w.scale=a.scale;var E=!0}if(void 0!==a.translateX){w.translateX=a.translateX;var r=!0}if(void 0!==a.translateY){w.translateY=a.translateY;var Q=!0}if(void 0!==a.mouseOver){w.mouseOver=a.mouseOver;var I=!0}if(void 0!==a.mouseGlobalPosition){w.mouseGlobalPosition=a.mouseGlobalPosition;var N=!0}if(void 0!==a.extent){w.extent=a.extent;var Y=!0}if(void 0!==a.scrollWheel){w.scrollWheel=a.scrollWheel;var M=!0}if(void 0!==a.disableBehaviors){w.disableBehaviors=
a.disableBehaviors;var ja=!0}if(void 0!==a.gcx){w.gcx=a.gcx;var P=!0}if(void 0!==a.gcy){w.gcy=a.gcy;var O=!0}var K=new Lc({root:b.root,store:b.store,slots:{default:X()},data:w,_bind(a,c){var d={};!E&&a.scale&&(d.scale=c.scale);!r&&a.translateX&&(d.translateX=c.translateX);!Q&&a.translateY&&(d.translateY=c.translateY);!I&&a.mouseOver&&(d.mouseOver=c.mouseOver);!N&&a.mouseGlobalPosition&&(d.mouseGlobalPosition=c.mouseGlobalPosition);!Y&&a.extent&&(d.extent=c.extent);!M&&a.scrollWheel&&(d.scrollWheel=
c.scrollWheel);!ja&&a.disableBehaviors&&(d.disableBehaviors=c.disableBehaviors);!P&&a.gcx&&(d.gcx=c.gcx);!O&&a.gcy&&(d.gcy=c.gcy);b._set(d);O=P=ja=M=Y=N=I=Q=r=E=void 0}});b.root._beforecreate.push(()=>{K._bind({scale:1,translateX:1,translateY:1,mouseOver:1,mouseGlobalPosition:1,extent:1,scrollWheel:1,disableBehaviors:1,gcx:1,gcy:1},K.get())});b.refs.d3Zoom=K;return{c(){t._fragment.c();d=k("\n\n");G&&G.c();f=k("\n\n");e=m("div");g=m("canvas");u=k("\n    ");v=m("canvas");ka=k("\n    ");p&&p.c();y=la();
K._fragment.c();g.width=h=a.viewWidth*a.screenResolution;g.height=n=a.viewHeight*a.screenResolution;g.className="svelte-w9b5xg svelte-ref-canvas";v.width=x=a.viewWidth*a.screenResolution;v.height=q=a.viewHeight*a.screenResolution;v.className="svelte-w9b5xg svelte-ref-labelsCanvas";b.root._beforecreate.push(c);e.className="svelte-w9b5xg svelte-ref-root"},m(a,l){t._mount(a,l);a.insertBefore(d,l);G&&G.m(a,l);a.insertBefore(f,l);a.insertBefore(e,l);K._slotted.default.appendChild(g);b.refs.canvas=g;K._slotted.default.appendChild(u);
K._slotted.default.appendChild(v);b.refs.labelsCanvas=v;K._slotted.default.appendChild(ka);p&&p.m(K._slotted.default,null);K._slotted.default.appendChild(y);K._mount(e,null);z=Ra(e,c);b.refs.root=e},p(c,d){a=d;d={};!J&&c.ready&&(d.ready=a.ready,J=void 0!==a.ready);t._set(d);J=void 0;a.ready?G?G.p(c,a):(G=sf(b,a),G.c(),G.m(f.parentNode,f)):G&&(G.d(1),G=null);(c.viewWidth||c.screenResolution)&&h!==(h=a.viewWidth*a.screenResolution)&&(g.width=h);(c.viewHeight||c.screenResolution)&&n!==(n=a.viewHeight*
a.screenResolution)&&(g.height=n);(c.viewWidth||c.screenResolution)&&x!==(x=a.viewWidth*a.screenResolution)&&(v.width=x);(c.viewHeight||c.screenResolution)&&q!==(q=a.viewHeight*a.screenResolution)&&(v.height=q);a.showHoverIcon?p?p.p(c,a):(p=tf(b,a),p.c(),p.m(y.parentNode,y)):p&&(p.d(1),p=null);d={};c.homeX&&(d.homeX=a.homeX);c.homeY&&(d.homeY=a.homeY);c.homeScale&&(d.homeScale=a.homeScale);!E&&c.scale&&(d.scale=a.scale,E=void 0!==a.scale);!r&&c.translateX&&(d.translateX=a.translateX,r=void 0!==a.translateX);
!Q&&c.translateY&&(d.translateY=a.translateY,Q=void 0!==a.translateY);!I&&c.mouseOver&&(d.mouseOver=a.mouseOver,I=void 0!==a.mouseOver);!N&&c.mouseGlobalPosition&&(d.mouseGlobalPosition=a.mouseGlobalPosition,N=void 0!==a.mouseGlobalPosition);!Y&&c.extent&&(d.extent=a.extent,Y=void 0!==a.extent);!M&&c.scrollWheel&&(d.scrollWheel=a.scrollWheel,M=void 0!==a.scrollWheel);!ja&&c.disableBehaviors&&(d.disableBehaviors=a.disableBehaviors,ja=void 0!==a.disableBehaviors);!P&&c.gcx&&(d.gcx=a.gcx,P=void 0!==
a.gcx);!O&&c.gcy&&(d.gcy=a.gcy,O=void 0!==a.gcy);K._set(d);O=P=ja=M=Y=N=I=Q=r=E=void 0},d(a){t.destroy(a);a&&C(d);G&&G.d(a);a&&(C(f),C(e));b.refs.canvas===g&&(b.refs.canvas=null);b.refs.labelsCanvas===v&&(b.refs.labelsCanvas=null);p&&p.d();K.destroy();b.refs.d3Zoom===K&&(b.refs.d3Zoom=null);z.cancel();b.refs.root===e&&(b.refs.root=null)}}}function sf(b,a){var c={id:a.id,layer:a.layer,layout:a.layout,classFilter:a.classFilter,filter:a.filter};if(void 0!==a.config){c.config=a.config;var d=!0}if(void 0!==
a.layers){c.layers=a.layers;var f=!0}if(void 0!==a.labels){c.labels=a.labels;var e=!0}if(void 0!==a.loading){c.loading=a.loading;var g=!0}var h=new dd({root:b.root,store:b.store,data:c,_bind(a,c){var l={};!d&&a.config&&(l.config=c.config);!f&&a.layers&&(l.layers=c.layers);!e&&a.labels&&(l.labels=c.labels);!g&&a.loading&&(l.loading=c.loading);b._set(l);g=e=f=d=void 0}});b.root._beforecreate.push(()=>{h._bind({config:1,layers:1,labels:1,loading:1},h.get())});return{c(){h._fragment.c()},m(a,b){h._mount(a,
b)},p(b,c){a=c;c={};b.id&&(c.id=a.id);b.layer&&(c.layer=a.layer);b.layout&&(c.layout=a.layout);b.classFilter&&(c.classFilter=a.classFilter);b.filter&&(c.filter=a.filter);!d&&b.config&&(c.config=a.config,d=void 0!==a.config);!f&&b.layers&&(c.layers=a.layers,f=void 0!==a.layers);!e&&b.labels&&(c.labels=a.labels,e=void 0!==a.labels);!g&&b.loading&&(c.loading=a.loading,g=void 0!==a.loading);h._set(c);g=e=f=d=void 0},d(a){h.destroy(a)}}}function tf(b,a){var c;return{c(){c=m("div");t(c,"left",""+a.hoverIconX+
"px");t(c,"top",""+a.hoverIconY+"px");t(c,"width",""+a.hoverIconW+"px");t(c,"height",""+a.hoverIconW+"px");c.className="svelte-w9b5xg svelte-ref-hover"},m(a,f){a.insertBefore(c,f);b.refs.hover=c},p(a,b){a.hoverIconX&&t(c,"left",""+b.hoverIconX+"px");a.hoverIconY&&t(c,"top",""+b.hoverIconY+"px");a.hoverIconW&&(t(c,"width",""+b.hoverIconW+"px"),t(c,"height",""+b.hoverIconW+"px"))},d(a){a&&C(c);b.refs.hover===c&&(b.refs.hover=null)}}}function Pb(b){B(this,b);this.refs={};this._state=r({ready:!0,id:"inceptionv1_mixed4c",
config:null,layers:null,layer:0,layout:0,classFilter:0,filter:0,context:null,alphaAttributionFactor:.02,density:1,classHeatmap:-1,classHeatmapMultiplier:1,classHeatmapPositive:1,iconCrop:.02,autoGridSizeMultiplier:.5,gridSize:null,homeX:.5,homeY:.5,homeScale:1,enableClickToZoom:!0,enableHover:!0,enableDragToPan:!0,backgroundColor:"white",strokeColor:"rgb(220, 220, 220)",strokeThickness:1,imageSmoothing:!1,fontSize:10,textColor:"white",textShadowColor:"rgba(0, 0, 0, 0.6)",showLabels:!0,screenResolution:1},
b.data);this._recompute({layers:1,layer:1,viewWidth:1,screenResolution:1,viewHeight:1,scale:1,gridSize:1,config:1,classHeatmap:1,w:1,h:1,autoGridSizeMultiplier:1,currentZoomIndex:1,labelsBufferContext:1,labels:1,fontSize:1,textColor:1,textShadowColor:1,currentLayerData:1,mouseGlobalPosition:1,translateX:1,translateY:1,hoverIconData:1,enableHover:1},this._state);this._intro=!0;this._handlers.update=[vk];this._fragment=wk(this,this._state);this.root._oncreate.push(()=>{{let a=document.createElement("canvas");
a.width=1500;a.height=2040;let b=a.getContext("2d");this.set({labelsBufferCanvas:a,labelsBufferContext:b})}this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function xk(b,a){var c,d,f=b._slotted.head,e,g,h=b._slotted.body;return{c(){c=m("div");d=m("div");e=k("\n  ");g=m("div");d.className="head svelte-l56anp";g.className="body svelte-l56anp";c.className="root svelte-l56anp"},m(a,b){a.insertBefore(c,b);c.appendChild(d);
f&&d.appendChild(f);c.appendChild(e);c.appendChild(g);h&&g.appendChild(h)},p:W,d(a){a&&C(c);f&&hb(d,f);h&&hb(g,h)}}}function xd(b){B(this,b);this._state=r({},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=xk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function yk({gridSize:b}){return 20*(b+1)}function zk({iconScaleFactor:b,realGridSize:a}){return 1E6/(a*a*b)}function Ak(b,a){function c(){b.store.set({scroll:B.checked})}function d(){b.set({showLabels:D.checked})}
function f(){b.set({gridSize:ia.__value})}function l(){b.set({gridSize:aa.__value})}function g(){b.set({gridSize:oa.__value})}function h(){b.set({gridSize:xa.__value})}function n(){b.set({gridSize:Aa.__value})}function u(){b.set({gridSize:Ja.__value})}function v(){b.set({autoGridSizeMultiplier:Qc(ya.value)})}function x(){b.set({density:Qc(Ka.value)})}function q(){b.set({classHeatmapPositive:qa.__value})}function ka(){b.set({classHeatmapPositive:ta.__value})}function y(){b.set({classHeatmapMultiplier:Qc(lb.value)})}
function z(a){b.toggle()}var w,J,p,G,r,E,R,Q,I,N,Y,M,ja,P,O,K,U,V,T,Ob,pf,qf,db,ua,fb,B,A,F,H,D,L,ca,da,za,pa,W,S,Z,ia,Ba,qb,la,aa,Ca,uf,Xb,oa,vf,Xa,ha,xa,ma,na,gb,Aa,wf,Wa,Yb,Ja,Ga,va,mb,ra,Na,Zb,nb,ya,Ra,Qb,$b,Ia,ob,La,Ka,wa,Ea,ea,Ma,ac,qa,xf,Ta,Da,ta,Ua,yf,Fa,zf,bc,Af,lb,hb,wb,Ha,Ya,eb,vb,sa=Rb(a.gcx),bb,xb,Oa,Ab,ib=Rb(a.gcy),tb,Bb,$a,Cb,Va=Rb(a.scale),yb,Db,rb,Sb,sb=a.showOptions?"fewer options":"more options",zb,ub,Ib={};if(void 0!==a.classHeatmap){Ib.classHeatmap=a.classHeatmap;var Za=!0}var Tb=
new $c({root:b.root,store:b.store,data:Ib,_bind(a,c){var d={};!Za&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);Za=void 0}});b.root._beforecreate.push(()=>{Tb._bind({classHeatmap:1},Tb.get())});var Ub=new xd({root:b.root,store:b.store,slots:{default:X(),body:X(),head:X()}}),Jb={classHeatmap:a.classHeatmap};if(void 0!==a.layerName){Jb.layerName=a.layerName;var ab=!0}var Vb=new te({root:b.root,store:b.store,data:Jb,_bind(a,c){var d={};!ab&&a.layerName&&(d.layerName=c.layerName);b._set(d);
ab=void 0}});b.root._beforecreate.push(()=>{Vb._bind({layerName:1},Vb.get())});var Wb=new xd({root:b.root,store:b.store,slots:{default:X(),body:X(),head:X()}}),pb={id:"inceptionv1_"+a.layerName,strokeColor:"#666",backgroundColor:"#dfdfdf",showHoverImage:!1,classHeatmap:a.classHeatmap,homeX:a.homeX,homeY:a.homeY,homeScale:a.homeScale};if(void 0!==a.density){pb.density=a.density;var Sa=!0}if(void 0!==a.iconCrop){pb.iconCrop=a.iconCrop;var jb=!0}if(void 0!==a.classHeatmapMultiplier){pb.classHeatmapMultiplier=
a.classHeatmapMultiplier;var cb=!0}if(void 0!==a.classHeatmapPositive){pb.classHeatmapPositive=a.classHeatmapPositive;var kb=!0}if(void 0!==a.autoGridSizeMultiplier){pb.autoGridSizeMultiplier=a.autoGridSizeMultiplier;var Pa=!0}if(void 0!==a.gridSize){pb.gridSize=a.gridSize;var Qa=!0}if(void 0!==a.showLabels){pb.showLabels=a.showLabels;var cc=!0}if(void 0!==a.scale){pb.scale=a.scale;var dc=!0}if(void 0!==a.gcx){pb.gcx=a.gcx;var ec=!0}if(void 0!==a.gcy){pb.gcy=a.gcy;var fc=!0}if(void 0!==a.extent){pb.extent=
a.extent;var gc=!0}if(void 0!==a.$scroll){pb.scrollWheel=a.$scroll;var hc=!0}var Kb=new Pb({root:b.root,store:b.store,data:pb,_bind(a,c){var d={},f={};!Sa&&a.density&&(d.density=c.density);!jb&&a.iconCrop&&(d.iconCrop=c.iconCrop);!cb&&a.classHeatmapMultiplier&&(d.classHeatmapMultiplier=c.classHeatmapMultiplier);!kb&&a.classHeatmapPositive&&(d.classHeatmapPositive=c.classHeatmapPositive);!Pa&&a.autoGridSizeMultiplier&&(d.autoGridSizeMultiplier=c.autoGridSizeMultiplier);!Qa&&a.gridSize&&(d.gridSize=
c.gridSize);!cc&&a.showLabels&&(d.showLabels=c.showLabels);!dc&&a.scale&&(d.scale=c.scale);!ec&&a.gcx&&(d.gcx=c.gcx);!fc&&a.gcy&&(d.gcy=c.gcy);!gc&&a.extent&&(d.extent=c.extent);!hc&&a.scrollWheel&&(f.scroll=c.scrollWheel);b.store.set(f);b._set(d);hc=gc=fc=ec=dc=cc=Qa=Pa=kb=cb=jb=Sa=void 0}});b.root._beforecreate.push(()=>{Kb._bind({density:1,iconCrop:1,classHeatmapMultiplier:1,classHeatmapPositive:1,autoGridSizeMultiplier:1,gridSize:1,showLabels:1,scale:1,gcx:1,gcy:1,extent:1,scrollWheel:1},Kb.get())});
b.refs.atlas=Kb;var Lb={id:"inceptionv1_"+a.layerName,layerName:a.layerName,enableDragging:!0,classHeatmap:a.classHeatmap,scaleCountFactor:a.scaleCountFactor};if(void 0!==a.extent){Lb.extent=a.extent;var ic=!0}var Nb=new he({root:b.root,store:b.store,data:Lb,_bind(a,c){var d={};!ic&&a.extent&&(d.extent=c.extent);b._set(d);ic=void 0}});b.root._beforecreate.push(()=>{Nb._bind({extent:1},Nb.get())});Nb.on("drag",function(a){b.refs.atlas.translateTo(a.gcx,a.gcy)});var Eb=new Hb({root:b.root,store:b.store,
data:{name:"home",color:"white"}}),jc=new Mb({root:b.root,store:b.store,slots:{default:X()}});jc.on("click",function(a){b.refs.atlas.home(3E3)});var Fb=new Hb({root:b.root,store:b.store,data:{name:"add",color:"white"}}),kc=new Mb({root:b.root,store:b.store,slots:{default:X()}});kc.on("click",function(a){b.refs.atlas.scaleBy(2)});var Gb=new Hb({root:b.root,store:b.store,data:{name:"remove",color:"white"}}),lc=new Mb({root:b.root,store:b.store,slots:{default:X()}});lc.on("click",function(a){b.refs.atlas.scaleBy(.5)});
return{c(){w=m("div");J=m("div");p=m("h2");p.textContent="Class Filter";G=k("\n        ");r=m("div");Tb._fragment.c();Ub._fragment.c();E=k("\n    ");R=m("div");Q=m("h2");Q.textContent="Layer";I=k("\n        ");N=m("div");Vb._fragment.c();Wb._fragment.c();Y=k("\n  ");M=m("div");ja=m("div");Kb._fragment.c();P=k("\n        ");O=m("div");K=m("div");U=m("div");Nb._fragment.c();V=k("\n            ");T=m("div");Eb._fragment.c();jc._fragment.c();Ob=k("\n              ");Fb._fragment.c();kc._fragment.c();
pf=k("\n              ");Gb._fragment.c();lc._fragment.c();qf=k("\n          ");db=m("div");ua=m("div");fb=m("label");B=m("input");A=k(" scroll to zoom");F=k("\n              ");H=m("label");D=m("input");L=k(" attribution labels");ca=k("\n            ");da=m("div");za=m("div");pa=m("div");W=m("h3");W.textContent="Grid size";S=k("\n                  ");Z=m("label");ia=m("input");Ba=k(" 20x20");qb=k("\n                  ");la=m("label");aa=m("input");Ca=k(" 40x40");uf=k("\n                  ");Xb=m("label");
oa=m("input");vf=k(" 80x80");Xa=k("\n                  ");ha=m("label");xa=m("input");ma=k(" 160x160");na=k("\n                  ");gb=m("label");Aa=m("input");wf=k(" 320x320");Wa=k("\n                  ");Yb=m("label");Ja=m("input");Ga=k(" auto");va=k("\n                  ");mb=m("div");ra=m("div");Na=k("auto threshold: ");Zb=m("noscript");nb=k("\n                    ");ya=m("input");Ra=k("\n                ");Qb=m("div");$b=m("h3");Ia=k("Icon density: ");ob=m("noscript");La=k("\n                  ");
Ka=m("input");wa=k("\n                ");Ea=m("div");ea=m("h3");ea.textContent="Class filter";Ma=k("\n                  ");ac=m("label");qa=m("input");xf=k(" positive influence");Ta=k("\n                  ");Da=m("label");ta=m("input");Ua=k(" negative influence");yf=k("\n                  ");Fa=m("div");zf=k("Intensity: ");bc=m("noscript");Af=k("\n                  ");lb=m("input");hb=k("\n                ");wb=m("div");Ha=m("h3");Ha.textContent="Location";Ya=k("\n                  ");eb=m("div");
vb=k("x: ");bb=k(sa);xb=k("\n                  ");Oa=m("div");Ab=k("y: ");tb=k(ib);Bb=k("\n                  ");$a=m("div");Cb=k("scale: ");yb=k(Va);Db=k("\n          ");rb=m("div");Sb=m("button");zb=k(sb);e(p,"slot","head");e(r,"slot","body");J.className="filter svelte-1xmf6n";t(J,"display",a.showClassFilter?"block":"none");e(Q,"slot","head");e(N,"slot","body");R.className="stack svelte-1xmf6n";t(R,"display",a.showLayerChooser?"block":"none");U.className="map svelte-1xmf6n";t(U,"display","block");
T.className="buttons svelte-1xmf6n";K.className="nav svelte-1xmf6n";B.addEventListener("change",c,void 0);e(B,"type","checkbox");fb.className="svelte-1xmf6n";D.addEventListener("change",d,void 0);e(D,"type","checkbox");H.className="svelte-1xmf6n";ua.className="essential";W.className="svelte-1xmf6n";b._bindingGroups[0].push(ia);ia.addEventListener("change",f,void 0);e(ia,"type","radio");ia.__value=0;ia.value=ia.__value;Z.className="svelte-1xmf6n";b._bindingGroups[0].push(aa);aa.addEventListener("change",
l,void 0);e(aa,"type","radio");aa.__value=1;aa.value=aa.__value;la.className="svelte-1xmf6n";b._bindingGroups[0].push(oa);oa.addEventListener("change",g,void 0);e(oa,"type","radio");oa.__value=2;oa.value=oa.__value;Xb.className="svelte-1xmf6n";b._bindingGroups[0].push(xa);xa.addEventListener("change",h,void 0);e(xa,"type","radio");xa.__value=3;xa.value=xa.__value;ha.className="svelte-1xmf6n";b._bindingGroups[0].push(Aa);Aa.addEventListener("change",n,void 0);e(Aa,"type","radio");Aa.__value=4;Aa.value=
Aa.__value;gb.className="svelte-1xmf6n";b._bindingGroups[0].push(Ja);Ja.addEventListener("change",u,void 0);e(Ja,"type","radio");Ja.__value=-1;Ja.value=Ja.__value;Yb.className="svelte-1xmf6n";ya.addEventListener("change",v,void 0);ya.addEventListener("input",v,void 0);e(ya,"type","range");ya.min=.5;ya.max=1.4;ya.step=.01;t(mb,"display","none");pa.className="section svelte-1xmf6n";$b.className="svelte-1xmf6n";Ka.addEventListener("change",x,void 0);Ka.addEventListener("input",x,void 0);e(Ka,"type",
"range");Ka.min=.2;Ka.max=8;Ka.step=.01;Qb.className="section svelte-1xmf6n";ea.className="svelte-1xmf6n";b._bindingGroups[1].push(qa);qa.addEventListener("change",q,void 0);e(qa,"type","radio");qa.__value=1;qa.value=qa.__value;ac.className="svelte-1xmf6n";b._bindingGroups[1].push(ta);ta.addEventListener("change",ka,void 0);e(ta,"type","radio");ta.__value=-1;ta.value=ta.__value;Da.className="svelte-1xmf6n";lb.addEventListener("change",y,void 0);lb.addEventListener("input",y,void 0);e(lb,"type","range");
lb.min="0.5";lb.max="2";lb.step="0.1";Ea.className="section svelte-1xmf6n";t(Ea,"display",-1<a.classHeatmap?"block":"none");Ha.className="svelte-1xmf6n";wb.className="section svelte-1xmf6n";za.className="grid-size";da.className="expand svelte-1xmf6n";db.className="options svelte-1xmf6n";Sb.addEventListener("click",z,void 0);Sb.className="svelte-1xmf6n";rb.className="expand-toggle svelte-1xmf6n";O.className=ub=(a.showOptions?"open":"closed")+" svelte-1xmf6n svelte-ref-controls";ja.className="atlas svelte-1xmf6n";
M.className="main svelte-1xmf6n";w.className="container svelte-1xmf6n"},m(c,d){c.insertBefore(w,d);w.appendChild(J);Ub._slotted.head.appendChild(p);Ub._slotted.default.appendChild(G);Ub._slotted.body.appendChild(r);Tb._mount(r,null);Ub._mount(J,null);w.appendChild(E);w.appendChild(R);Wb._slotted.head.appendChild(Q);Wb._slotted.default.appendChild(I);Wb._slotted.body.appendChild(N);Vb._mount(N,null);Wb._mount(R,null);w.appendChild(Y);w.appendChild(M);M.appendChild(ja);Kb._mount(ja,null);ja.appendChild(P);
ja.appendChild(O);O.appendChild(K);K.appendChild(U);Nb._mount(U,null);K.appendChild(V);K.appendChild(T);Eb._mount(jc._slotted.default,null);jc._mount(T,null);T.appendChild(Ob);Fb._mount(kc._slotted.default,null);kc._mount(T,null);T.appendChild(pf);Gb._mount(lc._slotted.default,null);lc._mount(T,null);O.appendChild(qf);O.appendChild(db);db.appendChild(ua);ua.appendChild(fb);fb.appendChild(B);B.checked=a.$scroll;fb.appendChild(A);ua.appendChild(F);ua.appendChild(H);H.appendChild(D);D.checked=a.showLabels;
H.appendChild(L);db.appendChild(ca);db.appendChild(da);da.appendChild(za);za.appendChild(pa);pa.appendChild(W);pa.appendChild(S);pa.appendChild(Z);Z.appendChild(ia);ia.checked=ia.__value===a.gridSize;Z.appendChild(Ba);pa.appendChild(qb);pa.appendChild(la);la.appendChild(aa);aa.checked=aa.__value===a.gridSize;la.appendChild(Ca);pa.appendChild(uf);pa.appendChild(Xb);Xb.appendChild(oa);oa.checked=oa.__value===a.gridSize;Xb.appendChild(vf);pa.appendChild(Xa);pa.appendChild(ha);ha.appendChild(xa);xa.checked=
xa.__value===a.gridSize;ha.appendChild(ma);pa.appendChild(na);pa.appendChild(gb);gb.appendChild(Aa);Aa.checked=Aa.__value===a.gridSize;gb.appendChild(wf);pa.appendChild(Wa);pa.appendChild(Yb);Yb.appendChild(Ja);Ja.checked=Ja.__value===a.gridSize;Yb.appendChild(Ga);pa.appendChild(va);pa.appendChild(mb);mb.appendChild(ra);ra.appendChild(Na);ra.appendChild(Zb);Zb.insertAdjacentHTML("afterend",a.autoGridSizeMultiplier);mb.appendChild(nb);mb.appendChild(ya);ya.value=a.autoGridSizeMultiplier;za.appendChild(Ra);
za.appendChild(Qb);Qb.appendChild($b);$b.appendChild(Ia);$b.appendChild(ob);ob.insertAdjacentHTML("afterend",a.density);Qb.appendChild(La);Qb.appendChild(Ka);Ka.value=a.density;za.appendChild(wa);za.appendChild(Ea);Ea.appendChild(ea);Ea.appendChild(Ma);Ea.appendChild(ac);ac.appendChild(qa);qa.checked=qa.__value===a.classHeatmapPositive;ac.appendChild(xf);Ea.appendChild(Ta);Ea.appendChild(Da);Da.appendChild(ta);ta.checked=ta.__value===a.classHeatmapPositive;Da.appendChild(Ua);Ea.appendChild(yf);Ea.appendChild(Fa);
Fa.appendChild(zf);Fa.appendChild(bc);bc.insertAdjacentHTML("afterend",a.classHeatmapMultiplier);Ea.appendChild(Af);Ea.appendChild(lb);lb.value=a.classHeatmapMultiplier;za.appendChild(hb);za.appendChild(wb);wb.appendChild(Ha);wb.appendChild(Ya);wb.appendChild(eb);eb.appendChild(vb);eb.appendChild(bb);wb.appendChild(xb);wb.appendChild(Oa);Oa.appendChild(Ab);Oa.appendChild(tb);wb.appendChild(Bb);wb.appendChild($a);$a.appendChild(Cb);$a.appendChild(yb);b.refs.expand=da;O.appendChild(Db);O.appendChild(rb);
rb.appendChild(Sb);Sb.appendChild(zb);b.refs.controls=O},p(b,c){a=c;c={};!Za&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,Za=void 0!==a.classHeatmap);Tb._set(c);Za=void 0;b.showClassFilter&&t(J,"display",a.showClassFilter?"block":"none");c={};b.classHeatmap&&(c.classHeatmap=a.classHeatmap);!ab&&b.layerName&&(c.layerName=a.layerName,ab=void 0!==a.layerName);Vb._set(c);ab=void 0;b.showLayerChooser&&t(R,"display",a.showLayerChooser?"block":"none");c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);
b.classHeatmap&&(c.classHeatmap=a.classHeatmap);b.homeX&&(c.homeX=a.homeX);b.homeY&&(c.homeY=a.homeY);b.homeScale&&(c.homeScale=a.homeScale);!Sa&&b.density&&(c.density=a.density,Sa=void 0!==a.density);!jb&&b.iconCrop&&(c.iconCrop=a.iconCrop,jb=void 0!==a.iconCrop);!cb&&b.classHeatmapMultiplier&&(c.classHeatmapMultiplier=a.classHeatmapMultiplier,cb=void 0!==a.classHeatmapMultiplier);!kb&&b.classHeatmapPositive&&(c.classHeatmapPositive=a.classHeatmapPositive,kb=void 0!==a.classHeatmapPositive);!Pa&&
b.autoGridSizeMultiplier&&(c.autoGridSizeMultiplier=a.autoGridSizeMultiplier,Pa=void 0!==a.autoGridSizeMultiplier);!Qa&&b.gridSize&&(c.gridSize=a.gridSize,Qa=void 0!==a.gridSize);!cc&&b.showLabels&&(c.showLabels=a.showLabels,cc=void 0!==a.showLabels);!dc&&b.scale&&(c.scale=a.scale,dc=void 0!==a.scale);!ec&&b.gcx&&(c.gcx=a.gcx,ec=void 0!==a.gcx);!fc&&b.gcy&&(c.gcy=a.gcy,fc=void 0!==a.gcy);!gc&&b.extent&&(c.extent=a.extent,gc=void 0!==a.extent);!hc&&b.$scroll&&(c.scrollWheel=a.$scroll,hc=void 0!==a.$scroll);
Kb._set(c);hc=gc=fc=ec=dc=cc=Qa=Pa=kb=cb=jb=Sa=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);b.layerName&&(c.layerName=a.layerName);b.classHeatmap&&(c.classHeatmap=a.classHeatmap);b.scaleCountFactor&&(c.scaleCountFactor=a.scaleCountFactor);!ic&&b.extent&&(c.extent=a.extent,ic=void 0!==a.extent);Nb._set(c);ic=void 0;b.scale&&t(U,"display","block");b.$scroll&&(B.checked=a.$scroll);b.showLabels&&(D.checked=a.showLabels);b.gridSize&&(ia.checked=ia.__value===a.gridSize);b.gridSize&&(aa.checked=
aa.__value===a.gridSize);b.gridSize&&(oa.checked=oa.__value===a.gridSize);b.gridSize&&(xa.checked=xa.__value===a.gridSize);b.gridSize&&(Aa.checked=Aa.__value===a.gridSize);b.gridSize&&(Ja.checked=Ja.__value===a.gridSize);b.autoGridSizeMultiplier&&(Pc(Zb),Zb.insertAdjacentHTML("afterend",a.autoGridSizeMultiplier));b.autoGridSizeMultiplier&&(ya.value=a.autoGridSizeMultiplier);b.gridSize&&t(mb,"display","none");b.density&&(Pc(ob),ob.insertAdjacentHTML("afterend",a.density));b.density&&(Ka.value=a.density);
b.classHeatmapPositive&&(qa.checked=qa.__value===a.classHeatmapPositive);b.classHeatmapPositive&&(ta.checked=ta.__value===a.classHeatmapPositive);b.classHeatmapMultiplier&&(Pc(bc),bc.insertAdjacentHTML("afterend",a.classHeatmapMultiplier));b.classHeatmapMultiplier&&(lb.value=a.classHeatmapMultiplier);b.classHeatmap&&t(Ea,"display",-1<a.classHeatmap?"block":"none");b.gcx&&sa!==(sa=Rb(a.gcx))&&ba(bb,sa);b.gcy&&ib!==(ib=Rb(a.gcy))&&ba(tb,ib);b.scale&&Va!==(Va=Rb(a.scale))&&ba(yb,Va);b.showOptions&&sb!==
(sb=a.showOptions?"fewer options":"more options")&&ba(zb,sb);b.showOptions&&ub!==(ub=(a.showOptions?"open":"closed")+" svelte-1xmf6n svelte-ref-controls")&&(O.className=ub)},d(a){a&&C(w);Tb.destroy();Ub.destroy();Vb.destroy();Wb.destroy();Kb.destroy();b.refs.atlas===Kb&&(b.refs.atlas=null);Nb.destroy();Eb.destroy();jc.destroy();Fb.destroy();kc.destroy();Gb.destroy();lc.destroy();B.removeEventListener("change",c,void 0);D.removeEventListener("change",d,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(ia),
1);ia.removeEventListener("change",f,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(aa),1);aa.removeEventListener("change",l,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(oa),1);oa.removeEventListener("change",g,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(xa),1);xa.removeEventListener("change",h,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Aa),1);Aa.removeEventListener("change",n,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(Ja),
1);Ja.removeEventListener("change",u,void 0);ya.removeEventListener("change",v,void 0);ya.removeEventListener("input",v,void 0);Ka.removeEventListener("change",x,void 0);Ka.removeEventListener("input",x,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(qa),1);qa.removeEventListener("change",q,void 0);b._bindingGroups[1].splice(b._bindingGroups[1].indexOf(ta),1);ta.removeEventListener("change",ka,void 0);lb.removeEventListener("change",y,void 0);lb.removeEventListener("input",y,void 0);
b.refs.expand===da&&(b.refs.expand=null);Sb.removeEventListener("click",z,void 0);b.refs.controls===O&&(b.refs.controls=null)}}}function Cb(b){B(this,b);this.refs={};this._state=r(r(this.store._init(["scroll"]),{layerName:"mixed4c",gridSize:1,classHeatmap:-1,iconScaleFactor:.8,iconCrop:.35,showClassFilter:!0,showLayerChooser:!0,showOptions:!0,homeX:.5,homeY:.5,homeScale:1}),b.data);this.store._add(this,["scroll"]);this._recompute({gridSize:1,iconScaleFactor:1,realGridSize:1},this._state);this._bindingGroups=
[[],[]];this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Ak(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Bk(b,a){var c,d,f,e,g,h,n,u,v,x,q,ka,y,z,w,J,t,p,r,E,R,Q,I,N,Y,M,ja,P,O,K,U,V,T=new L({root:b.root,store:b.store,data:{src:"assets/images/overview-neuron.jpg",border:!1}}),Ob=new L({root:b.root,store:b.store,data:{src:"assets/images/manifold-1.jpg",alt:"diagram",border:!1}}),B=new L({root:b.root,store:b.store,data:{src:"assets/images/overview-pairwise.jpg",
border:!1}}),A=new L({root:b.root,store:b.store,data:{src:"assets/images/manifold-2.jpg",alt:"diagram",border:!1}}),db=new L({root:b.root,store:b.store,data:{src:"assets/images/activation-grid.png",border:!1}}),ua=new L({root:b.root,store:b.store,data:{src:"assets/images/manifold-3.jpg",alt:"diagram",border:!1}}),fb=new L({root:b.root,store:b.store,data:{src:"assets/images/overview-atlas.jpg",border:!1}}),D=new L({root:b.root,store:b.store,data:{src:"assets/images/manifold-4.jpg",alt:"diagram",border:!1}});
return{c(){c=m("div");d=m("div");f=m("h4");f.textContent="Individual Neurons";e=k("\n    ");T._fragment.c();g=k("\n    ");h=m("div");Ob._fragment.c();n=k("\n    ");u=m("div");u.textContent="Visualizing individual neurons make hidden layers somewhat meaningful, but misses interactions between neurons \u2014 it only shows us one-dimensional, orthogonal probes of the high-dimensional activation space.";v=k("\n  ");x=m("div");q=m("h4");q.textContent="Pairwise Interactions";ka=k("\n    ");B._fragment.c();
y=k("\n    ");z=m("div");A._fragment.c();w=k("\n    ");J=m("div");J.textContent="Pairwise interactions reveal interaction effects, but they only show two-dimensional slices of a space that has hundreds of dimensions, and many of the combinations are not realistic.";t=k("\n  ");p=m("div");r=m("h4");r.textContent="Spatial Activations";E=k("\n    ");db._fragment.c();R=k("\n    ");Q=m("div");ua._fragment.c();I=k("\n    ");N=m("div");N.textContent="Spatial activations show us important combinations of many neurons by sampling the sub-manifold of likely activations, but they are limited to those that occur in the given example image.";
Y=k("\n  ");M=m("div");ja=m("h4");ja.textContent="Activation Atlas";P=k("\n    ");fb._fragment.c();O=k("\n    ");K=m("div");D._fragment.c();U=k("\n    ");V=m("div");V.textContent="Activation atlases give us a bigger picture overview by sampling more of the manifold of likely activations.";f.className="svelte-ruuveb";h.className="diagram svelte-ruuveb";u.className="figcaption";q.className="svelte-ruuveb";z.className="diagram svelte-ruuveb";J.className="figcaption";r.className="svelte-ruuveb";Q.className=
"diagram svelte-ruuveb";N.className="figcaption";ja.className="svelte-ruuveb";K.className="diagram svelte-ruuveb";V.className="figcaption";c.className="svelte-ruuveb svelte-ref-root"},m(a,l){a.insertBefore(c,l);c.appendChild(d);d.appendChild(f);d.appendChild(e);T._mount(d,null);d.appendChild(g);d.appendChild(h);Ob._mount(h,null);d.appendChild(n);d.appendChild(u);c.appendChild(v);c.appendChild(x);x.appendChild(q);x.appendChild(ka);B._mount(x,null);x.appendChild(y);x.appendChild(z);A._mount(z,null);
x.appendChild(w);x.appendChild(J);c.appendChild(t);c.appendChild(p);p.appendChild(r);p.appendChild(E);db._mount(p,null);p.appendChild(R);p.appendChild(Q);ua._mount(Q,null);p.appendChild(I);p.appendChild(N);c.appendChild(Y);c.appendChild(M);M.appendChild(ja);M.appendChild(P);fb._mount(M,null);M.appendChild(O);M.appendChild(K);D._mount(K,null);M.appendChild(U);M.appendChild(V);b.refs.root=c},p:W,d(a){a&&C(c);T.destroy();Ob.destroy();B.destroy();A.destroy();db.destroy();ua.destroy();fb.destroy();D.destroy();
b.refs.root===c&&(b.refs.root=null)}}}function Bf(b){B(this,b);this.refs={};this._state=r({},b.data);this._intro=!0;this._fragment=Bk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Ck(b,a){var c,d=new L({root:b.root,store:b.store,data:{src:"assets/images/model.svg",alt:"model",aspectRatio:1072/178.3,border:!1,background:!1}});return{c(){c=m("div");d._fragment.c();c.className="svelte-rd22a7 svelte-ref-root"},m(a,e){a.insertBefore(c,e);d._mount(c,null);
b.refs.root=c},p:W,d(a){a&&C(c);d.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Cf(b){B(this,b);this.refs={};this._state=r({},b.data);this._intro=!0;this._fragment=Ck(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Dk(b,a){var c,d,f,e,g,h,n,u,v=new L({root:b.root,store:b.store,data:{src:"assets/images/dogcat.jpg",alt:"input image"}}),x=new L({root:b.root,store:b.store,data:{src:"assets/images/dogcat-grid.jpg",alt:"activation grid"}});return{c(){c=
m("div");d=m("div");v._fragment.c();f=k("\n    ");e=m("div");e.textContent="Input image from ImageNet.";g=k("\n  ");h=m("div");x._fragment.c();n=k("\n    ");u=m("div");u.textContent="Activation grid from InceptionV1, layer mixed4d.";e.className="figcaption svelte-scrtb8";u.className="figcaption svelte-scrtb8";c.className="root svelte-scrtb8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);v._mount(d,null);d.appendChild(f);d.appendChild(e);c.appendChild(g);c.appendChild(h);x._mount(h,null);h.appendChild(n);
h.appendChild(u)},p:W,d(a){a&&C(c);v.destroy();x.destroy()}}}function Df(b){B(this,b);this._state=r({},b.data);this._intro=!0;this._fragment=Dk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Ek({filterType:b}){return`https://storage.googleapis.com/activation-atlas/build/class_filter_inceptionv1_${b}/render/`}function Fk({gridSize:b}){return da(1,b)}function Gk({root:b,classFilter:a,gridSize:c,filterType:d}){return`${b}render--x=0--y=0--tries=3--alpha=False--tile_size=8--whiten=true--steps=1056--icon_size=80--grid_size=${c}--layout=20_0.02_cosine--class_filter=${a}_${d}--filter=None--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg`}
function Ef(b,a,c){b=Object.create(b);b.i=a[c];return b}function Ff(b,a,c){b=Object.create(b);b.i=a[c];return b}function Hk(b,a){for(var c,d,f,l,g=new L({root:b.root,store:b.store,data:{src:a.src,alt:"class activation atlas"}}),h=a.ticks,n=[],u=0;u<h.length;u+=1)n[u]=Gf(b,Ff(a,h,u));var v=a.ticks,x=[];for(u=0;u<v.length;u+=1)x[u]=Hf(b,Ef(a,v,u));return{c(){c=m("div");g._fragment.c();d=k("\n\n  ");f=p("svg");for(var a=0;a<n.length;a+=1)n[a].c();l=la();for(a=0;a<x.length;a+=1)x[a].c();e(f,"viewBox",
"0 0 500 500");e(f,"class","svelte-hfoyhc");c.className="svelte-hfoyhc svelte-ref-root"},m(a,e){a.insertBefore(c,e);g._mount(c,null);c.appendChild(d);c.appendChild(f);for(a=0;a<n.length;a+=1)n[a].m(f,null);f.appendChild(l);for(a=0;a<x.length;a+=1)x[a].m(f,null);b.refs.root=c},p(a,c){var d={};a.src&&(d.src=c.src);g._set(d);if(a.ticks||a.gridSize){h=c.ticks;for(d=0;d<h.length;d+=1){var e=Ff(c,h,d);n[d]?n[d].p(a,e):(n[d]=Gf(b,e),n[d].c(),n[d].m(f,l))}for(;d<n.length;d+=1)n[d].d(1);n.length=h.length}if(a.ticks||
a.gridSize){v=c.ticks;for(d=0;d<v.length;d+=1)e=Ef(c,v,d),x[d]?x[d].p(a,e):(x[d]=Hf(b,e),x[d].c(),x[d].m(f,null));for(;d<x.length;d+=1)x[d].d(1);x.length=v.length}},d(a){a&&C(c);g.destroy();ca(n,a);ca(x,a);b.refs.root===c&&(b.refs.root=null)}}}function Gf(b,a){var c,d,f;return{c(){c=p("line");e(c,"x2",500);e(c,"y1",d=500*a.i/a.gridSize);e(c,"y2",f=500*a.i/a.gridSize);e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&
d!==(d=500*b.i/b.gridSize)&&e(c,"y1",d);(a.ticks||a.gridSize)&&f!==(f=500*b.i/b.gridSize)&&e(c,"y2",f)},d(a){a&&C(c)}}}function Hf(b,a){var c,d,f;return{c(){c=p("line");e(c,"y2",500);e(c,"x1",d=500*a.i/a.gridSize);e(c,"x2",f=500*a.i/a.gridSize);e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&d!==(d=500*b.i/b.gridSize)&&e(c,"x1",d);(a.ticks||a.gridSize)&&f!==(f=500*b.i/b.gridSize)&&e(c,"x2",f)},d(a){a&&C(c)}}}
function xb(b){B(this,b);this.refs={};this._state=r({filterType:"winner",classFilter:62,gridSize:8},b.data);this._recompute({filterType:1,gridSize:1,root:1,classFilter:1},this._state);this._intro=!0;this._fragment=Hk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function If(b,a,c){b=Object.create(b);b.c=a[c];return b}function Ik(b,a){for(var c,d,f=a.$inceptionLabels[a.$currentClassAtlasIndex],e,g,h,n,u,v,x,q,ka,y,z=new xb({root:b.root,store:b.store,data:{classFilter:a.$currentClassAtlasIndex}}),
w=a.$classAtlasIndices,J=[],p=0;p<w.length;p+=1)J[p]=Jf(b,If(a,w,p));var r=new mc({root:b.root,store:b.store,data:{url:""}});return{c(){c=m("h4");d=k("Class Activation Atlas for \u201c");e=k(f);g=k("\u201d from mixed5b");h=k("\n");n=m("div");u=m("div");z._fragment.c();v=k("\n  ");x=m("div");q=m("div");for(var a=0;a<J.length;a+=1)J[a].c();ka=k("\n");y=m("div");r._fragment.c();c.className="svelte-15rolwy";t(u,"position","relative");q.className="chooser svelte-15rolwy";x.className="chooser-container svelte-15rolwy";
n.className="svelte-15rolwy svelte-ref-root";t(y,"margin-top","16px")},m(a,f){a.insertBefore(c,f);c.appendChild(d);c.appendChild(e);c.appendChild(g);a.insertBefore(h,f);a.insertBefore(n,f);n.appendChild(u);z._mount(u,null);n.appendChild(v);n.appendChild(x);x.appendChild(q);for(var l=0;l<J.length;l+=1)J[l].m(q,null);b.refs.root=n;a.insertBefore(ka,f);a.insertBefore(y,f);r._mount(y,null)},p(a,c){(a.$inceptionLabels||a.$currentClassAtlasIndex)&&f!==(f=c.$inceptionLabels[c.$currentClassAtlasIndex])&&
ba(e,f);var d={};a.$currentClassAtlasIndex&&(d.classFilter=c.$currentClassAtlasIndex);z._set(d);if(a.$currentClassAtlasIndex||a.$classAtlasIndices||a.$inceptionLabels){w=c.$classAtlasIndices;for(d=0;d<w.length;d+=1){let f=If(c,w,d);J[d]?J[d].p(a,f):(J[d]=Jf(b,f),J[d].c(),J[d].m(q,null))}for(;d<J.length;d+=1)J[d].d(1);J.length=w.length}},d(a){a&&(C(c),C(h),C(n));z.destroy();ca(J,a);b.refs.root===n&&(b.refs.root=null);a&&(C(ka),C(y));r.destroy()}}}function Jf(b,a){function c(){b.store.set({currentClassAtlasIndex:f.__value})}
var d,f,l,g,h=a.$inceptionLabels[a.c],n,u,v=a.c,x,q,t;return{c(){d=m("label");f=m("input");g=k("\n          ");n=k(h);u=k(" (");x=k(v);q=k(")");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=l=a.c;f.value=f.__value;f.className="svelte-15rolwy";d.className=t=(a.$currentClassAtlasIndex===a.c?"selected":"")+" svelte-15rolwy"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.$currentClassAtlasIndex;d.appendChild(g);d.appendChild(n);d.appendChild(u);
d.appendChild(x);d.appendChild(q)},p(a,b){a.$currentClassAtlasIndex&&(f.checked=f.__value===b.$currentClassAtlasIndex);a.$classAtlasIndices&&l!==(l=b.c)&&(f.__value=l);f.value=f.__value;(a.$inceptionLabels||a.$classAtlasIndices)&&h!==(h=b.$inceptionLabels[b.c])&&ba(n,h);a.$classAtlasIndices&&v!==(v=b.c)&&ba(x,v);(a.$currentClassAtlasIndex||a.$classAtlasIndices)&&t!==(t=(b.$currentClassAtlasIndex===b.c?"selected":"")+" svelte-15rolwy")&&(d.className=t)},d(a){a&&C(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),
1);f.removeEventListener("change",c,void 0)}}}function Kf(b){B(this,b);this.refs={};this._state=r(r(this.store._init(["inceptionLabels","currentClassAtlasIndex","classAtlasIndices"]),{layout:0}),b.data);this.store._add(this,["inceptionLabels","currentClassAtlasIndex","classAtlasIndices"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Ik(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Lf(b,a,c){b=Object.create(b);
b.c=a[c];return b}function Jk(b,a){for(var c,d,f,e,g=a.$inceptionLabels[a.$currentClassAtlasCompareIndex],h,n,u,v,x,q,p,y,z,w,J,r,G,fa=a.$inceptionLabels[a.$currentClassAtlasCompareIndex],E,R,Q,I,N,Y,M,ja,P,O,K,U,V=new xb({root:b.root,store:b.store,data:{classFilter:a.$currentClassAtlasCompareIndex,filterType:"winner"}}),T=new xb({root:b.root,store:b.store,data:{classFilter:a.$currentClassAtlasCompareIndex,filterType:"top"}}),B=a.$classAtlasIndices,A=[],D=0;D<B.length;D+=1)A[D]=Mf(b,Lf(a,B,D));return{c(){c=
m("div");d=m("div");f=m("h4");e=k("\u201c");h=m("noscript");n=m("noscript");u=k("\u201d ");v=m("br");x=k("filtered by top rank");q=k("\n    ");p=m("div");V._fragment.c();y=k("\n    ");z=m("div");z.textContent="We pluck only those activations whose top attribution is toward the class in question. The results are often much more focused and isolated, exclusive to the class. Some are low magnitude, like backgrounds, and we miss correlations or concepts that are shared among many classes.";w=k("\n  ");
J=m("div");r=m("h4");G=k("\u201c");E=m("noscript");R=m("noscript");Q=k("\u201d ");I=m("br");N=k("filtered by overall magnitude");Y=k("\n    ");M=m("div");T._fragment.c();ja=k("\n    ");P=m("div");P.textContent="Here we sort all the activations by the magnitude toward the class in question (independent of other classes) and take the top 2,000 activations. We see more correlated activations that could, on their own, contribute to another classification. Some of them are spurious, however.";O=k("\n  ");
K=m("div");U=m("div");for(var a=0;a<A.length;a+=1)A[a].c();f.className="svelte-1kmawds";p.className="atlas";z.className="figcaption svelte-1kmawds";r.className="svelte-1kmawds";M.className="atlas";P.className="figcaption svelte-1kmawds";U.className="chooser svelte-1kmawds";K.className="chooser-container svelte-1kmawds";t(c,"display","grid");t(c,"grid-column-gap","20px");t(c,"grid-template-columns","1fr 1fr 200px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(e);f.appendChild(h);
h.insertAdjacentHTML("afterend",g);f.appendChild(n);f.appendChild(u);f.appendChild(v);f.appendChild(x);d.appendChild(q);d.appendChild(p);V._mount(p,null);d.appendChild(y);d.appendChild(z);c.appendChild(w);c.appendChild(J);J.appendChild(r);r.appendChild(G);r.appendChild(E);E.insertAdjacentHTML("afterend",fa);r.appendChild(R);r.appendChild(Q);r.appendChild(I);r.appendChild(N);J.appendChild(Y);J.appendChild(M);T._mount(M,null);J.appendChild(ja);J.appendChild(P);c.appendChild(O);c.appendChild(K);K.appendChild(U);
for(a=0;a<A.length;a+=1)A[a].m(U,null)},p(a,c){(a.$inceptionLabels||a.$currentClassAtlasCompareIndex)&&g!==(g=c.$inceptionLabels[c.$currentClassAtlasCompareIndex])&&(Gd(h,n),h.insertAdjacentHTML("afterend",g));var d={};a.$currentClassAtlasCompareIndex&&(d.classFilter=c.$currentClassAtlasCompareIndex);V._set(d);(a.$inceptionLabels||a.$currentClassAtlasCompareIndex)&&fa!==(fa=c.$inceptionLabels[c.$currentClassAtlasCompareIndex])&&(Gd(E,R),E.insertAdjacentHTML("afterend",fa));d={};a.$currentClassAtlasCompareIndex&&
(d.classFilter=c.$currentClassAtlasCompareIndex);T._set(d);if(a.$currentClassAtlasCompareIndex||a.$classAtlasIndices||a.$inceptionLabels){B=c.$classAtlasIndices;for(d=0;d<B.length;d+=1){let f=Lf(c,B,d);A[d]?A[d].p(a,f):(A[d]=Mf(b,f),A[d].c(),A[d].m(U,null))}for(;d<A.length;d+=1)A[d].d(1);A.length=B.length}},d(a){a&&C(c);V.destroy();T.destroy();ca(A,a)}}}function Mf(b,a){function c(){b.store.set({currentClassAtlasCompareIndex:f.__value})}var d,f,l,g,h=a.$inceptionLabels[a.c],n,u,v=a.c,x,q,t;return{c(){d=
m("label");f=m("input");g=k("\n          ");n=k(h);u=k(" (");x=k(v);q=k(")\n        ");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=l=a.c;f.value=f.__value;f.className="svelte-1kmawds";d.className=t=(a.$currentClassAtlasCompareIndex===a.c?"selected":"")+" svelte-1kmawds"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.$currentClassAtlasCompareIndex;d.appendChild(g);d.appendChild(n);d.appendChild(u);d.appendChild(x);d.appendChild(q)},
p(a,b){a.$currentClassAtlasCompareIndex&&(f.checked=f.__value===b.$currentClassAtlasCompareIndex);a.$classAtlasIndices&&l!==(l=b.c)&&(f.__value=l);f.value=f.__value;(a.$inceptionLabels||a.$classAtlasIndices)&&h!==(h=b.$inceptionLabels[b.c])&&ba(n,h);a.$classAtlasIndices&&v!==(v=b.c)&&ba(x,v);(a.$currentClassAtlasCompareIndex||a.$classAtlasIndices)&&t!==(t=(b.$currentClassAtlasCompareIndex===b.c?"selected":"")+" svelte-1kmawds")&&(d.className=t)},d(a){a&&C(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),
1);f.removeEventListener("change",c,void 0)}}}function Nf(b){B(this,b);this._state=r(r(this.store._init(["inceptionLabels","currentClassAtlasCompareIndex","classAtlasIndices"]),{}),b.data);this.store._add(this,["inceptionLabels","currentClassAtlasCompareIndex","classAtlasIndices"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Jk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Kk({$classComparisons:b,classComparisonIndex:a}){return b[a].left}
function Lk({$classComparisons:b,classComparisonIndex:a}){return b[a].right}function Of(b){let {component:a,ctx:c}=this._svelte;a.set({classComparisonIndex:c.i})}function Pf(b,a,c){b=Object.create(b);b.comparison=a[c];b.i=c;return b}function Mk(b,a){var c,d,f,e,g,h=a.$inceptionLabels[a.leftIndex],n,u,v,x,q,p,y,z,w=a.$inceptionLabels[a.rightIndex],J,r,G,fa,E=a.showControls&&Qf(b,a),R=new xb({root:b.root,store:b.store,data:{classFilter:a.leftIndex,filterType:a.filterType}}),Q=new xb({root:b.root,store:b.store,
data:{classFilter:a.rightIndex,filterType:a.filterType}});return{c(){E&&E.c();c=k("\n\n");d=m("div");f=m("div");e=m("h4");g=k("\u201c");n=k(h);u=k("\u201d");v=k("\n    ");x=m("div");R._fragment.c();q=k("\n  ");p=m("div");y=m("h4");z=k("\u201c");J=k(w);r=k("\u201d");G=k("\n    ");fa=m("div");Q._fragment.c();e.className="svelte-a1781g";x.className="atlas";y.className="svelte-a1781g";fa.className="atlas";t(d,"display","grid");t(d,"grid-auto-flow","column");t(d,"grid-column-gap","20px");t(d,"grid-auto-columns",
"1fr")},m(a,b){E&&E.m(a,b);a.insertBefore(c,b);a.insertBefore(d,b);d.appendChild(f);f.appendChild(e);e.appendChild(g);e.appendChild(n);e.appendChild(u);f.appendChild(v);f.appendChild(x);R._mount(x,null);d.appendChild(q);d.appendChild(p);p.appendChild(y);y.appendChild(z);y.appendChild(J);y.appendChild(r);p.appendChild(G);p.appendChild(fa);Q._mount(fa,null)},p(a,d){d.showControls?E?E.p(a,d):(E=Qf(b,d),E.c(),E.m(c.parentNode,c)):E&&(E.d(1),E=null);(a.$inceptionLabels||a.leftIndex)&&h!==(h=d.$inceptionLabels[d.leftIndex])&&
ba(n,h);var f={};a.leftIndex&&(f.classFilter=d.leftIndex);a.filterType&&(f.filterType=d.filterType);R._set(f);(a.$inceptionLabels||a.rightIndex)&&w!==(w=d.$inceptionLabels[d.rightIndex])&&ba(J,w);f={};a.rightIndex&&(f.classFilter=d.rightIndex);a.filterType&&(f.filterType=d.filterType);Q._set(f)},d(a){E&&E.d(a);a&&(C(c),C(d));R.destroy();Q.destroy()}}}function Qf(b,a){for(var c,d=a.$classComparisons,f=[],e=0;e<d.length;e+=1)f[e]=Rf(b,Pf(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=la()},
m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.$classComparisons){d=e.$classComparisons;for(var g=0;g<d.length;g+=1){let l=Pf(e,d,g);f[g]?f[g].p(a,l):(f[g]=Rf(b,l),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ca(f,a);a&&C(c)}}}function Rf(b,a){var c,d=a.comparison.leftLabel,f,e,g=a.comparison.rightLabel,h;return{c(){c=m("button");f=k(d);e=k(" vs. ");h=k(g);c._svelte={component:b,ctx:a};c.addEventListener("click",Of,void 0)},
m(a,b){a.insertBefore(c,b);c.appendChild(f);c.appendChild(e);c.appendChild(h)},p(b,e){a=e;b.$classComparisons&&d!==(d=a.comparison.leftLabel)&&ba(f,d);b.$classComparisons&&g!==(g=a.comparison.rightLabel)&&ba(h,g);c._svelte.ctx=a},d(a){a&&C(c);c.removeEventListener("click",Of,void 0)}}}function yd(b){B(this,b);this._state=r(r(this.store._init(["classComparisons","inceptionLabels"]),{classComparisonIndex:0,showControls:!0,filterType:"top"}),b.data);this.store._add(this,["classComparisons","inceptionLabels"]);
this._recompute({$classComparisons:1,classComparisonIndex:1},this._state);this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Mk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Nk({width:b}){return b}function Ok({width:b,margin:a}){return b+a.left+a.right}function Pk({height:b,margin:a}){return b+a.top+a.bottom}function Qk({width:b}){return b/10}function Rk({currentClassComparisonIndex:b,$classComparisons:a}){return a[b]}function Sf(b,a,c){b=
Object.create(b);b.annotation=a[c];b.iter=c;return b}function Tf(b,a,c){b=Object.create(b);b.tick=a[c];return b}function Uf(b,a,c){b=Object.create(b);b.tick=a[c];return b}function Sk(b,a){for(var c,d,f,l,g,h,n,u,v,x,q,t,y,z,w=a.comparison.leftLabel,J,r,G,fa,E,R=a.comparison.rightLabel,Q,I,N,Y,M,ja,P,O,K,U,V,T,A,B,D,db,ua,fb,F,H,L,W,S,X,Z,ha,za,pa,ra,ma,na,ia=da(11),Ba=[],qb=0;qb<ia.length;qb+=1)Ba[qb]=Vf(b,Uf(a,ia,qb));var ea=da(11),aa=[];for(qb=0;qb<ea.length;qb+=1)aa[qb]=Wf(b,Tf(a,ea,qb));var Ca=
a.comparison.annotation&&Xf(b,a);return{c(){c=m("div");d=p("svg");f=p("defs");l=p("marker");g=p("path");h=p("g");n=p("image");x=p("g");q=p("text");t=p("tspan");y=k("more attributed to ");z=p("tspan");J=k(w);r=p("text");G=p("tspan");fa=k("more attributed to ");E=p("tspan");Q=k(R);I=p("g");N=p("line");Y=p("line");ja=p("g");P=p("g");O=p("line");K=p("line");U=p("text");V=p("tspan");T=k("positioned");A=p("tspan");B=k("by similarity");D=p("tspan");db=k("(one-dimensional");ua=p("tspan");fb=k("t-SNE)");H=
p("g");L=p("line");X=p("line");for(var b=0;b<Ba.length;b+=1)Ba[b].c();pa=la();for(b=0;b<aa.length;b+=1)aa[b].c();ra=la();Ca&&Ca.c();e(g,"d","M0,0 L0,10 L10,5 z");e(g,"fill",a.color);e(l,"id","arrow");e(l,"markerWidth","7");e(l,"markerHeight","7");e(l,"refX","10");e(l,"refY","5");e(l,"orient","auto");e(l,"markerUnits","strokeWidth");e(l,"viewBox","0 0 10 10");e(n,"id","comparisonImg");e(n,"width",a.width);e(n,"height",a.height);Xa(n,"xlink:href",u="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+
a.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg");e(n,"alt",v=a.comparison.label);e(t,"x","-10");e(t,"dy","1.3em");e(z,"x","-10");e(z,"dy","1.3em");e(z,"font-weight","bold");e(q,"y","-50");e(q,"text-anchor","end");e(q,"class","svelte-1jr0ob8");e(G,"x","10");e(G,"dy","1.3em");e(E,"x","10");e(E,"dy","1.3em");e(E,"font-weight","bold");e(r,"y","-50");e(r,"class",
"svelte-1jr0ob8");e(N,"x2","-50");e(N,"transform","translate(-120,0)");e(N,"stroke",a.color);e(N,"marker-end","url(#arrow)");e(Y,"x2","50");e(Y,"transform","translate(120,0)");e(Y,"stroke",a.color);e(Y,"marker-end","url(#arrow)");e(I,"transform","translate(0, -28)");e(x,"transform",M="translate("+a.width/2+", 0)");e(O,"y2","-50");e(O,"transform","translate(0,-38)");e(O,"stroke",a.color);e(O,"marker-end","url(#arrow)");e(K,"y2","50");e(K,"transform","translate(0,30)");e(K,"stroke",a.color);e(K,"marker-end",
"url(#arrow)");e(P,"transform","translate(10, 0)");e(V,"x","0");e(V,"y","-1.8em");e(A,"x","0");e(A,"y","-0.6em");e(D,"x","0");e(D,"y","0.6em");e(ua,"x","0");e(ua,"y","1.8em");e(U,"alignment-baseline","middle");e(U,"class","svelte-1jr0ob8");e(ja,"transform",F="translate("+(-a.margin.left+8)+","+a.height/2+")");e(L,"y1",W=-a.margin.top+4);e(L,"y2",S=a.height+8);e(L,"stroke","white");e(L,"stroke-width","5");e(L,"stroke-opacity","0.6");e(X,"y1",Z=-a.margin.top+4);e(X,"y2",ha=a.height+8);e(X,"stroke",
"black");e(H,"transform",za="translate("+a.width/2+", 0)");e(h,"transform",ma="translate("+a.margin.left+","+a.margin.top+")");e(d,"class","overlay svelte-1jr0ob8");e(d,"viewBox",na="0 0 "+a.outerWidth+" "+a.outerHeight);c.className="overlay-wrap svelte-1jr0ob8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(l);l.appendChild(g);d.appendChild(h);h.appendChild(n);h.appendChild(x);x.appendChild(q);q.appendChild(t);t.appendChild(y);q.appendChild(z);z.appendChild(J);x.appendChild(r);
r.appendChild(G);G.appendChild(fa);r.appendChild(E);E.appendChild(Q);x.appendChild(I);I.appendChild(N);I.appendChild(Y);h.appendChild(ja);ja.appendChild(P);P.appendChild(O);P.appendChild(K);ja.appendChild(U);U.appendChild(V);V.appendChild(T);U.appendChild(A);A.appendChild(B);U.appendChild(D);D.appendChild(db);U.appendChild(ua);ua.appendChild(fb);h.appendChild(H);H.appendChild(L);H.appendChild(X);for(a=0;a<Ba.length;a+=1)Ba[a].m(h,null);h.appendChild(pa);for(a=0;a<aa.length;a+=1)aa[a].m(h,null);h.appendChild(ra);
Ca&&Ca.m(h,null)},p(a,c){a.color&&e(g,"fill",c.color);a.width&&e(n,"width",c.width);a.height&&e(n,"height",c.height);a.comparison&&u!==(u="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+c.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg")&&Xa(n,"xlink:href",u);a.comparison&&v!==(v=c.comparison.label)&&e(n,"alt",
v);a.comparison&&w!==(w=c.comparison.leftLabel)&&ba(J,w);a.comparison&&R!==(R=c.comparison.rightLabel)&&ba(Q,R);a.color&&(e(N,"stroke",c.color),e(Y,"stroke",c.color));a.width&&M!==(M="translate("+c.width/2+", 0)")&&e(x,"transform",M);a.color&&(e(O,"stroke",c.color),e(K,"stroke",c.color));(a.margin||a.height)&&F!==(F="translate("+(-c.margin.left+8)+","+c.height/2+")")&&e(ja,"transform",F);a.margin&&W!==(W=-c.margin.top+4)&&e(L,"y1",W);a.height&&S!==(S=c.height+8)&&e(L,"y2",S);a.margin&&Z!==(Z=-c.margin.top+
4)&&e(X,"y1",Z);a.height&&ha!==(ha=c.height+8)&&e(X,"y2",ha);a.width&&za!==(za="translate("+c.width/2+", 0)")&&e(H,"transform",za);if(a.width||a.height){ia=da(11);for(var f=0;f<ia.length;f+=1){var l=Uf(c,ia,f);Ba[f]?Ba[f].p(a,l):(Ba[f]=Vf(b,l),Ba[f].c(),Ba[f].m(h,pa))}for(;f<Ba.length;f+=1)Ba[f].d(1);Ba.length=ia.length}if(a.width||a.height){ea=da(11);for(f=0;f<ea.length;f+=1)l=Tf(c,ea,f),aa[f]?aa[f].p(a,l):(aa[f]=Wf(b,l),aa[f].c(),aa[f].m(h,ra));for(;f<aa.length;f+=1)aa[f].d(1);aa.length=ea.length}c.comparison.annotation?
Ca?Ca.p(a,c):(Ca=Xf(b,c),Ca.c(),Ca.m(h,null)):Ca&&(Ca.d(1),Ca=null);a.margin&&ma!==(ma="translate("+c.margin.left+","+c.margin.top+")")&&e(h,"transform",ma);(a.outerWidth||a.outerHeight)&&na!==(na="0 0 "+c.outerWidth+" "+c.outerHeight)&&e(d,"viewBox",na)},d(a){a&&C(c);ca(Ba,a);ca(aa,a);Ca&&Ca.d()}}}function Vf(b,a){var c,d;return{c(){c=p("line");e(c,"x2",a.width);e(c,"transform",d="translate(0, "+a.height/10*a.tick+")");e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},
m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&e(c,"x2",b.width);a.height&&d!==(d="translate(0, "+b.height/10*b.tick+")")&&e(c,"transform",d)},d(a){a&&C(c)}}}function Wf(b,a){var c,d;return{c(){c=p("line");e(c,"y2",a.width);e(c,"transform",d="translate("+a.height/10*a.tick+", 0)");e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&e(c,"y2",b.width);a.height&&d!==(d="translate("+b.height/10*b.tick+", 0)")&&e(c,"transform",d)},
d(a){a&&C(c)}}}function Xf(b,a){for(var c,d=a.comparison.annotation,f=[],e=0;e<d.length;e+=1)f[e]=Yf(b,Sf(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=la()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.comparison||a.cellWidth||a.Math||a.width){d=e.comparison.annotation;for(var g=0;g<d.length;g+=1){let l=Sf(e,d,g);f[g]?f[g].p(a,l):(f[g]=Yf(b,l),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ca(f,a);a&&C(c)}}}
function Yf(b,a){var c,d,f,l,g,h=a.annotation.desc,n,u,m,x,q,t,y,z,w;return{c(){c=p("g");d=p("line");g=p("text");n=k(h);x=p("g");q=p("circle");y=p("circle");e(d,"x1",f=(a.annotation.pos.y+.5)*a.cellWidth+a.cellWidth/2*a.Math.sqrt(2));e(d,"x2",l=a.width+10);e(d,"stroke","black");e(d,"stroke-opacity","0.4");e(g,"x",u=a.width+20);e(g,"alignment-baseline","middle");e(g,"class","svelte-1jr0ob8");e(c,"transform",m="translate(0, "+(a.annotation.pos.x+.5)*a.cellWidth+")");e(q,"r",t=a.cellWidth/2*a.Math.sqrt(2));
e(q,"fill","none");e(q,"stroke","white");e(q,"stroke-opacity","0.5");e(q,"stroke-width","5");e(y,"r",z=a.cellWidth/2*a.Math.sqrt(2));e(y,"fill","none");e(y,"stroke","black");e(y,"stroke-opacity","1");e(x,"transform",w="translate("+(a.annotation.pos.y+.5)*a.cellWidth+", "+(a.annotation.pos.x+.5)*a.cellWidth+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(g);g.appendChild(n);a.insertBefore(x,b);x.appendChild(q);x.appendChild(y)},p(a,b){(a.comparison||a.cellWidth||a.Math)&&f!==(f=(b.annotation.pos.y+
.5)*b.cellWidth+b.cellWidth/2*b.Math.sqrt(2))&&e(d,"x1",f);a.width&&l!==(l=b.width+10)&&e(d,"x2",l);a.comparison&&h!==(h=b.annotation.desc)&&ba(n,h);a.width&&u!==(u=b.width+20)&&e(g,"x",u);(a.comparison||a.cellWidth)&&m!==(m="translate(0, "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&e(c,"transform",m);(a.cellWidth||a.Math)&&t!==(t=b.cellWidth/2*b.Math.sqrt(2))&&e(q,"r",t);(a.cellWidth||a.Math)&&z!==(z=b.cellWidth/2*b.Math.sqrt(2))&&e(y,"r",z);(a.comparison||a.cellWidth)&&w!==(w="translate("+(b.annotation.pos.y+
.5)*b.cellWidth+", "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&e(x,"transform",w)},d(a){a&&(C(c),C(x))}}}function kb(b){B(this,b);this._state=r(r(r({Math},this.store._init(["classComparisons"])),{width:504,selected:0,margin:{top:60,right:80,bottom:5,left:80},color:"#9a9cad",currentClassComparisonIndex:0}),b.data);this.store._add(this,["classComparisons"]);this._recompute({width:1,margin:1,height:1,currentClassComparisonIndex:1,$classComparisons:1},this._state);this._intro=!0;this._handlers.destroy=
[Ga];this._fragment=Sk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Zf(b,a,c){b=Object.create(b);b.row=a[c];b.i=c;return b}function $f(b,a,c){b=Object.create(b);b.c=a[c];return b}function Tk(b,a){for(var c,d=a.classifications,f=[],e=0;e<d.length;e+=1)f[e]=ag(b,$f(a,d,e));return{c(){c=m("div");for(var b=0;b<f.length;b+=1)f[b].c();c.className="adversarial svelte-1ghs2gk";t(c,"grid-template-columns","repeat("+a.classifications.length+", 1fr)")},m(a,b){a.insertBefore(c,
b);for(a=0;a<f.length;a+=1)f[a].m(c,null)},p(a,e){if(a.classifications||a.left||a.right||a.aspectRatio){d=e.classifications;for(var g=0;g<d.length;g+=1){let l=$f(e,d,g);f[g]?f[g].p(a,l):(f[g]=ag(b,l),f[g].c(),f[g].m(c,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}a.classifications&&t(c,"grid-template-columns","repeat("+e.classifications.length+", 1fr)")},d(a){a&&C(c);ca(f,a)}}}function bg(b,a){var c,d,f=a.i+1,e,g,h,n,u=a.row[0],v,x,q,t=cg(a.row[1]),y,z,w;return{c(){c=m("tr");d=m("td");e=
k(f);g=k(".");h=k("\n          ");n=m("td");v=k(u);x=k("\n          ");q=m("td");y=k(t);z=k("%");d.className="svelte-1ghs2gk";n.className="svelte-1ghs2gk";q.className="svelte-1ghs2gk";c.className=w=(a.row[0]===a.left?"left":"")+" "+(a.row[0]===a.right?"right":"")+" svelte-1ghs2gk"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);d.appendChild(g);c.appendChild(h);c.appendChild(n);n.appendChild(v);c.appendChild(x);c.appendChild(q);q.appendChild(y);q.appendChild(z)},p(a,b){a.classifications&&
u!==(u=b.row[0])&&ba(v,u);a.classifications&&t!==(t=cg(b.row[1]))&&ba(y,t);(a.classifications||a.left||a.right)&&w!==(w=(b.row[0]===b.left?"left":"")+" "+(b.row[0]===b.right?"right":"")+" svelte-1ghs2gk")&&(c.className=w)},d(a){a&&C(c)}}}function ag(b,a){for(var c,d,f,e,g,h=a.c.caption,n,u,v=new L({root:b.root,store:b.store,data:{src:a.c.image,alt:""+a.left+" / "+a.right,aspectRatio:a.aspectRatio}}),x=a.c.rows,q=[],t=0;t<x.length;t+=1)q[t]=bg(b,Zf(a,x,t));return{c(){c=m("div");v._fragment.c();d=k("\n      ");
f=m("table");for(var a=0;a<q.length;a+=1)q[a].c();e=k("\n      ");g=m("div");n=k(h);u=k("\n    ");f.className="svelte-1ghs2gk";g.className="figcaption"},m(a,b){a.insertBefore(c,b);v._mount(c,null);c.appendChild(d);c.appendChild(f);for(a=0;a<q.length;a+=1)q[a].m(f,null);c.appendChild(e);c.appendChild(g);g.appendChild(n);c.appendChild(u)},p(a,c){var d={};a.classifications&&(d.src=c.c.image);if(a.left||a.right)d.alt=""+c.left+" / "+c.right;a.aspectRatio&&(d.aspectRatio=c.aspectRatio);v._set(d);if(a.classifications||
a.left||a.right){x=c.c.rows;for(d=0;d<x.length;d+=1){let e=Zf(c,x,d);q[d]?q[d].p(a,e):(q[d]=bg(b,e),q[d].c(),q[d].m(f,null))}for(;d<q.length;d+=1)q[d].d(1);q.length=x.length}a.classifications&&h!==(h=c.c.caption)&&ba(n,h)},d(a){a&&C(c);v.destroy();ca(q,a)}}}function Mc(b){B(this,b);this._state=r({image:"",left:"",right:"",classifications:[],aspectRatio:1},b.data);this._intro=!0;this._fragment=Tk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Uk(b,
a){var c,d,f,e,g,h,n,u,v,x,q,p,y=new L({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D10000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",alt:"10,000 activations"}}),z=new L({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D100000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"100,000 activations"}}),w=new L({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D1000000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",alt:"1,000,000 activations"}});return{c(){c=m("div");d=m("div");y._fragment.c();f=k("\n    ");e=m("div");e.textContent="10,000 activations";
g=k("\n  ");h=m("div");z._fragment.c();n=k("\n    ");u=m("div");u.textContent="100,000 activations";v=k("\n  ");x=m("div");w._fragment.c();q=k("\n    ");p=m("div");p.textContent="1,000,000 activations";t(e,"margin-top","4px");t(u,"margin-top","4px");t(p,"margin-top","4px");c.className="svelte-1ppku9e svelte-ref-root"},m(a,l){a.insertBefore(c,l);c.appendChild(d);y._mount(d,null);d.appendChild(f);d.appendChild(e);c.appendChild(g);c.appendChild(h);z._mount(h,null);h.appendChild(n);h.appendChild(u);c.appendChild(v);
c.appendChild(x);w._mount(x,null);x.appendChild(q);x.appendChild(p);b.refs.root=c},p:W,d(a){a&&C(c);y.destroy();z.destroy();w.destroy();b.refs.root===c&&(b.refs.root=null)}}}function dg(b){B(this,b);this.refs={};this._state=r({},b.data);this._intro=!0;this._fragment=Uk(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Vk(b,a){var c,d,f,e,g,h,n,u,v,x,q,p,y,z,w,r=new L({root:b.root,store:b.store,data:{src:"assets/images/grid-size-32x32.png",alt:"32 x 32"}}),
A=new L({root:b.root,store:b.store,data:{src:"assets/images/grid-size-8x8.png",alt:"8 x 8"}}),G=new L({root:b.root,store:b.store,data:{src:"assets/images/grid-size-2x2.png",alt:"2 x 2"}});return{c(){c=m("div");d=m("div");f=m("div");r._fragment.c();e=k("\n      ");g=m("div");g.innerHTML="<b>32 x 32</b> When the grid is too small, the feature visualizations are too small to see.";h=k("\n  ");n=m("div");u=m("div");A._fragment.c();v=k("\n      ");x=m("div");x.innerHTML="<b>8 x 8</b> When just right, the activation atlas shows all the concepts with feature visualizations that are big enough to see.";
q=k("\n  ");p=m("div");y=m("div");G._fragment.c();z=k("\n      ");w=m("div");w.innerHTML="<b>2 x 2</b> When the grid is too big, concepts are lost in the averages. One sees less diversity within related concepts.";f.className="atlas";g.className="figcaption svelte-dmx176";u.className="atlas";x.className="figcaption svelte-dmx176";y.className="atlas";w.className="figcaption svelte-dmx176";t(c,"display","grid");t(c,"grid-auto-flow","column");t(c,"grid-column-gap","20px");t(c,"grid-auto-columns","1fr")},
m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);r._mount(f,null);d.appendChild(e);d.appendChild(g);c.appendChild(h);c.appendChild(n);n.appendChild(u);A._mount(u,null);n.appendChild(v);n.appendChild(x);c.appendChild(q);c.appendChild(p);p.appendChild(y);G._mount(y,null);p.appendChild(z);p.appendChild(w)},p:W,d(a){a&&C(c);r.destroy();A.destroy();G.destroy()}}}function eg(b){B(this,b);this._state=r({},b.data);this._intro=!0;this._fragment=Vk(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),F(this))}function Wk(){this.refs.figure.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.figure.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.figure.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function Xk(b,a){var c,d=b._slotted.default;return{c(){c=m("d-figure")},m(a,e){a.insertBefore(c,e);d&&c.appendChild(d);b.refs.figure=c},p:W,d(a){a&&C(c);d&&hb(c,d);b.refs.figure===
c&&(b.refs.figure=null)}}}function fg(b){B(this,b);this.refs={};this._state=r({ready:!1,onscreen:!1},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Xk(this,this._state);this.root._oncreate.push(()=>{Wk.call(this);this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Yk({inputWidth:b,columnWidth:a,columnMargin:c}){return 2*b+3*a+4*c}function Zk({inputWidth:b}){return b+40}function $k({timerCount:b,
numCells:a}){return Math.round(b)%(a*a)}function al({clippedCount:b,numCells:a}){return b%a}function bl({clippedCount:b,numCells:a}){return Math.floor(b/a)}function cl({inputWidth:b,numCells:a,cellPadding:c}){return(b+c)/a-c}function dl({numCells:b,windowSize:a}){return b+a-1}function el({inputWidth:b,numInputCells:a,cellPadding:c}){return(b+c)/a-c}function fl({numCells:b}){return da(b).map((a)=>da(b).map((a)=>da(6).map((a)=>Math.random()-.5)))}function gg(b){let {component:a,ctx:c}=this._svelte;
a.set({timerCount:c.y*c.numCells+c.x})}function hg(b,a,c){b=Object.create(b);b.x=a[c];return b}function ig(b,a,c){b=Object.create(b);b.y=a[c];return b}function jg(b,a,c){b=Object.create(b);b.activation=a[c];b.i=c;return b}function kg(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.Math.min(c.numCells-1,c.Math.max(0,c.y-c.windowSize+2))*c.numCells+c.Math.min(c.numCells-1,c.Math.max(0,c.x-c.windowSize+2))})}function lg(b,a,c){b=Object.create(b);b.x=a[c];return b}function mg(b,a,c){b=Object.create(b);
b.y=a[c];return b}function gl(b,a){function c(a){b.set({timerCount:47})}var d,f,l,g,h,n,u,v,x,q,r,y,z,w,J,A,G,fa,E,R,Q,I,N,Y,M,B,P,O,K,U,V,T,D,H,F,db,ua,fb,L,ba,W,X,S,Z,ha,la,za,pa,ea,ma,ra,ia,Ba,na,Wa,aa,Ca,Ga,Ha,oa,va,Na,Ra,xa,eb,Ia,gb,Aa,sa,wa,Ma,Ja,Oa,hb,mb,ib,Ya,Za,nb,ya,$a,ab,Sa,jb,ob,La,Ka,bb,Ea,cb,kb={};if(void 0!==a.onscreen){kb.onscreen=a.onscreen;var Va=!0}var qa=new fg({root:b.root,store:b.store,data:kb,_bind(a,c){var d={};!Va&&a.onscreen&&(d.onscreen=c.onscreen);b._set(d);Va=void 0}});
b.root._beforecreate.push(()=>{qa._bind({onscreen:1},qa.get())});qa.on("onscreen",function(a){b.set({timerCount:47})});for(var Pa=da(a.numInputCells),Ta=[],Da=0;Da<Pa.length;Da+=1)Ta[Da]=ng(b,mg(a,Pa,Da));var ta=a.activations[a.windowX][a.windowY],Ua=[];for(Da=0;Da<ta.length;Da+=1)Ua[Da]=og(b,jg(a,ta,Da));var Qa=da(a.numCells),Fa=[];for(Da=0;Da<Qa.length;Da+=1)Fa[Da]=pg(b,ig(a,Qa,Da));return{c(){d=m("div");qa._fragment.c();f=k("\n\n  ");l=p("svg");g=p("clipPath");h=p("rect");v=p("clipPath");x=p("rect");
w=p("g");J=p("g");A=p("text");G=k("Input image");fa=p("image");for(var b=0;b<Ta.length;b+=1)Ta[b].c();E=p("rect");Y=p("g");M=p("path");O=p("text");K=k("Image patch");U=p("g");V=p("image");D=p("rect");H=p("text");F=p("tspan");db=k("Overlapping patches");ua=p("tspan");fb=k("of the input image are");L=p("tspan");ba=k("evaluated one by one.");S=p("g");Z=p("path");za=p("text");pa=k("Activations");for(b=0;b<Ua.length;b+=1)Ua[b].c();ea=p("text");ma=p("tspan");ra=k("We record a single ");ia=p("tspan");Ba=
k("activation value for each ");na=p("tspan");Wa=k("of the 512 neurons.");aa=p("tspan");Ca=k("(values shown are mocked)");oa=p("g");va=p("path");xa=p("text");eb=k("Feature visualization");Ia=p("g");gb=p("image");sa=p("rect");wa=p("text");Ma=p("tspan");Ja=k("We then produce a  ");Oa=p("tspan");hb=k("feature visualization");mb=p("tspan");ib=k("and place them on a grid.");nb=p("g");ya=p("path");Sa=p("text");jb=k("Activation grid");ob=p("image");for(b=0;b<Fa.length;b+=1)Fa[b].c();La=p("rect");e(h,"x",
n=a.windowX*a.cellWidth);e(h,"y",u=a.windowY*a.cellWidth);e(h,"width",a.cellWidth);e(h,"height",a.cellWidth);e(g,"id","activationGridClipRect");e(x,"x",q=a.windowX*a.inputCellWidth);e(x,"y",r=a.windowY*a.inputCellWidth);e(x,"width",y=a.inputCellWidth*a.windowSize);e(x,"height",z=a.inputCellWidth*a.windowSize);e(v,"id","activationGridClipRectInput");e(A,"class","head svelte-qwhwb1");e(A,"dy","-13");Xa(fa,"xlink:href","assets/images/dogcat.jpg");e(fa,"width",a.inputWidth);e(fa,"height",a.inputWidth);
e(E,"stroke","rgb(255, 170, 0)");e(E,"pointer-events","none");e(E,"stroke-width","2");e(E,"fill-opacity","0");e(E,"x",R=a.windowX*a.inputCellWidth);e(E,"y",Q=a.windowY*a.inputCellWidth);e(E,"width",I=a.inputCellWidth*a.windowSize);e(E,"height",N=a.inputCellWidth*a.windowSize);e(J,"transform","translate(0, 0)");e(M,"class","arrow svelte-qwhwb1");e(M,"transform",B="translate(0,"+a.columnWidth/2+")");e(M,"d",P="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(O,"class","head svelte-qwhwb1");
e(O,"dy","-13");e(V,"image-rendering","pixelated");Xa(V,"xlink:href","assets/images/dogcat.jpg");e(V,"width",a.inputWidth);e(V,"height",a.inputWidth);e(V,"clip-path","url(#activationGridClipRectInput)");e(U,"transform",T="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")");e(D,"stroke","rgb(255, 170, 0)");e(D,"stroke-width","4");e(D,"fill-opacity","0");e(D,"width",a.columnWidth);e(D,"height",a.columnWidth);e(F,"x","0");
e(F,"dy","1.4em");e(ua,"x","0");e(ua,"dy","1.4em");e(L,"x","0");e(L,"dy","1.4em");e(H,"class","figcaption svelte-qwhwb1");e(H,"transform",W="translate(0, "+(a.columnWidth+10)+")");e(Y,"transform",X="translate("+(a.inputWidth+a.columnMargin)+", 0)");e(Z,"class","arrow svelte-qwhwb1");e(Z,"transform",ha="translate(0,"+a.columnWidth/2+")");e(Z,"d",la="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(za,"class","head svelte-qwhwb1");e(za,"dy","-13");e(ma,"x","0");e(ma,"dy","1.4em");
e(ia,"x","0");e(ia,"dy","1.4em");e(na,"x","0");e(na,"dy","1.4em");e(aa,"x","0");e(aa,"dy","1.4em");e(ea,"class","figcaption svelte-qwhwb1");e(ea,"transform",Ga="translate(0, "+(a.columnWidth+10)+")");e(S,"transform",Ha="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+", 0)");e(va,"class","arrow svelte-qwhwb1");e(va,"transform",Na="translate(0,"+a.columnWidth/2+")");e(va,"d",Ra="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(xa,"class","head svelte-qwhwb1");
e(xa,"dy","-13");e(gb,"image-rendering","pixelated");Xa(gb,"xlink:href","assets/images/dogcat-grid.jpg");e(gb,"width",a.inputWidth);e(gb,"height",a.inputWidth);e(gb,"clip-path","url(#activationGridClipRect)");e(Ia,"transform",Aa="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")");e(sa,"stroke","#ff6600");e(sa,"stroke-width","4");e(sa,"fill-opacity","0");e(sa,"width",a.columnWidth);e(sa,"height",a.columnWidth);e(Ma,"x","0");e(Ma,"dy","1.4em");e(Oa,
"x","0");e(Oa,"dy","1.4em");e(mb,"x","0");e(mb,"dy","1.4em");e(wa,"class","figcaption svelte-qwhwb1");e(wa,"transform",Ya="translate(0, "+(a.columnWidth+10)+")");e(oa,"transform",Za="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)");e(ya,"class","arrow svelte-qwhwb1");e(ya,"transform",$a="translate(0,"+a.columnWidth/2+")");e(ya,"d",ab="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(Sa,"class","head svelte-qwhwb1");e(Sa,"dy","-13");Xa(ob,
"xlink:href","assets/images/dogcat-grid.jpg");e(ob,"width",a.inputWidth);e(ob,"height",a.inputWidth);e(La,"stroke","#ff6600");e(La,"pointer-events","none");e(La,"stroke-width","2");e(La,"fill-opacity","0");e(La,"x",Ka=a.windowX*a.cellWidth);e(La,"y",bb=a.windowY*a.cellWidth);e(La,"width",a.cellWidth);e(La,"height",a.cellWidth);e(nb,"transform",Ea="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)");e(w,"transform","translate(0, 30)");t(l,"width","100%");e(l,"viewBox",
cb="0 0 "+a.width+" "+a.height);d.addEventListener("mouseout",c,void 0);t(d,"position","relative");t(d,"background","white");t(d,"text-align","right")},m(a,b){a.insertBefore(d,b);qa._mount(d,null);d.appendChild(f);d.appendChild(l);l.appendChild(g);g.appendChild(h);l.appendChild(v);v.appendChild(x);l.appendChild(w);w.appendChild(J);J.appendChild(A);A.appendChild(G);J.appendChild(fa);for(a=0;a<Ta.length;a+=1)Ta[a].m(J,null);J.appendChild(E);w.appendChild(Y);Y.appendChild(M);Y.appendChild(O);O.appendChild(K);
Y.appendChild(U);U.appendChild(V);Y.appendChild(D);Y.appendChild(H);H.appendChild(F);F.appendChild(db);H.appendChild(ua);ua.appendChild(fb);H.appendChild(L);L.appendChild(ba);w.appendChild(S);S.appendChild(Z);S.appendChild(za);za.appendChild(pa);for(a=0;a<Ua.length;a+=1)Ua[a].m(S,null);S.appendChild(ea);ea.appendChild(ma);ma.appendChild(ra);ea.appendChild(ia);ia.appendChild(Ba);ea.appendChild(na);na.appendChild(Wa);ea.appendChild(aa);aa.appendChild(Ca);w.appendChild(oa);oa.appendChild(va);oa.appendChild(xa);
xa.appendChild(eb);oa.appendChild(Ia);Ia.appendChild(gb);oa.appendChild(sa);oa.appendChild(wa);wa.appendChild(Ma);Ma.appendChild(Ja);wa.appendChild(Oa);Oa.appendChild(hb);wa.appendChild(mb);mb.appendChild(ib);w.appendChild(nb);nb.appendChild(ya);nb.appendChild(Sa);Sa.appendChild(jb);nb.appendChild(ob);for(a=0;a<Fa.length;a+=1)Fa[a].m(nb,null);nb.appendChild(La)},p(c,d){a=d;d={};!Va&&c.onscreen&&(d.onscreen=a.onscreen,Va=void 0!==a.onscreen);qa._set(d);Va=void 0;(c.windowX||c.cellWidth)&&n!==(n=a.windowX*
a.cellWidth)&&e(h,"x",n);(c.windowY||c.cellWidth)&&u!==(u=a.windowY*a.cellWidth)&&e(h,"y",u);c.cellWidth&&(e(h,"width",a.cellWidth),e(h,"height",a.cellWidth));(c.windowX||c.inputCellWidth)&&q!==(q=a.windowX*a.inputCellWidth)&&e(x,"x",q);(c.windowY||c.inputCellWidth)&&r!==(r=a.windowY*a.inputCellWidth)&&e(x,"y",r);(c.inputCellWidth||c.windowSize)&&y!==(y=a.inputCellWidth*a.windowSize)&&e(x,"width",y);(c.inputCellWidth||c.windowSize)&&z!==(z=a.inputCellWidth*a.windowSize)&&e(x,"height",z);c.inputWidth&&
(e(fa,"width",a.inputWidth),e(fa,"height",a.inputWidth));if(c.numInputCells||c.windowX||c.windowSize||c.windowY||c.inputCellWidth||c.cellPadding||c.Math||c.numCells){Pa=da(a.numInputCells);for(d=0;d<Pa.length;d+=1){var f=mg(a,Pa,d);Ta[d]?Ta[d].p(c,f):(Ta[d]=ng(b,f),Ta[d].c(),Ta[d].m(J,E))}for(;d<Ta.length;d+=1)Ta[d].d(1);Ta.length=Pa.length}(c.windowX||c.inputCellWidth)&&R!==(R=a.windowX*a.inputCellWidth)&&e(E,"x",R);(c.windowY||c.inputCellWidth)&&Q!==(Q=a.windowY*a.inputCellWidth)&&e(E,"y",Q);(c.inputCellWidth||
c.windowSize)&&I!==(I=a.inputCellWidth*a.windowSize)&&e(E,"width",I);(c.inputCellWidth||c.windowSize)&&N!==(N=a.inputCellWidth*a.windowSize)&&e(E,"height",N);c.columnWidth&&B!==(B="translate(0,"+a.columnWidth/2+")")&&e(M,"transform",B);c.columnMargin&&P!==(P="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(M,"d",P);c.inputWidth&&(e(V,"width",a.inputWidth),e(V,"height",a.inputWidth));(c.columnWidth||c.inputCellWidth||c.windowSize||c.windowX||c.windowY)&&T!==(T="scale("+a.columnWidth/
(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")")&&e(U,"transform",T);c.columnWidth&&(e(D,"width",a.columnWidth),e(D,"height",a.columnWidth));c.columnWidth&&W!==(W="translate(0, "+(a.columnWidth+10)+")")&&e(H,"transform",W);(c.inputWidth||c.columnMargin)&&X!==(X="translate("+(a.inputWidth+a.columnMargin)+", 0)")&&e(Y,"transform",X);c.columnWidth&&ha!==(ha="translate(0,"+a.columnWidth/2+")")&&e(Z,"transform",ha);c.columnMargin&&la!==(la=
"M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(Z,"d",la);if(c.activations||c.columnWidth||c.inputWidth||c.windowX||c.windowY){ta=a.activations[a.windowX][a.windowY];for(d=0;d<ta.length;d+=1)f=jg(a,ta,d),Ua[d]?Ua[d].p(c,f):(Ua[d]=og(b,f),Ua[d].c(),Ua[d].m(S,ea));for(;d<Ua.length;d+=1)Ua[d].d(1);Ua.length=ta.length}c.columnWidth&&Ga!==(Ga="translate(0, "+(a.columnWidth+10)+")")&&e(ea,"transform",Ga);(c.inputWidth||c.columnMargin||c.columnWidth)&&Ha!==(Ha="translate("+(a.inputWidth+
a.columnMargin+a.columnWidth+a.columnMargin)+", 0)")&&e(S,"transform",Ha);c.columnWidth&&Na!==(Na="translate(0,"+a.columnWidth/2+")")&&e(va,"transform",Na);c.columnMargin&&Ra!==(Ra="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(va,"d",Ra);c.inputWidth&&(e(gb,"width",a.inputWidth),e(gb,"height",a.inputWidth));(c.columnWidth||c.cellWidth||c.windowX||c.windowY)&&Aa!==(Aa="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")")&&
e(Ia,"transform",Aa);c.columnWidth&&(e(sa,"width",a.columnWidth),e(sa,"height",a.columnWidth));c.columnWidth&&Ya!==(Ya="translate(0, "+(a.columnWidth+10)+")")&&e(wa,"transform",Ya);(c.inputWidth||c.columnMargin||c.columnWidth)&&Za!==(Za="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)")&&e(oa,"transform",Za);c.columnWidth&&$a!==($a="translate(0,"+a.columnWidth/2+")")&&e(ya,"transform",$a);c.columnMargin&&ab!==(ab="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&
e(ya,"d",ab);c.inputWidth&&(e(ob,"width",a.inputWidth),e(ob,"height",a.inputWidth));if(c.numCells||c.windowY||c.windowX||c.cellWidth||c.cellPadding){Qa=da(a.numCells);for(d=0;d<Qa.length;d+=1)f=ig(a,Qa,d),Fa[d]?Fa[d].p(c,f):(Fa[d]=pg(b,f),Fa[d].c(),Fa[d].m(nb,La));for(;d<Fa.length;d+=1)Fa[d].d(1);Fa.length=Qa.length}(c.windowX||c.cellWidth)&&Ka!==(Ka=a.windowX*a.cellWidth)&&e(La,"x",Ka);(c.windowY||c.cellWidth)&&bb!==(bb=a.windowY*a.cellWidth)&&e(La,"y",bb);c.cellWidth&&(e(La,"width",a.cellWidth),
e(La,"height",a.cellWidth));(c.inputWidth||c.columnMargin||c.columnWidth)&&Ea!==(Ea="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)")&&e(nb,"transform",Ea);(c.width||c.height)&&cb!==(cb="0 0 "+a.width+" "+a.height)&&e(l,"viewBox",cb)},d(a){a&&C(d);qa.destroy();ca(Ta,a);ca(Ua,a);ca(Fa,a);d.removeEventListener("mouseout",c,void 0)}}}function qg(b,a){var c,d,f,l;return{c(){c=p("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",kg,void 0);e(c,"stroke",
"white");e(c,"fill","#aaa");e(c,"fill-opacity",d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5);e(c,"stroke-opacity","0.2");e(c,"stroke-width","1");e(c,"x",f=a.x*(a.inputCellWidth+a.cellPadding));e(c,"y",l=a.y*(a.inputCellWidth+a.cellPadding));e(c,"width",a.inputCellWidth);e(c,"height",a.inputCellWidth)},m(a,b){a.insertBefore(c,b)},p(b,h){a=h;c._svelte.ctx=a;(b.numInputCells||b.windowX||b.windowSize||b.windowY)&&d!==(d=a.x>=a.windowX&&a.x<a.windowX+
a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5)&&e(c,"fill-opacity",d);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&f!==(f=a.x*(a.inputCellWidth+a.cellPadding))&&e(c,"x",f);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&l!==(l=a.y*(a.inputCellWidth+a.cellPadding))&&e(c,"y",l);b.inputCellWidth&&(e(c,"width",a.inputCellWidth),e(c,"height",a.inputCellWidth))},d(a){a&&C(c);c.removeEventListener("mouseover",kg,void 0)}}}function ng(b,a){for(var c,d=da(a.numInputCells),f=[],
e=0;e<d.length;e+=1)f[e]=qg(b,lg(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=la()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.numInputCells||a.windowX||a.windowSize||a.windowY||a.inputCellWidth||a.cellPadding||a.Math||a.numCells){d=da(e.numInputCells);for(var g=0;g<d.length;g+=1){let l=lg(e,d,g);f[g]?f[g].p(a,l):(f[g]=qg(b,l),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ca(f,a);a&&C(c)}}}function rg(b,a){var c,
d,f,l,g,h;return{c(){c=p("g");d=p("text");f=k("\u2026");l=p("line");e(d,"transform","rotate(90)translate(-7, -25)");e(d,"font-size","11");e(l,"y1","7");e(l,"y2","7");e(l,"stroke","#eee");e(l,"x2",g=2*a.inputWidth/3-20);e(c,"transform",h="translate(0,"+(20+20*(a.activations[0][0].length-1))+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);c.appendChild(l)},p(a,b){a.inputWidth&&g!==(g=2*b.inputWidth/3-20)&&e(l,"x2",g);a.activations&&h!==(h="translate(0,"+(20+20*(b.activations[0][0].length-
1))+")")&&e(c,"transform",h)},d(a){a&&C(c)}}}function og(b,a){var c,d,f,l=a.i===a.activations[0][0].length-1?512:a.i,g,h,n,u=sg(a.activation),m,x,q,t,y=a.i!==a.activations[a.windowX][a.windowY].length-1&&rg(b,a);return{c(){y&&y.c();c=p("g");d=p("text");f=k("neuron ");g=k(l);h=k(":");n=p("text");m=k(u);q=p("line");e(d,"font-size","11");e(d,"fill","#999");e(d,"dy","");e(n,"text-anchor","end");e(n,"font-size","11");e(n,"font-family","monospace");e(n,"dx",x=2*a.inputWidth/3-20);e(q,"y1","7");e(q,"y2",
"7");e(q,"stroke","#eee");e(q,"x2",a.columnWidth);e(c,"transform",t="translate(0,"+(a.i===a.activations[0][0].length-1?20+20*(a.i+1):20+20*a.i)+")")},m(a,b){y&&y.m(a,b);a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);d.appendChild(g);d.appendChild(h);c.appendChild(n);n.appendChild(m);c.appendChild(q)},p(a,d){d.i!==d.activations[d.windowX][d.windowY].length-1?y?y.p(a,d):(y=rg(b,d),y.c(),y.m(c.parentNode,c)):y&&(y.d(1),y=null);a.activations&&l!==(l=d.i===d.activations[0][0].length-1?512:d.i)&&
ba(g,l);(a.activations||a.windowX||a.windowY)&&u!==(u=sg(d.activation))&&ba(m,u);a.inputWidth&&x!==(x=2*d.inputWidth/3-20)&&e(n,"dx",x);a.columnWidth&&e(q,"x2",d.columnWidth);a.activations&&t!==(t="translate(0,"+(d.i===d.activations[0][0].length-1?20+20*(d.i+1):20+20*d.i)+")")&&e(c,"transform",t)},d(a){y&&y.d(a);a&&C(c)}}}function tg(b,a){var c,d,f,l;return{c(){c=p("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",gg,void 0);e(c,"stroke","#ddd");e(c,"fill","#aaa");e(c,"fill-opacity",
d=a.y===a.windowY&&a.x===a.windowX?.01:.5);e(c,"stroke-width","1");e(c,"x",f=a.x*(a.cellWidth+a.cellPadding));e(c,"y",l=a.y*(a.cellWidth+a.cellPadding));e(c,"width",a.cellWidth);e(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(b,h){a=h;c._svelte.ctx=a;(b.numCells||b.windowY||b.windowX)&&d!==(d=a.y===a.windowY&&a.x===a.windowX?.01:.5)&&e(c,"fill-opacity",d);(b.numCells||b.cellWidth||b.cellPadding)&&f!==(f=a.x*(a.cellWidth+a.cellPadding))&&e(c,"x",f);(b.numCells||b.cellWidth||b.cellPadding)&&
l!==(l=a.y*(a.cellWidth+a.cellPadding))&&e(c,"y",l);b.cellWidth&&(e(c,"width",a.cellWidth),e(c,"height",a.cellWidth))},d(a){a&&C(c);c.removeEventListener("mouseover",gg,void 0)}}}function pg(b,a){for(var c,d=da(a.numCells),f=[],e=0;e<d.length;e+=1)f[e]=tg(b,hg(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=la()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.numCells||a.windowY||a.windowX||a.cellWidth||a.cellPadding){d=da(e.numCells);for(var g=0;g<d.length;g+=
1){let l=hg(e,d,g);f[g]?f[g].p(a,l):(f[g]=tg(b,l),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ca(f,a);a&&C(c)}}}function zd(b){B(this,b);this._state=r(r({Math},{paused:!0,inputWidth:250,columnWidth:150,columnMargin:50,numCells:14,cellPadding:0,windowSize:3,windowX:0,windowY:0,activations:da,timerCount:47}),b.data);this._recompute({inputWidth:1,columnWidth:1,columnMargin:1,timerCount:1,numCells:1,clippedCount:1,cellPadding:1,windowSize:1,numInputCells:1},
this._state);this._intro=!0;this._fragment=gl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function hl({width:b,columnPadding:a}){return(b+a)/3-a}function il({columnWidth:b,inputPadding:a}){return(b+a)/3-a}function jl({inputWidth:b,numCells:a,cellPadding:c}){return(b+c)/a-c}function kl({columnWidth:b,numIcons:a}){return b/a}function ug(b,a,c,d){return`M${b},${a} L${b+10},${a} L${b+40},${d} L${c},${d} m-5,-5 l5,5 l-5,5`}function ll(){console.log("loading");
let {webURL:b}=this.get();rc(b).then((a)=>{this.set({webData:a})})}function vg(b,a,c){b=Object.create(b);b.x=a[c];return b}function wg(b,a,c){b=Object.create(b);b.y=a[c];return b}function xg(b,a,c){b=Object.create(b);b.icon=a[c];return b}function yg(b,a,c){b=Object.create(b);b.x=a[c];return b}function zg(b,a,c){b=Object.create(b);b.y=a[c];return b}function Ag(b,a,c){b=Object.create(b);b.input=a[c];b.i=c;return b}function ml(b,a){for(var c,d,f,l,g,h,n,u,v,x,q,r,y,z,w,J,A,G,fa,E,R,Q,I,N,B,M,D,P,O=a.inputs,
K=[],U=0;U<O.length;U+=1)K[U]=Bg(b,Ag(a,O,U));var V=a.webData,T=[];for(U=0;U<V.length;U+=1)T[U]=Cg(b,xg(a,V,U));var H=da(a.numIcons),F=[];for(U=0;U<H.length;U+=1)F[U]=Dg(b,wg(a,H,U));var L=new mc({root:b.root,store:b.store,data:{url:""}});return{c(){c=p("svg");d=p("g");f=p("g");l=p("image");for(var b=0;b<K.length;b+=1)K[b].c();h=p("g");n=p("image");for(b=0;b<T.length;b+=1)T[b].c();v=la();for(b=0;b<F.length;b+=1)F[b].c();q=p("rect");z=p("path");J=p("rect");E=k("\n");R=m("div");Q=m("div");Q.textContent=
"A randomized set of one million images is fed through the network, collecting one random spatial activation per image.";I=k("\n  ");N=m("div");N.textContent="The activations are fed through UMAP to reduce them to two dimensions. They are then plotted, with similar activations placed near each other.";B=k("\n  ");M=m("div");D=k("We then draw a grid and average the activations that fall within a cell and run feature inversion on the averaged activation.\n    ");P=m("div");L._fragment.c();Xa(l,"xlink:href",
"assets/images/mixed4c-layout.jpg");e(l,"width",a.columnWidth);e(l,"height",a.columnWidth);e(f,"transform",g="translate("+1*(a.columnWidth+a.columnPadding)+", 0)");e(n,"opacity",u=0<a.webData.length?1:0);Xa(n,"xlink:href",a.renderURL);e(n,"width",a.columnWidth);e(n,"height",a.columnWidth);e(h,"transform",x="translate("+2*(a.columnWidth+a.columnPadding)+", 0)");e(q,"fill","none");e(q,"stroke","black");e(q,"stroke-width","2");e(q,"x",r=1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);
e(q,"y",y=a.iconHighlight.y*a.iconWidth);e(q,"width",a.iconWidth);e(q,"height",a.iconWidth);e(z,"fill","none");e(z,"stroke","black");e(z,"d",w="M"+(1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth+a.iconWidth/2)+","+a.iconHighlight.y*a.iconWidth+"l0,-30 l"+(a.columnWidth+a.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5");e(J,"fill","none");e(J,"stroke","black");e(J,"stroke-width","2");e(J,"x",A=2*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);e(J,"y",G=a.iconHighlight.y*
a.iconWidth);e(J,"width",a.iconWidth);e(J,"height",a.iconWidth);e(d,"transform","translate(0, 40)");t(c,"width","100%");e(c,"viewBox",fa="0 0 "+a.width+" "+a.height);Q.className="figcaption";N.className="figcaption";t(P,"margin-top","8px");t(P,"text-align","right");M.className="figcaption";t(R,"display","grid");t(R,"grid-column-gap",""+a.columnPadding/a.width*100+"%");t(R,"grid-template-columns","1fr 1fr 1fr")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(l);for(var e=
0;e<K.length;e+=1)K[e].m(d,null);d.appendChild(h);h.appendChild(n);for(e=0;e<T.length;e+=1)T[e].m(h,null);h.appendChild(v);for(e=0;e<F.length;e+=1)F[e].m(h,null);d.appendChild(q);d.appendChild(z);d.appendChild(J);a.insertBefore(E,b);a.insertBefore(R,b);R.appendChild(Q);R.appendChild(I);R.appendChild(N);R.appendChild(B);R.appendChild(M);M.appendChild(D);M.appendChild(P);L._mount(P,null)},p(a,m){a.columnWidth&&(e(l,"width",m.columnWidth),e(l,"height",m.columnWidth));(a.columnWidth||a.columnPadding)&&
g!==(g="translate("+1*(m.columnWidth+m.columnPadding)+", 0)")&&e(f,"transform",g);if(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding||a.inputPadding||a.Math||a.numCells){O=m.inputs;for(var k=0;k<O.length;k+=1){var p=Ag(m,O,k);K[k]?K[k].p(a,p):(K[k]=Bg(b,p),K[k].c(),K[k].m(d,h))}for(;k<K.length;k+=1)K[k].d(1);K.length=O.length}a.webData&&u!==(u=0<m.webData.length?1:0)&&e(n,"opacity",u);a.renderURL&&Xa(n,"xlink:href",m.renderURL);a.columnWidth&&(e(n,"width",m.columnWidth),
e(n,"height",m.columnWidth));if(a.webData||a.iconWidth){V=m.webData;for(k=0;k<V.length;k+=1)p=xg(m,V,k),T[k]?T[k].p(a,p):(T[k]=Cg(b,p),T[k].c(),T[k].m(h,v));for(;k<T.length;k+=1)T[k].d(1);T.length=V.length}if(a.numIcons||a.iconWidth){H=da(m.numIcons);for(k=0;k<H.length;k+=1)p=wg(m,H,k),F[k]?F[k].p(a,p):(F[k]=Dg(b,p),F[k].c(),F[k].m(h,null));for(;k<F.length;k+=1)F[k].d(1);F.length=H.length}(a.columnWidth||a.columnPadding)&&x!==(x="translate("+2*(m.columnWidth+m.columnPadding)+", 0)")&&e(h,"transform",
x);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&r!==(r=1*(m.columnWidth+m.columnPadding)+m.iconHighlight.x*m.iconWidth)&&e(q,"x",r);(a.iconHighlight||a.iconWidth)&&y!==(y=m.iconHighlight.y*m.iconWidth)&&e(q,"y",y);a.iconWidth&&(e(q,"width",m.iconWidth),e(q,"height",m.iconWidth));(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&w!==(w="M"+(1*(m.columnWidth+m.columnPadding)+m.iconHighlight.x*m.iconWidth+m.iconWidth/2)+","+m.iconHighlight.y*m.iconWidth+"l0,-30 l"+(m.columnWidth+
m.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5")&&e(z,"d",w);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&A!==(A=2*(m.columnWidth+m.columnPadding)+m.iconHighlight.x*m.iconWidth)&&e(J,"x",A);(a.iconHighlight||a.iconWidth)&&G!==(G=m.iconHighlight.y*m.iconWidth)&&e(J,"y",G);a.iconWidth&&(e(J,"width",m.iconWidth),e(J,"height",m.iconWidth));(a.width||a.height)&&fa!==(fa="0 0 "+m.width+" "+m.height)&&e(c,"viewBox",fa);(a.columnPadding||a.width)&&t(R,"grid-column-gap",""+m.columnPadding/
m.width*100+"%")},d(a){a&&C(c);ca(K,a);ca(T,a);ca(F,a);a&&(C(E),C(R));L.destroy()}}}function Eg(b,a){var c,d,f;return{c(){c=p("rect");e(c,"stroke","white");e(c,"fill","#aaa");e(c,"fill-opacity","0.6");e(c,"stroke-width","2");e(c,"x",d=a.x*(a.cellWidth+a.cellPadding));e(c,"y",f=a.y*(a.cellWidth+a.cellPadding));e(c,"width",a.cellWidth);e(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numCells||a.cellWidth||a.cellPadding)&&d!==(d=b.x*(b.cellWidth+b.cellPadding))&&e(c,"x",d);(a.numCells||
a.cellWidth||a.cellPadding)&&f!==(f=b.y*(b.cellWidth+b.cellPadding))&&e(c,"y",f);a.cellWidth&&(e(c,"width",b.cellWidth),e(c,"height",b.cellWidth))},d(a){a&&C(c)}}}function Fg(b,a){for(var c,d=da(a.numCells),f=[],e=0;e<d.length;e+=1)f[e]=Eg(b,yg(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=la()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.numCells||a.cellWidth||a.cellPadding){d=da(e.numCells);for(var g=0;g<d.length;g+=1){let l=yg(e,d,g);f[g]?f[g].p(a,
l):(f[g]=Eg(b,l),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ca(f,a);a&&C(c)}}}function Gg(b,a){var c,d,f,l;return{c(){c=p("line");e(c,"stroke-dasharray","2 2");e(c,"y1",d=a.inputWidth+10);e(c,"y2",f=a.inputWidth+10);e(c,"x2",l=3*(a.inputWidth+a.inputPadding)-a.inputPadding);e(c,"stroke","#ddd")},m(a,b){a.insertBefore(c,b)},p(a,b){a.inputWidth&&d!==(d=b.inputWidth+10)&&e(c,"y1",d);a.inputWidth&&f!==(f=b.inputWidth+10)&&e(c,"y2",f);(a.inputWidth||a.inputPadding)&&
l!==(l=3*(b.inputWidth+b.inputPadding)-b.inputPadding)&&e(c,"x2",l)},d(a){a&&C(c)}}}function Bg(b,a){for(var c,d,f,l,g,h,n,m,v,x,q,t,y,z,w,r=(a.Math.random()+"").slice(0,5),A,G,fa=(a.Math.random()+"").slice(0,5),E,R,Q,I,N,B,M,D=da(a.numCells),P=[],O=0;O<D.length;O+=1)P[O]=Fg(b,zg(a,D,O));var K=a.i!==a.inputs.length-1&&Gg(b,a);return{c(){c=p("g");d=p("image");l=p("g");g=p("image");for(var b=0;b<P.length;b+=1)P[b].c();m=p("rect");q=p("path");y=p("g");z=p("text");w=k("[");A=k(r);G=k(", ");E=k(fa);R=
k(", \u2026]\n          ");K&&K.c();B=p("path");Xa(d,"xlink:href",f="assets/images/"+a.input.id+".jpg");e(d,"width",a.inputWidth);e(d,"height",a.inputWidth);Xa(g,"xlink:href",h="assets/images/"+a.input.id+".jpg");e(g,"width",a.inputWidth);e(g,"height",a.inputWidth);e(l,"transform",n="translate("+(a.inputWidth+a.inputPadding)+", 0)");e(m,"fill","none");e(m,"stroke","black");e(m,"stroke-width","2");e(m,"x",v=1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding));e(m,"y",x=a.input.y*
(a.cellWidth+a.cellPadding));e(m,"width",a.cellWidth);e(m,"height",a.cellWidth);e(q,"fill","none");e(q,"stroke","black");e(q,"d",t="M"+(1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding)+a.cellWidth)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" L"+(2*(a.inputWidth+a.inputPadding)-10)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" m-5,-5 l5,5 l-5,5");e(z,"font-size","9");e(z,"dy",Q=a.cellWidth/1.5);e(y,"transform",I="translate("+2*(a.inputWidth+a.inputPadding)+
", "+a.input.y*(a.cellWidth+a.cellPadding)+")");e(c,"transform",N="translate(0, "+(a.inputWidth+20)*a.i+")");e(B,"fill","none");e(B,"stroke","black");e(B,"d",M=ug(a.columnWidth,a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2+(a.inputWidth+20)*a.i,a.columnWidth+a.columnPadding+a.columnWidth*a.input.px,a.columnWidth*a.input.py))},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(l);l.appendChild(g);for(var f=0;f<P.length;f+=1)P[f].m(l,null);c.appendChild(m);c.appendChild(q);c.appendChild(y);
y.appendChild(z);z.appendChild(w);z.appendChild(A);z.appendChild(G);z.appendChild(E);z.appendChild(R);K&&K.m(c,null);a.insertBefore(B,b)},p(a,k){a.inputs&&f!==(f="assets/images/"+k.input.id+".jpg")&&Xa(d,"xlink:href",f);a.inputWidth&&(e(d,"width",k.inputWidth),e(d,"height",k.inputWidth));a.inputs&&h!==(h="assets/images/"+k.input.id+".jpg")&&Xa(g,"xlink:href",h);a.inputWidth&&(e(g,"width",k.inputWidth),e(g,"height",k.inputWidth));if(a.numCells||a.cellWidth||a.cellPadding){D=da(k.numCells);for(var u=
0;u<D.length;u+=1){let c=zg(k,D,u);P[u]?P[u].p(a,c):(P[u]=Fg(b,c),P[u].c(),P[u].m(l,null))}for(;u<P.length;u+=1)P[u].d(1);P.length=D.length}(a.inputWidth||a.inputPadding)&&n!==(n="translate("+(k.inputWidth+k.inputPadding)+", 0)")&&e(l,"transform",n);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&v!==(v=1*(k.inputWidth+k.inputPadding)+k.input.x*(k.cellWidth+k.cellPadding))&&e(m,"x",v);(a.inputs||a.cellWidth||a.cellPadding)&&x!==(x=k.input.y*(k.cellWidth+k.cellPadding))&&e(m,
"y",x);a.cellWidth&&(e(m,"width",k.cellWidth),e(m,"height",k.cellWidth));(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&t!==(t="M"+(1*(k.inputWidth+k.inputPadding)+k.input.x*(k.cellWidth+k.cellPadding)+k.cellWidth)+","+(k.input.y*(k.cellWidth+k.cellPadding)+k.cellWidth/2)+" L"+(2*(k.inputWidth+k.inputPadding)-10)+","+(k.input.y*(k.cellWidth+k.cellPadding)+k.cellWidth/2)+" m-5,-5 l5,5 l-5,5")&&e(q,"d",t);a.Math&&r!==(r=(k.Math.random()+"").slice(0,5))&&ba(A,r);a.Math&&fa!==(fa=
(k.Math.random()+"").slice(0,5))&&ba(E,fa);a.cellWidth&&Q!==(Q=k.cellWidth/1.5)&&e(z,"dy",Q);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&I!==(I="translate("+2*(k.inputWidth+k.inputPadding)+", "+k.input.y*(k.cellWidth+k.cellPadding)+")")&&e(y,"transform",I);k.i!==k.inputs.length-1?K?K.p(a,k):(K=Gg(b,k),K.c(),K.m(c,null)):K&&(K.d(1),K=null);a.inputWidth&&N!==(N="translate(0, "+(k.inputWidth+20)*k.i+")")&&e(c,"transform",N);(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||
a.inputWidth||a.columnPadding)&&M!==(M=ug(k.columnWidth,k.input.y*(k.cellWidth+k.cellPadding)+k.cellWidth/2+(k.inputWidth+20)*k.i,k.columnWidth+k.columnPadding+k.columnWidth*k.input.px,k.columnWidth*k.input.py))&&e(B,"d",M)},d(a){a&&C(c);ca(P,a);K&&K.d();a&&C(B)}}}function Cg(b,a){var c,d,f,l;return{c(){c=p("rect");e(c,"stroke","none");e(c,"fill","white");e(c,"fill-opacity",d=50<+a.icon.n?0:1);e(c,"x",f=a.icon.y*a.iconWidth);e(c,"y",l=a.icon.x*a.iconWidth);e(c,"width",a.iconWidth);e(c,"height",a.iconWidth)},
m(a,b){a.insertBefore(c,b)},p(a,b){a.webData&&d!==(d=50<+b.icon.n?0:1)&&e(c,"fill-opacity",d);(a.webData||a.iconWidth)&&f!==(f=b.icon.y*b.iconWidth)&&e(c,"x",f);(a.webData||a.iconWidth)&&l!==(l=b.icon.x*b.iconWidth)&&e(c,"y",l);a.iconWidth&&(e(c,"width",b.iconWidth),e(c,"height",b.iconWidth))},d(a){a&&C(c)}}}function Hg(b,a){var c,d,f;return{c(){c=p("rect");e(c,"stroke","#ddd");e(c,"stroke-opacity","0.5");e(c,"fill","none");e(c,"stroke-width","1");e(c,"x",d=a.x*a.iconWidth);e(c,"y",f=a.y*a.iconWidth);
e(c,"width",a.iconWidth);e(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numIcons||a.iconWidth)&&d!==(d=b.x*b.iconWidth)&&e(c,"x",d);(a.numIcons||a.iconWidth)&&f!==(f=b.y*b.iconWidth)&&e(c,"y",f);a.iconWidth&&(e(c,"width",b.iconWidth),e(c,"height",b.iconWidth))},d(a){a&&C(c)}}}function Dg(b,a){for(var c,d=da(a.numIcons),f=[],e=0;e<d.length;e+=1)f[e]=Hg(b,vg(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=la()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,
b)},p(a,e){if(a.numIcons||a.iconWidth){d=da(e.numIcons);for(var g=0;g<d.length;g+=1){let l=vg(e,d,g);f[g]?f[g].p(a,l):(f[g]=Hg(b,l),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ca(f,a);a&&C(c)}}}function Ad(b){B(this,b);this._state=r(r({Math},{width:1E3,height:380,columnPadding:50,inputPadding:20,numCells:6,cellPadding:0,numIcons:10,iconHighlight:{x:2,y:0},layoutData:[],webData:[],webURL:"https://storage.googleapis.com/activation-atlas/build/process/web/web--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",
dataURL:"https://storage.googleapis.com/activation-atlas/build/process/layout_data/layout_data--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",renderURL:"https://storage.googleapis.com/activation-atlas/build/process/render/render--x=0--y=0--tries=4--alpha=False--tile_size=10--whiten=true--steps=2048--icon_size=80--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.jpg",
inputs:[{id:"dogcat",x:2,y:1,px:.25,py:.033},{id:"dog",x:3,y:3,px:.28,py:.066},{id:"ocean",x:2,y:3,px:.25,py:.85}]}),b.data);this._recompute({width:1,columnPadding:1,columnWidth:1,inputPadding:1,inputWidth:1,numCells:1,cellPadding:1,numIcons:1},this._state);this._intro=!0;this._fragment=ml(this,this._state);this.root._oncreate.push(()=>{ll.call(this);this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function nl({changed:b,
current:a}){b.viewWidth&&console.log(a.viewWidth)}function ol(b,a){function c(){b.set({gridSize:q.__value})}function d(){b.set({gridSize:w.__value})}function f(){b.set({gridSize:B.__value})}function l(){b.set({gridSize:I.__value})}function g(){b.set({showLabels:F.checked})}var h,n,u,v,x,q,p,y,z,w,r,A,G,B,E,R,Q,I,N,D,M,F,P,O,K,H={id:"inceptionv1_"+a.layerName,scaleCountFactor:"200",iconCrop:a.iconCrop,disableBehaviors:!0};if(void 0!==a.gridSize){H.gridSize=a.gridSize;var V=!0}if(void 0!==a.viewWidth){H.viewWidth=
a.viewWidth;var T=!0}if(void 0!==a.showLabels){H.showLabels=a.showLabels;var L=!0}var S=new Pb({root:b.root,store:b.store,data:H,_bind(a,c){var d={};!V&&a.gridSize&&(d.gridSize=c.gridSize);!T&&a.viewWidth&&(d.viewWidth=c.viewWidth);!L&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);L=T=V=void 0}});b.root._beforecreate.push(()=>{S._bind({gridSize:1,viewWidth:1,showLabels:1},S.get())});return{c(){h=m("div");n=m("div");u=m("label");u.textContent="Grid size:";v=k("\n    ");x=m("label");q=m("input");
p=k(" 20x20");y=k("\n    ");z=m("label");w=m("input");r=k(" 40x40");A=k("\n    ");G=m("label");B=m("input");E=k(" 80x80");R=k("\n    ");Q=m("label");I=m("input");N=k(" 160x160");D=k("\n\n    ");M=m("label");F=m("input");P=k(" attribution labels");O=k("\n\n\n");K=m("div");S._fragment.c();b._bindingGroups[0].push(q);q.addEventListener("change",c,void 0);e(q,"type","radio");q.__value=0;q.value=q.__value;q.className="svelte-1h549gh";b._bindingGroups[0].push(w);w.addEventListener("change",d,void 0);e(w,
"type","radio");w.__value=1;w.value=w.__value;w.className="svelte-1h549gh";b._bindingGroups[0].push(B);B.addEventListener("change",f,void 0);e(B,"type","radio");B.__value=2;B.value=B.__value;B.className="svelte-1h549gh";b._bindingGroups[0].push(I);I.addEventListener("change",l,void 0);e(I,"type","radio");I.__value=3;I.value=I.__value;I.className="svelte-1h549gh";F.addEventListener("change",g,void 0);e(F,"type","checkbox");F.className="svelte-1h549gh";t(M,"float","right");t(n,"grid-column","text");
n.className="svelte-1h549gh svelte-ref-controls";h.className="base-grid";K.className="atlas svelte-1h549gh";t(K,"grid-column","screen")},m(c,d){c.insertBefore(h,d);h.appendChild(n);n.appendChild(u);n.appendChild(v);n.appendChild(x);x.appendChild(q);q.checked=q.__value===a.gridSize;x.appendChild(p);n.appendChild(y);n.appendChild(z);z.appendChild(w);w.checked=w.__value===a.gridSize;z.appendChild(r);n.appendChild(A);n.appendChild(G);G.appendChild(B);B.checked=B.__value===a.gridSize;G.appendChild(E);
n.appendChild(R);n.appendChild(Q);Q.appendChild(I);I.checked=I.__value===a.gridSize;Q.appendChild(N);n.appendChild(D);n.appendChild(M);M.appendChild(F);F.checked=a.showLabels;M.appendChild(P);b.refs.controls=n;c.insertBefore(O,d);c.insertBefore(K,d);S._mount(K,null)},p(b,c){a=c;b.gridSize&&(q.checked=q.__value===a.gridSize);b.gridSize&&(w.checked=w.__value===a.gridSize);b.gridSize&&(B.checked=B.__value===a.gridSize);b.gridSize&&(I.checked=I.__value===a.gridSize);b.showLabels&&(F.checked=a.showLabels);
c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);b.iconCrop&&(c.iconCrop=a.iconCrop);!V&&b.gridSize&&(c.gridSize=a.gridSize,V=void 0!==a.gridSize);!T&&b.viewWidth&&(c.viewWidth=a.viewWidth,T=void 0!==a.viewWidth);!L&&b.showLabels&&(c.showLabels=a.showLabels,L=void 0!==a.showLabels);S._set(c);L=T=V=void 0},d(a){a&&C(h);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(q),1);q.removeEventListener("change",c,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(w),1);w.removeEventListener("change",
d,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(B),1);B.removeEventListener("change",f,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(I),1);I.removeEventListener("change",l,void 0);F.removeEventListener("change",g,void 0);b.refs.controls===n&&(b.refs.controls=null);a&&(C(O),C(K));S.destroy()}}}function Ig(b){B(this,b);this.refs={};this._state=r({layerName:"mixed4c",gridSize:1,iconCrop:.4},b.data);this._bindingGroups=[[]];this._intro=!0;this._handlers.update=[nl];this._fragment=
ol(this,this._state);this.root._oncreate.push(()=>{this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function pl(b,a){var c,d,f,e,g,h,n,u,v,x,q,p,y,z={id:"inceptionv1_"+a.layerName,textShadow:!0,backgroundColor:"#dfdfdf"};if(void 0!==a.gridSize){z.gridSize=a.gridSize;var w=!0}if(void 0!==a.homeX){z.homeX=a.homeX;var r=!0}if(void 0!==a.homeY){z.homeY=a.homeY;var B=!0}if(void 0!==a.homeScale){z.homeScale=a.homeScale;
var G=!0}if(void 0!==a.aspectRatio){z.aspectRatio=a.aspectRatio;var A=!0}if(void 0!==a.scale){z.scale=a.scale;var E=!0}if(void 0!==a.extent){z.extent=a.extent;var R=!0}if(void 0!==a.showLabels){z.showLabels=a.showLabels;var Q=!0}var I=new Pb({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!w&&a.gridSize&&(d.gridSize=c.gridSize);!r&&a.homeX&&(d.homeX=c.homeX);!B&&a.homeY&&(d.homeY=c.homeY);!G&&a.homeScale&&(d.homeScale=c.homeScale);!A&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!E&&a.scale&&
(d.scale=c.scale);!R&&a.extent&&(d.extent=c.extent);!Q&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);Q=R=E=A=G=B=r=w=void 0}});b.root._beforecreate.push(()=>{I._bind({gridSize:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,extent:1,showLabels:1},I.get())});b.refs.atlas=I;z={};if(void 0!==a.extent){z.extent=a.extent;var N=!0}var D=new sb({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!N&&a.extent&&(d.extent=c.extent);b._set(d);N=void 0}});b.root._beforecreate.push(()=>{D._bind({extent:1},
D.get())});D.on("drag",function(a){b.refs.atlas.translateTo(a.gcx,a.gcy)});var M=new Hb({root:b.root,store:b.store,data:{name:"home",color:"rgb(100, 100, 100)"}}),F=new Mb({root:b.root,store:b.store,slots:{default:X()},data:{backgroundColor:"rgb(245, 245 ,245)"}});F.on("click",function(a){b.refs.atlas.home()});var P=new Hb({root:b.root,store:b.store,data:{name:"add",color:"rgb(100, 100, 100)"}}),O=new Mb({root:b.root,store:b.store,slots:{default:X()},data:{backgroundColor:"rgb(245, 245 ,245)"}});
O.on("click",function(a){b.refs.atlas.scaleBy(2)});var K=new Hb({root:b.root,store:b.store,data:{name:"remove",color:"rgb(100, 100, 100)"}}),H=new Mb({root:b.root,store:b.store,slots:{default:X()},data:{backgroundColor:"rgb(245, 245 ,245)"}});H.on("click",function(a){b.refs.atlas.scaleBy(.5)});return{c(){c=m("div");d=m("div");I._fragment.c();f=k("\n  ");e=m("div");g=m("div");h=m("img");v=k("\n      ");D._fragment.c();x=k("\n    ");q=m("div");M._fragment.c();F._fragment.c();p=k("\n      ");P._fragment.c();
O._fragment.c();y=k("\n      ");K._fragment.c();H._fragment.c();d.className="detail svelte-12h17x1";h.src=n="assets/images/renders/thumbnail-"+a.layerName+".jpg";h.alt=u="thumbnail for "+a.layerName;h.className="svelte-12h17x1";g.className="atlas svelte-12h17x1";q.className="controls svelte-12h17x1";t(c,"display","grid");t(c,"grid-gap","20px");t(c,"grid-template-columns","1fr 120px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);I._mount(d,null);c.appendChild(f);c.appendChild(e);e.appendChild(g);g.appendChild(h);
g.appendChild(v);D._mount(g,null);e.appendChild(x);e.appendChild(q);M._mount(F._slotted.default,null);F._mount(q,null);q.appendChild(p);P._mount(O._slotted.default,null);O._mount(q,null);q.appendChild(y);K._mount(H._slotted.default,null);H._mount(q,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!w&&b.gridSize&&(c.gridSize=a.gridSize,w=void 0!==a.gridSize);!r&&b.homeX&&(c.homeX=a.homeX,r=void 0!==a.homeX);!B&&b.homeY&&(c.homeY=a.homeY,B=void 0!==a.homeY);!G&&b.homeScale&&(c.homeScale=
a.homeScale,G=void 0!==a.homeScale);!A&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,A=void 0!==a.aspectRatio);!E&&b.scale&&(c.scale=a.scale,E=void 0!==a.scale);!R&&b.extent&&(c.extent=a.extent,R=void 0!==a.extent);!Q&&b.showLabels&&(c.showLabels=a.showLabels,Q=void 0!==a.showLabels);I._set(c);Q=R=E=A=G=B=r=w=void 0;b.layerName&&n!==(n="assets/images/renders/thumbnail-"+a.layerName+".jpg")&&(h.src=n);b.layerName&&u!==(u="thumbnail for "+a.layerName)&&(h.alt=u);c={};!N&&b.extent&&(c.extent=a.extent,
N=void 0!==a.extent);D._set(c);N=void 0},d(a){a&&C(c);I.destroy();b.refs.atlas===I&&(b.refs.atlas=null);D.destroy();M.destroy();F.destroy();P.destroy();O.destroy();K.destroy();H.destroy()}}}function Ma(b){B(this,b);this.refs={};this._state=r({layerName:"mixed4c",gridSize:2,homeScale:14,showLabels:!0},b.data);this._intro=!0;this._fragment=pl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function ql({width:b}){return b}function rl(b,a){var c,d;return{c(){c=
m("div");d=m("canvas");t(d,"position","absolute");t(d,"top","0");t(d,"left","calc(50% - "+a.width/2+"px)");d.className="singleIcon";d.width=a.width;d.height=a.height;t(c,"position","relative");t(c,"overflow","hidden");t(c,"height",""+a.width+"px")},m(a,e){a.insertBefore(c,e);c.appendChild(d);b.refs.canvas=d},p(a,b){a.width&&(t(d,"left","calc(50% - "+b.width/2+"px)"),d.width=b.width);a.height&&(d.height=b.height);a.width&&t(c,"height",""+b.width+"px")},d(a){a&&C(c);b.refs.canvas===d&&(b.refs.canvas=
null)}}}function Nc(b){B(this,b);this.refs={};this._state=r({iconCrop:0,width:null,icon:null,config:null},b.data);this._recompute({width:1},this._state);this._intro=!0;this._fragment=rl(this,this._state);this.root._oncreate.push(()=>{this.render();this.fire("update",{changed:ma({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function sl({pointList:b,layers:a,pathZoomIndex:c}){let d=[];b.forEach((b)=>{if(a&&a[c]){var f=Math.floor(b[0]*a[c].length);
b=Math.floor(b[1]*a[c].length);a[c][b]&&a[c][b][f]&&0<a[c][b][f].num_activations&&d.push(a[c][b][f])}});return d}function tl({layers:b}){return b?b.length-1:1}function Jg(b,a,c){b=Object.create(b);b.icon=a[c];b.i=c;return b}function ul(b,a){function c(){b.set({width:d.clientWidth,height:d.clientHeight})}for(var d,f,l,g,h,n,u,v,x,q,r,y=a.imgList,z=[],w=0;w<y.length;w+=1)z[w]=Kg(b,Jg(a,y,w));return{c(){d=m("div");f=m("div");l=m("div");g=k("\n    ");h=m("div");n=k("\n    ");u=p("svg");v=p("path");x=
k("\n  ");q=m("div");for(var w=0;w<z.length;w+=1)z[w].c();t(l,"position","absolute");t(l,"left","0px");t(l,"top","1px");t(l,"background-color",a.color);t(l,"border-radius","50%");t(l,"width","8px");t(l,"height","8px");t(h,"position","relative");t(h,"top","4px");t(h,"margin","0 4px");t(h,"border-top","solid 2px "+a.color);e(v,"d","M 0 0 L 10 5 L 0 10 z");e(v,"fill",a.color);t(u,"position","absolute");t(u,"right","-4px");t(u,"top","0");e(u,"width","10");e(u,"height","10");e(u,"viewBox","0 0 10 10");
t(f,"position","relative");t(f,"height","10px");q.className="icons svelte-w4igyz";b.root._beforecreate.push(c)},m(a,e){a.insertBefore(d,e);d.appendChild(f);f.appendChild(l);f.appendChild(g);f.appendChild(h);f.appendChild(n);f.appendChild(u);u.appendChild(v);d.appendChild(x);d.appendChild(q);for(a=0;a<z.length;a+=1)z[a].m(q,null);b.refs.icons=q;r=Ra(d,c);b.refs.annotation=d},p(a,c){a.color&&(t(l,"background-color",c.color),t(h,"border-top","solid 2px "+c.color),e(v,"fill",c.color));if(a.imgList||a.config){y=
c.imgList;for(var d=0;d<y.length;d+=1){let f=Jg(c,y,d);z[d]?z[d].p(a,f):(z[d]=Kg(b,f),z[d].c(),z[d].m(q,null))}for(;d<z.length;d+=1)z[d].d(1);z.length=y.length}},d(a){a&&C(d);ca(z,a);b.refs.icons===q&&(b.refs.icons=null);r.cancel();b.refs.annotation===d&&(b.refs.annotation=null)}}}function Kg(b,a){var c=new Nc({root:b.root,store:b.store,data:{icon:a.icon,width:100,config:a.config}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.imgList&&(d.icon=b.icon);a.config&&(d.config=b.config);
c._set(d)},d(a){c.destroy(a)}}}function Bd(b){B(this,b);this.refs={};this._state=r({container:null,arrow:null,arrowHeight:30,imgList:[],color:"#ff6600"},b.data);this._recompute({layers:1,pointList:1,pathZoomIndex:1},this._state);this._intro=!0;this._fragment=ul(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function vl({pointList:b}){return b.length}function wl({viewWidth:b,viewHeight:a}){return b&&a?Math.min(b,a):0}function xl({viewWidth:b,viewHeight:a,edgeLength:c}){return b&&
a?[(b-c)/2,(a-c)/2]:[0,0]}function yl({pointList:b,edgeLength:a}){let c=[],d="M";b.forEach(function(b){d=d+b[0]*a+" "+b[1]*a+" L"});c.push(d.substring(0,d.length-2));return c}function zl(b,a){var c,d,f,l,g,h,n,u,v,x,q,r,y,z,w,J,B,G,A,E,D,F,I=new Bd({root:b.root,store:b.store,data:{pointList:a.pointList,layers:a.layers,config:a.config,color:a.color}}),N={id:"inceptionv1_"+a.layerName};if(void 0!==a.config){N.config=a.config;var H=!0}if(void 0!==a.layers){N.layers=a.layers;var M=!0}var L=new dd({root:b.root,
store:b.store,data:N,_bind(a,c){var d={};!H&&a.config&&(d.config=c.config);!M&&a.layers&&(d.layers=c.layers);b._set(d);M=H=void 0}});b.root._beforecreate.push(()=>{L._bind({config:1,layers:1},L.get())});return{c(){c=m("div");d=m("div");I._fragment.c();f=k("\n  ");l=m("div");g=m("div");h=m("img");v=k("\n    ");x=p("svg");q=p("defs");r=p("marker");y=p("circle");w=p("marker");J=p("path");G=p("path");F=k("\n  ");L._fragment.c();h.src=n="assets/images/renders/thumbnail-"+a.layerName+".jpg";h.alt=u="thumbnail for "+
a.layerName;t(h,"width","100%");t(h,"display","block");g.className="thumbnail svelte-1wb5xrc";e(y,"cx","5");e(y,"cy","5");e(y,"r","3");e(r,"id",z="head"+a.uniqueId);e(r,"fill",a.color);e(r,"viewBox","0 0 10 10");e(r,"refX","5");e(r,"refY","5");e(r,"markerWidth","5");e(r,"markerHeight","5");e(r,"orient","auto-start-reverse");e(J,"d","M 0 0 L 10 5 L 0 10 z");e(w,"id",B="arrow"+a.uniqueId);e(w,"fill",a.color);e(w,"viewBox","0 0 10 10");e(w,"refX","5");e(w,"refY","5");e(w,"markerWidth","3");e(w,"markerHeight",
"3");e(w,"orient","auto-start-reverse");e(G,"d",a.path_d);e(G,"stroke",a.color);e(G,"stroke-width","3");e(G,"fill","transparent");e(G,"marker-end",A="url(#arrow"+a.uniqueId+")");e(G,"marker-start",E="url(#head"+a.uniqueId+")");e(x,"viewBox",D="0 0 "+a.viewWidth+" "+a.viewHeight);e(x,"class","pathArrow svelte-1wb5xrc");l.className="atlas svelte-1wb5xrc";c.className="showapath svelte-1wb5xrc"},m(a,e){a.insertBefore(c,e);c.appendChild(d);I._mount(d,null);c.appendChild(f);c.appendChild(l);l.appendChild(g);
g.appendChild(h);l.appendChild(v);l.appendChild(x);x.appendChild(q);q.appendChild(r);r.appendChild(y);q.appendChild(w);w.appendChild(J);x.appendChild(G);b.refs.clickPath=G;c.appendChild(F);L._mount(c,null)},p(b,c){a=c;c={};b.pointList&&(c.pointList=a.pointList);b.layers&&(c.layers=a.layers);b.config&&(c.config=a.config);b.color&&(c.color=a.color);I._set(c);b.layerName&&n!==(n="assets/images/renders/thumbnail-"+a.layerName+".jpg")&&(h.src=n);b.layerName&&u!==(u="thumbnail for "+a.layerName)&&(h.alt=
u);b.uniqueId&&z!==(z="head"+a.uniqueId)&&e(r,"id",z);b.color&&e(r,"fill",a.color);b.uniqueId&&B!==(B="arrow"+a.uniqueId)&&e(w,"id",B);b.color&&e(w,"fill",a.color);b.path_d&&e(G,"d",a.path_d);b.color&&e(G,"stroke",a.color);b.uniqueId&&A!==(A="url(#arrow"+a.uniqueId+")")&&e(G,"marker-end",A);b.uniqueId&&E!==(E="url(#head"+a.uniqueId+")")&&e(G,"marker-start",E);(b.viewWidth||b.viewHeight)&&D!==(D="0 0 "+a.viewWidth+" "+a.viewHeight)&&e(x,"viewBox",D);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);
!H&&b.config&&(c.config=a.config,H=void 0!==a.config);!M&&b.layers&&(c.layers=a.layers,M=void 0!==a.layers);L._set(c);M=H=void 0},d(a){a&&C(c);I.destroy();b.refs.clickPath===G&&(b.refs.clickPath=null);L.destroy()}}}function Va(b){B(this,b);this.refs={};this._state=r({gridSize:1,viewWidth:160,viewHeight:160,height:160,color:"#ff6600",uniqueId:Math.random(),pointList:[]},b.data);this._recompute({pointList:1,viewWidth:1,viewHeight:1,edgeLength:1,topLeft:1},this._state);this._intro=!0;this._fragment=
zl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Al({scale:b}){return 1/b}function Bl({scale:b,aspectRatio:a}){return 1/b*a}function Cl({gcx:b,w:a}){return b-a/2}function Dl({gcy:b,h:a}){return b-a/2}function El({l:b,w:a}){return b+a}function Fl({t:b,h:a}){return b+a}function Gl({l:b,width:a}){return b*a}function Hl({r:b,width:a}){return b*a}function Il({t:b,height:a}){return b*a}function Jl({b,height:a}){return b*a}function Kl(b,a){function c(){b.set({width:d.clientWidth,
height:d.clientHeight})}var d,f,e=a.scale&&Lg(b,a);return{c(){d=m("div");e&&e.c();b.root._beforecreate.push(c);d.className="root svelte-1ejkfbm"},m(a,b){a.insertBefore(d,b);e&&e.m(d,null);f=Ra(d,c)},p(a,c){c.scale?e?e.p(a,c):(e=Lg(b,c),e.c(),e.m(d,null)):e&&(e.d(1),e=null)},d(a){a&&C(d);e&&e.d();f.cancel()}}}function Lg(b,a){function c(a){b.mouseMove(a)}function d(a){b.mouseUp(a)}function f(a){b.mouseMove(a)}function l(a){b.mouseDown(a)}function g(a){b.mouseUp(a)}var h,n,u,v,x,q,r,y=a.annotationValue&&
Mg(b,a);return{c(){h=p("svg");n=p("path");x=k("\n  ");q=m("div");y&&y.c();n.addEventListener("mousemove",c,void 0);n.addEventListener("mouseup",d,void 0);e(n,"class",u=(a.background?"":"transparent")+" svelte-1ejkfbm");e(n,"d",v="M0,0 L"+a.width+",0 L"+a.width+","+a.height+" L0,"+a.height+" z M"+a.left+","+a.top+" L"+a.left+","+a.bottom+" L"+a.right+","+a.bottom+"  L"+a.right+","+a.top+" z");e(h,"width",a.width);e(h,"height",a.height);e(h,"class","svelte-1ejkfbm");q.addEventListener("mousemove",f,
void 0);q.addEventListener("mousedown",l,void 0);q.addEventListener("mouseup",g,void 0);q.className=r="reticle "+(a.round?"round":"")+" svelte-1ejkfbm";t(q,"box-sizing","content-box");t(q,"border-color",a.color);t(q,"top",""+(a.top-2.5)+"px");t(q,"left",""+(a.left-2.5)+"px");t(q,"width",""+(a.right-a.left-1)+"px");t(q,"height",""+(a.bottom-a.top-1)+"px");t(q,"cursor",(a.enableDragging?"move":"default")+"\n      ")},m(a,b){a.insertBefore(h,b);h.appendChild(n);a.insertBefore(x,b);a.insertBefore(q,b);
y&&y.m(q,null)},p(a,c){a.background&&u!==(u=(c.background?"":"transparent")+" svelte-1ejkfbm")&&e(n,"class",u);(a.width||a.height||a.left||a.top||a.bottom||a.right)&&v!==(v="M0,0 L"+c.width+",0 L"+c.width+","+c.height+" L0,"+c.height+" z M"+c.left+","+c.top+" L"+c.left+","+c.bottom+" L"+c.right+","+c.bottom+"  L"+c.right+","+c.top+" z")&&e(n,"d",v);a.width&&e(h,"width",c.width);a.height&&e(h,"height",c.height);c.annotationValue?y?y.p(a,c):(y=Mg(b,c),y.c(),y.m(q,null)):y&&(y.d(1),y=null);a.round&&
r!==(r="reticle "+(c.round?"round":"")+" svelte-1ejkfbm")&&(q.className=r);a.color&&t(q,"border-color",c.color);a.top&&t(q,"top",""+(c.top-2.5)+"px");a.left&&t(q,"left",""+(c.left-2.5)+"px");(a.right||a.left)&&t(q,"width",""+(c.right-c.left-1)+"px");(a.bottom||a.top)&&t(q,"height",""+(c.bottom-c.top-1)+"px");a.enableDragging&&t(q,"cursor",(c.enableDragging?"move":"default")+"\n      ")},d(a){a&&C(h);n.removeEventListener("mousemove",c,void 0);n.removeEventListener("mouseup",d,void 0);a&&(C(x),C(q));
y&&y.d();q.removeEventListener("mousemove",f,void 0);q.removeEventListener("mousedown",l,void 0);q.removeEventListener("mouseup",g,void 0)}}}function Mg(b,a){var c,d,f,e;return{c(){c=m("div");d=m("div");f=m("p");e=k(a.annotationValue);f.className="annotation svelte-1ejkfbm";d.className="annotationTab svelte-1ejkfbm";t(d,"background",a.color);c.className="annotationTabParent svelte-1ejkfbm";t(c,"top",""+(a.w*a.width-2)/2+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(e)},
p(a,b){a.annotationValue&&ba(e,b.annotationValue);a.color&&t(d,"background",b.color);(a.w||a.width)&&t(c,"top",""+(b.w*b.width-2)/2+"px")},d(a){a&&C(c)}}}function Na(b){B(this,b);this._state=r({width:0,height:0,dragging:!1,startPos:{x:-100,y:-100},background:!0,round:!1,color:"#ff6600",enableDragging:!0},b.data);this._recompute({scale:1,aspectRatio:1,gcx:1,w:1,width:1,gcy:1,h:1,height:1,l:1,t:1,r:1,b:1},this._state);this._intro=!0;this._fragment=Kl(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),F(this))}function Ll(b,a){var c,d,f,e,g,h,n,u,v,x,q,r=new L({root:b.root,store:b.store,data:{src:"assets/images/renders/layers-"+a.subject+"-"+a.index+".png",aspectRatio:4/3,border:!1}}),p=new Na({root:b.root,store:b.store,data:{aspectRatio:4/3,scale:a.homeScale,gcx:a.homeX,gcy:a.homeY,enableDragging:!1}});return{c(){c=m("div");d=m("div");r._fragment.c();f=k("\n\n  ");e=m("div");g=k("\n\n  ");h=m("div");n=m("div");u=m("img");q=k("\n      ");p._fragment.c();d.className=
"atlas svelte-mxyxdk";e.className="figcaption";u.src=v="assets/images/renders/thumbnail-"+a.layerName+".jpg";u.alt=x="thumbnail for "+a.layerName;u.className="svelte-mxyxdk";t(n,"position","relative");h.className="thumbnail svelte-mxyxdk";c.className="root svelte-mxyxdk"},m(b,l){b.insertBefore(c,l);c.appendChild(d);r._mount(d,null);c.appendChild(f);c.appendChild(e);e.innerHTML=a.caption;c.appendChild(g);c.appendChild(h);h.appendChild(n);n.appendChild(u);n.appendChild(q);p._mount(n,null)},p(a,b){var c=
{};if(a.subject||a.index)c.src="assets/images/renders/layers-"+b.subject+"-"+b.index+".png";r._set(c);a.caption&&(e.innerHTML=b.caption);a.layerName&&v!==(v="assets/images/renders/thumbnail-"+b.layerName+".jpg")&&(u.src=v);a.layerName&&x!==(x="thumbnail for "+b.layerName)&&(u.alt=x);c={};a.homeScale&&(c.scale=b.homeScale);a.homeX&&(c.gcx=b.homeX);a.homeY&&(c.gcy=b.homeY);p._set(c)},d(a){a&&C(c);r.destroy();p.destroy()}}}function Ng(b){B(this,b);this._state=r({caption:"",layerName:"mixed4c",gridSize:3,
homeScale:48,showLabels:!0},b.data);this._intro=!0;this._fragment=Ll(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Ml(b,a){var c,d,f=b._slotted.default,e,g=a.label&&Og(b,a);return{c(){c=m("div");d=m("div");e=k("\n  ");g&&g.c();d.className="loupe svelte-k0t0vh";t(d,"border-color",a.color);c.className="root svelte-k0t0vh";t(c,"width",""+a.width+"px");t(c,"height",""+a.height+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);f&&d.appendChild(f);c.appendChild(e);
g&&g.m(c,null)},p(a,f){a.color&&t(d,"border-color",f.color);f.label?g?g.p(a,f):(g=Og(b,f),g.c(),g.m(c,null)):g&&(g.d(1),g=null);a.width&&t(c,"width",""+f.width+"px");a.height&&t(c,"height",""+f.height+"px")},d(a){a&&C(c);f&&hb(d,f);g&&g.d()}}}function Og(b,a){var c,d;return{c(){c=m("div");d=k(a.label);c.className="label svelte-k0t0vh";t(c,"background-color",a.color)},m(a,b){a.insertBefore(c,b);c.appendChild(d)},p(a,b){a.label&&ba(d,b.label);a.color&&t(c,"background-color",b.color)},d(a){a&&C(c)}}}
function Oa(b){B(this,b);this._state=r({label:null,width:null,height:null,color:"#ff6600"},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=Ml(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Nl(b,a){var c,d,f,e,g,h,n,u=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-1-1.png"}}),v=new Na({root:b.root,store:b.store,data:{aspectRatio:"1",scale:a.$focus1Highlight.scale,gcx:a.$focus1Highlight.x,gcy:a.$focus1Highlight.y,
background:!1,round:!0,enableDragging:!1}}),x=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-1-2.png"}}),q=new Oa({root:b.root,store:b.store,slots:{default:X()}});return{c(){c=m("div");d=m("div");u._fragment.c();f=k("\n    ");v._fragment.c();e=k("\n  ");g=m("div");x._fragment.c();q._fragment.c();h=k("\n  ");n=m("div");n.textContent='When we map opacity to the amount that each activation contributes to "fireboat", we see a main cluster of icons showing red boats and splashing, spraying water. While there are some stray areas elsewhere, it seems that this is region of the atlas that is dedicated specifically to classifying red boats with splashing water nearby.';
d.className="main svelte-drlr3g";g.className="detail svelte-drlr3g";n.className="figcaption svelte-drlr3g";c.className="root svelte-drlr3g"},m(a,b){a.insertBefore(c,b);c.appendChild(d);u._mount(d,null);d.appendChild(f);v._mount(d,null);c.appendChild(e);c.appendChild(g);x._mount(q._slotted.default,null);q._mount(g,null);c.appendChild(h);c.appendChild(n)},p(a,b){var c={};a.$focus1Highlight&&(c.scale=b.$focus1Highlight.scale);a.$focus1Highlight&&(c.gcx=b.$focus1Highlight.x);a.$focus1Highlight&&(c.gcy=
b.$focus1Highlight.y);v._set(c)},d(a){a&&C(c);u.destroy();v.destroy();x.destroy();q.destroy()}}}function Pg(b){B(this,b);this._state=r(this.store._init(["focus1Highlight"]),b.data);this.store._add(this,["focus1Highlight"]);this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Nl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Ol(b,a){var c,d,f,e,g,h,n,u,v,x,q,r=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-1.png"}}),
p=new Na({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"3",extent:[[a.$focusHighlights[0].x,a.$focusHighlights[0].y],[a.$focusHighlights[0].x+.1,a.$focusHighlights[0].y+.1]],scale:a.$focusHighlights[0].scale,gcx:a.$focusHighlights[0].x,gcy:a.$focusHighlights[0].y,background:!1,round:!0,enableDragging:!1}}),t=new Na({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"2",scale:a.$focusHighlights[1].scale,gcx:a.$focusHighlights[1].x,gcy:a.$focusHighlights[1].y,background:!1,
round:!0,enableDragging:!1}}),w=new Na({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:"1",scale:a.$focusHighlights[2].scale,gcx:a.$focusHighlights[2].x,gcy:a.$focusHighlights[2].y,background:!1,round:!0,enableDragging:!1}}),B=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-4.png"}}),A=new Oa({root:b.root,store:b.store,slots:{default:X()},data:{label:1}}),G=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-3.png"}}),
D=new Oa({root:b.root,store:b.store,slots:{default:X()},data:{label:2}}),E=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-2.png"}}),F=new Oa({root:b.root,store:b.store,slots:{default:X()},data:{label:3}});return{c(){c=m("div");d=m("div");r._fragment.c();f=k("\n    ");p._fragment.c();e=k("\n    ");t._fragment.c();g=k("\n    ");w._fragment.c();h=k("\n  ");n=m("div");B._fragment.c();A._fragment.c();u=k("\n    ");G._fragment.c();D._fragment.c();v=k("\n    ");
E._fragment.c();F._fragment.c();x=k("\n    ");q=m("div");q.textContent='In mixed4d we see we see the attribution toward "fireboat" is high in several clusters located in different positions around the atlas. One is very focused on windows, another on geysers and splashing water, and yet another on crane-like objects.';d.className="main svelte-1smkqjl";q.className="figcaption svelte-1smkqjl";n.className="detail svelte-1smkqjl";c.className="root svelte-1smkqjl"},m(a,b){a.insertBefore(c,b);c.appendChild(d);
r._mount(d,null);d.appendChild(f);p._mount(d,null);d.appendChild(e);t._mount(d,null);d.appendChild(g);w._mount(d,null);c.appendChild(h);c.appendChild(n);B._mount(A._slotted.default,null);A._mount(n,null);n.appendChild(u);G._mount(D._slotted.default,null);D._mount(n,null);n.appendChild(v);E._mount(F._slotted.default,null);F._mount(n,null);n.appendChild(x);n.appendChild(q)},p(a,b){var c={};a.$focusHighlights&&(c.extent=[[b.$focusHighlights[0].x,b.$focusHighlights[0].y],[b.$focusHighlights[0].x+.1,b.$focusHighlights[0].y+
.1]]);a.$focusHighlights&&(c.scale=b.$focusHighlights[0].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[0].x);a.$focusHighlights&&(c.gcy=b.$focusHighlights[0].y);p._set(c);c={};a.$focusHighlights&&(c.scale=b.$focusHighlights[1].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[1].x);a.$focusHighlights&&(c.gcy=b.$focusHighlights[1].y);t._set(c);c={};a.$focusHighlights&&(c.scale=b.$focusHighlights[2].scale);a.$focusHighlights&&(c.gcx=b.$focusHighlights[2].x);a.$focusHighlights&&(c.gcy=b.$focusHighlights[2].y);
w._set(c)},d(a){a&&C(c);r.destroy();p.destroy();t.destroy();w.destroy();B.destroy();A.destroy();G.destroy();D.destroy();E.destroy();F.destroy()}}}function Qg(b){B(this,b);this._state=r(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Ol(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Rg(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function Sg(b,a,c){b=
Object.create(b);b.h=a[c];b.i=c;return b}function Pl(b,a){for(var c,d,f,e,g,h,n,u,v,x,q=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-1.png"}}),r=a.$focusHighlights,p=[],t=0;t<r.length;t+=1)p[t]=Tg(b,Sg(a,r,t));var w=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-3-1.png"}}),B=a.$focusHighlights,A=[];for(t=0;t<B.length;t+=1)A[t]=Ug(b,Rg(a,B,t));return{c(){c=m("div");d=m("h4");d.textContent="Activations for Fireboat";
f=k("\n  ");e=m("div");q._fragment.c();g=k("\n    ");for(var a=0;a<p.length;a+=1)p[a].c();h=k("\n  ");n=m("h4");n.textContent="Activations for Streetcar";u=k("\n  ");v=m("div");w._fragment.c();x=k("\n    ");for(a=0;a<A.length;a+=1)A[a].c();d.className="svelte-1uisskv";e.className="main svelte-1uisskv";n.className="svelte-1uisskv";v.className="main svelte-1uisskv";c.className="root svelte-1uisskv"},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(f);c.appendChild(e);q._mount(e,null);e.appendChild(g);
for(a=0;a<p.length;a+=1)p[a].m(e,null);c.appendChild(h);c.appendChild(n);c.appendChild(u);c.appendChild(v);w._mount(v,null);v.appendChild(x);for(a=0;a<A.length;a+=1)A[a].m(v,null)},p(a,c){if(a.$focusHighlights){r=c.$focusHighlights;for(var d=0;d<r.length;d+=1){var f=Sg(c,r,d);p[d]?p[d].p(a,f):(p[d]=Tg(b,f),p[d].c(),p[d].m(e,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=r.length}if(a.$focusHighlights){B=c.$focusHighlights;for(d=0;d<B.length;d+=1)f=Rg(c,B,d),A[d]?A[d].p(a,f):(A[d]=Ug(b,f),A[d].c(),
A[d].m(v,null));for(;d<A.length;d+=1)A[d].d(1);A.length=B.length}},d(a){a&&C(c);q.destroy();ca(p,a);w.destroy();ca(A,a)}}}function Tg(b,a){var c=new Na({root:b.root,store:b.store,data:{aspectRatio:"1",annotationValue:a.i+1,scale:a.h.scale,gcx:a.h.x,gcy:a.h.y,background:!1,round:!0,enableDragging:!1}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.$focusHighlights&&(d.scale=b.h.scale);a.$focusHighlights&&(d.gcx=b.h.x);a.$focusHighlights&&(d.gcy=b.h.y);c._set(d)},d(a){c.destroy(a)}}}
function Ug(b,a){var c=new Na({root:b.root,store:b.store,data:{color:"#ffaa00",aspectRatio:"1",annotationValue:a.i+1,scale:a.h.scale,gcx:a.h.x,gcy:a.h.y,background:!1,round:!0,enableDragging:!1}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.$focusHighlights&&(d.scale=b.h.scale);a.$focusHighlights&&(d.gcx=b.h.x);a.$focusHighlights&&(d.gcy=b.h.y);c._set(d)},d(a){c.destroy(a)}}}function Vg(b){B(this,b);this._state=r(this.store._init(["focusHighlights"]),b.data);this.store._add(this,
["focusHighlights"]);this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Pl(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}function Wg(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function Xg(b,a,c){b=Object.create(b);b.h=a[c];b.i=c;return b}function Ql(b,a){for(var c,d,f,e,g,h,n,u,v,x,q,p,r,z,w,A,B,D,F=a.$focusHighlights,E=[],H=0;H<F.length;H+=1)E[H]=Yg(b,Xg(a,F,H));var L=a.$focusHighlights,I=[];for(H=0;H<L.length;H+=1)I[H]=Zg(b,Wg(a,L,H));return{c(){c=
m("div");d=m("h4");f=k("Fireboat");e=k("\n    ");for(var b=0;b<E.length;b+=1)E[b].c();g=k("\n\n\n    ");h=m("h4");n=k("Streetcar");u=k("\n    ");for(b=0;b<I.length;b+=1)I[b].c();v=k("\n\n    ");x=m("div");q=k("\n    ");p=m("div");p.textContent='At mixed4d, Both "streetcar" and "fireboat" contain activations for what look like windows.';r=k("\n    ");z=m("div");z.textContent="Both classes contain activations for crane-like apparatuses, though they are less prominent than the window activations.";w=
k("\n    ");A=m("div");A.textContent='"Fireboat" activations have much stronger attributions from water than "streetcar", where there is virtually no positive evidence.';B=k("\n    ");D=m("div");D.textContent='The activations for "streetcar" have much stronger attributions from buildings than does "fireboat".';t(d,"width",""+a.loupeSize+"px");d.className="svelte-1mpkpzp";t(h,"width",""+a.loupeSize+"px");h.className="svelte-1mpkpzp";p.className="figcaption svelte-1mpkpzp";z.className="figcaption svelte-1mpkpzp";
A.className="figcaption svelte-1mpkpzp";D.className="figcaption svelte-1mpkpzp";c.className="root svelte-1mpkpzp"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);c.appendChild(e);for(a=0;a<E.length;a+=1)E[a].m(c,null);c.appendChild(g);c.appendChild(h);h.appendChild(n);c.appendChild(u);for(a=0;a<I.length;a+=1)I[a].m(c,null);c.appendChild(v);c.appendChild(x);c.appendChild(q);c.appendChild(p);c.appendChild(r);c.appendChild(z);c.appendChild(w);c.appendChild(A);c.appendChild(B);c.appendChild(D)},
p(a,f){a.loupeSize&&t(d,"width",""+f.loupeSize+"px");if(a.$focusHighlights){F=f.$focusHighlights;for(var e=E.length;e<F.length;e+=1){let a=Xg(f,F,e);E[e]=Yg(b,a);E[e].c();E[e].m(c,g)}for(e=F.length;e<E.length;e+=1)E[e].d(1);E.length=F.length}a.loupeSize&&t(h,"width",""+f.loupeSize+"px");if(a.$focusHighlights){L=f.$focusHighlights;for(e=I.length;e<L.length;e+=1)a=Wg(f,L,e),I[e]=Zg(b,a),I[e].c(),I[e].m(c,v);for(e=L.length;e<I.length;e+=1)I[e].d(1);I.length=L.length}},d(a){a&&C(c);ca(E,a);ca(I,a)}}}
function Yg(b,a){var c=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-2-"+(a.i+2)+".png"}});a={label:a.i+1};var d=new Oa({root:b.root,store:b.store,slots:{default:X()},data:a});return{c(){c._fragment.c();d._fragment.c()},m(a,b){c._mount(d._slotted.default,null);d._mount(a,b)},d(a){c.destroy();d.destroy(a)}}}function Zg(b,a){var c=new L({root:b.root,store:b.store,data:{border:!1,background:!1,src:"assets/images/renders/focus-3-"+(a.i+2)+".png"}});a=
{label:a.i+1,color:"#ffaa00"};var d=new Oa({root:b.root,store:b.store,slots:{default:X()},data:a});return{c(){c._fragment.c();d._fragment.c()},m(a,b){c._mount(d._slotted.default,null);d._mount(a,b)},d(a){c.destroy();d.destroy(a)}}}function $g(b){B(this,b);this._state=r(this.store._init(["focusHighlights"]),b.data);this.store._add(this,["focusHighlights"]);this._intro=!0;this._handlers.destroy=[Ga];this._fragment=Ql(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),F(this))}
var A={destroy:function(b){this.destroy=W;this.fire("destroy");this.set=W;this._fragment.d(!1!==b);this._fragment=null;this._state={}},get:Jd,fire:Id,on:Kd,set:function(b){this._set(r({},b));this.root._lock||F(this.root)},_recompute:W,_set:function(b){var a=this._state,c={},d=!1;b=r(this._staged,b);this._staged={};for(var f in b)this._differs(b[f],a[f])&&(c[f]=d=!0);d&&(this._state=r(r({},a),b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(this.fire("state",
{changed:c,current:this._state,previous:a}),this._fragment.p(c,this._state),this.fire("update",{changed:c,current:this._state,previous:a})))},_stage:function(b){r(this._staged,b)},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_differs:Hd};r(Ld.prototype,{_add(b,a){this._dependents.push({component:b,props:a})},_init(b){let a={};for(let c=0;c<b.length;c+=1){let d=b[c];a["$"+d]=this._state[d]}return a},_remove(b){let a=this._dependents.length;for(;a--;)if(this._dependents[a].component===
b){this._dependents.splice(a,1);break}},_set(b,a){let c=this._state;this._state=r(r({},c),b);for(b=0;b<this._sortedComputedProperties.length;b+=1)this._sortedComputedProperties[b].update(this._state,a);this.fire("state",{changed:a,previous:c,current:this._state});this._dependents.filter((b)=>{let c={},d=!1;for(let f=0;f<b.props.length;f+=1){let e=b.props[f];e in a&&(c["$"+e]=this._state[e],d=!0)}if(d)return b.component._stage(c),!0}).forEach((a)=>{a.component.set({})});this.fire("update",{changed:a,
previous:c,current:this._state})},_sortComputedProperties(){function b(e){let g=a[e];g&&(g.deps.forEach((a)=>{if(a===f)throw Error(`Cyclical dependency detected between ${a} <-> ${e}`);b(a)}),d[e]||(d[e]=!0,c.push(g)))}let a=this._computed,c=this._sortedComputedProperties=[],d=Object.create(null),f;for(let a in this._computed)b(f=a)},compute(b,a,c){let d,f={deps:a,update:(f,e,g)=>{var l=a.map((a)=>{a in e&&(g=!0);return f[a]});g&&(l=c.apply(null,l),this._differs(l,d)&&(d=l,e[b]=!0,f[b]=d))}};this._computed[b]=
f;this._sortComputedProperties();let e=r({},this._state),g={};f.update(e,g,!0);this._set(e,g)},fire:Id,get:Jd,on:Kd,set(b){let a=this._state,c=this._changed={},d=!1;for(let f in b){if(this._computed[f])throw Error(`'${f}' is a read-only computed property`);this._differs(b[f],a[f])&&(c[f]=d=!0)}d&&this._set(b,c)}});var zb={inception:"dummy;kit fox;English setter;Siberian husky;Australian terrier;English springer;grey whale;lesser panda;Egyptian cat;ibex;Persian cat;cougar;gazelle;porcupine;sea lion;malamute;badger;Great Dane;Walker hound;Welsh springer spaniel;whippet;Scottish deerhound;killer whale;mink;African elephant;Weimaraner;soft - coated wheaten terrier;Dandie Dinmont;red wolf;Old English sheepdog;jaguar;otterhound;bloodhound;Airedale;hyena;meerkat;giant schnauzer;titi;three - toed sloth;sorrel;black - footed ferret;dalmatian;black - and - tan coonhound;papillon;skunk;Staffordshire bullterrier;Mexican hairless;Bouvier des Flandres;weasel;miniature poodle;Cardigan;malinois;bighorn;fox squirrel;colobus;tiger cat;Lhasa;impala;coyote;Yorkshire terrier;Newfoundland;brown bear;red fox;Norwegian elkhound;Rottweiler;hartebeest;Saluki;grey fox;schipperke;Pekinese;Brabancon griffon;West Highland white terrier;Sealyham terrier;guenon;mongoose;indri;tiger;Irish wolfhound;wild boar;EntleBucher;zebra;ram;French bulldog;orangutan;basenji;leopard;Bernese mountain dog;Maltese dog;Norfolk terrier;toy terrier;vizsla;cairn;squirrel monkey;groenendael;clumber;Siamese cat;chimpanzee;komondor;Afghan hound;Japanese spaniel;proboscis monkey;guinea pig;white wolf;ice bear;gorilla;borzoi;toy poodle;Kerry blue terrier;ox;Scotch terrier;Tibetan mastiff;spider monkey;Doberman;Boston bull;Greater Swiss Mountain dog;Appenzeller;Shih - Tzu;Irish water spaniel;Pomeranian;Bedlington terrier;warthog;Arabian camel;siamang;miniature schnauzer;collie;golden retriever;Irish terrier;affenpinscher;Border collie;hare;boxer;silky terrier;beagle;Leonberg;German short - haired pointer;patas;dhole;baboon;macaque;Chesapeake Bay retriever;bull mastiff;kuvasz;capuchin;pug;curly - coated retriever;Norwich terrier;flat - coated retriever;hog;keeshond;Eskimo dog;Brittany spaniel;standard poodle;Lakeland terrier;snow leopard;Gordon setter;dingo;standard schnauzer;hamster;Tibetan terrier;Arctic fox;wire - haired fox terrier;basset;water buffalo;American black bear;Angora;bison;howler monkey;hippopotamus;chow;giant panda;American Staffordshire terrier;Shetland sheepdog;Great Pyrenees;Chihuahua;tabby;marmoset;Labrador retriever;Saint Bernard;armadillo;Samoyed;bluetick;redbone;polecat;marmot;kelpie;gibbon;llama;miniature pinscher;wood rabbit;Italian greyhound;lion;cocker spaniel;Irish setter;dugong;Indian elephant;beaver;Sussex spaniel;Pembroke;Blenheim spaniel;Madagascar cat;Rhodesian ridgeback;lynx;African hunting dog;langur;Ibizan hound;timber wolf;cheetah;English foxhound;briard;sloth bear;Border terrier;German shepherd;otter;koala;tusker;echidna;wallaby;platypus;wombat;revolver;umbrella;schooner;soccer ball;accordion;ant;starfish;chambered nautilus;grand piano;laptop;strawberry;airliner;warplane;airship;balloon;space shuttle;fireboat;gondola;speedboat;lifeboat;canoe;yawl;catamaran;trimaran;container ship;liner;pirate;aircraft carrier;submarine;wreck;half track;tank;missile;bobsled;dogsled;bicycle - built -for-two;mountain bike;freight car;passenger car;barrow;shopping cart;motor scooter;forklift;electric locomotive;steam locomotive;amphibian;ambulance;beach wagon;cab;convertible;jeep;limousine;minivan;Model T;racer;sports car;go-kart;golfcart;moped;snowplow;fire engine;garbage truck;pickup;tow truck;trailer truck;moving van;police van;recreational vehicle;streetcar;snowmobile;tractor;mobile home;tricycle;unicycle;horse cart;jinrikisha;oxcart;bassinet;cradle;crib;four-poster;bookcase;china cabinet;medicine chest;chiffonier;table lamp;file;park bench;barber chair;throne;folding chair;rocking chair;studio couch;toilet seat;desk;pool table;dining table;entertainment center;wardrobe;Granny Smith;orange;lemon;fig;pineapple;banana;jackfruit;custard apple;pomegranate;acorn;hip;ear;rapeseed;corn;buckeye;organ;upright;chime;drum;gong;maraca;marimba;steel drum;banjo;cello;violin;harp;acoustic guitar;electric guitar;cornet;French horn;trombone;harmonica;ocarina;panpipe;bassoon;oboe;sax;flute;daisy;yellow lady's slipper;cliff;valley;alp;volcano;promontory;sandbar;coral reef;lakeside;seashore;geyser;hatchet;cleaver;letter opener;plane;power drill;lawn mower;hammer;corkscrew;can opener;plunger;screwdriver;shovel;plow;chain saw;cock;hen;ostrich;brambling;goldfinch;house finch;junco;indigo bunting;robin;bulbul;jay;magpie;chickadee;water ouzel;kite;bald eagle;vulture;great grey owl;black grouse;ptarmigan;ruffed grouse;prairie chicken;peacock;quail;partridge;African grey;macaw;sulphur-crested cockatoo;lorikeet;coucal;bee eater;hornbill;hummingbird;jacamar;toucan;drake;red-breasted merganser;goose;black swan;white stork;black stork;spoonbill;flamingo;American egret;little blue heron;bittern;crane;limpkin;American coot;bustard;ruddy turnstone;red - backed sandpiper;redshank;dowitcher;oystercatcher;European gallinule;pelican;king penguin;albatross;great white shark;tiger shark;hammerhead;electric ray;stingray;barracouta;coho;tench;goldfish;eel;rock beauty;anemone fish;lionfish;puffer;sturgeon;gar;loggerhead;leatherback turtle;mud turtle;terrapin;box turtle;banded gecko;common iguana;American chameleon;whiptail;agama;frilled lizard;alligator lizard;Gila monster;green lizard;African chameleon;Komodo dragon;triceratops;African crocodile;American alligator;thunder snake;ringneck snake;hognose snake;green snake;king snake;garter snake;water snake;vine snake;night snake;boa constrictor;rock python;Indian cobra;green mamba;sea snake;horned viper;diamondback;sidewinder;European fire salamander;common newt;eft;spotted salamander;axolotl;bullfrog;tree frog;tailed frog;whistle;wing;paintbrush;hand blower;oxygen mask;snorkel;loudspeaker;microphone;screen;mouse;electric fan;oil filter;strainer;space heater;stove;guillotine;barometer;rule;odometer;scale;analog clock;digital clock;wall clock;hourglass;sundial;parking meter;stopwatch;digital watch;stethoscope;syringe;magnetic compass;binoculars;projector;sunglasses;loupe;radio telescope;bow;cannon [ground];assault rifle;rifle;projectile;computer keyboard;typewriter keyboard;crane;lighter;abacus;cash machine;slide rule;desktop computer;hand - held computer;notebook;web site;harvester;thresher;printer;slot;vending machine;sewing machine;joystick;switch;hook;car wheel;paddlewheel;pinwheel;potter's wheel;gas pump;carousel;swing;reel;radiator;puck;hard disc;sunglass;pick;car mirror;solar dish;remote control;disk brake;buckle;hair slide;knot;combination lock;padlock;nail;safety pin;screw;muzzle;seat belt;ski;candle;jack - o'-lantern;spotlight;torch;neck brace;pier;tripod;maypole;mousetrap;spider web;trilobite;harvestman;scorpion;black and gold garden spider;barn spider;garden spider;black widow;tarantula;wolf spider;tick;centipede;isopod;Dungeness crab;rock crab;fiddler crab;king crab;American lobster;spiny lobster;crayfish;hermit crab;tiger beetle;ladybug;ground beetle;long - horned beetle;leaf beetle;dung beetle;rhinoceros beetle;weevil;fly;bee;grasshopper;cricket;walking stick;cockroach;mantis;cicada;leafhopper;lacewing;dragonfly;damselfly;admiral;ringlet;monarch;cabbage butterfly;sulphur butterfly;lycaenid;jellyfish;sea anemone;brain coral;flatworm;nematode;conch;snail;slug;sea slug;chiton;sea urchin;sea cucumber;iron;espresso maker;microwave;Dutch oven;rotisserie;toaster;waffle iron;vacuum;dishwasher;refrigerator;washer;Crock Pot;frying pan;wok;caldron;coffeepot;teapot;spatula;altar;triumphal arch;patio;steel arch bridge;suspension bridge;viaduct;barn;greenhouse;palace;monastery;library;apiary;boathouse;church;mosque;stupa;planetarium;restaurant;cinema;home theater;lumbermill;coil;obelisk;totem pole;castle;prison;grocery store;bakery;barbershop;bookshop;butcher shop;confectionery;shoe shop;tobacco shop;toyshop;fountain;cliff dwelling;yurt;dock;brass;megalith;bannister;breakwater;dam;chainlink fence;picket fence;worm fence;stone wall;grille;sliding door;turnstile;mountain tent;scoreboard;honeycomb;plate rack;pedestal;beacon;mashed potato;bell pepper;head cabbage;broccoli;cauliflower;zucchini;spaghetti squash;acorn squash;butternut squash;cucumber;artichoke;cardoon;mushroom;shower curtain;jean;carton;handkerchief;sandal;ashcan;safe;plate;necklace;croquet ball;fur coat;thimble;pajama;running shoe;cocktail shaker;chest;manhole cover;modem;tub;tray;balance beam;bagel;prayer rug;kimono;hot pot;whiskey jug;knee pad;book jacket;spindle;ski mask;beer bottle;crash helmet;bottlecap;tile roof;mask;maillot;Petri dish;football helmet;bathing cap;teddy bear;holster;pop bottle;photocopier;vestment;crossword puzzle;golf ball;trifle;suit;water tower;feather boa;cloak;red wine;drumstick;shield;Christmas stocking;hoopskirt;menu;stage;bonnet;meat loaf;baseball;face powder;scabbard;sunscreen;beer glass;hen-of - the - woods;guacamole;lampshade;wool;hay;bow tie;mailbag;water jug;bucket;dishrag;soup bowl;eggnog;mortar;trench coat;paddle;chain;swab;mixing bowl;potpie;wine bottle;shoji;bulletproof vest;drilling platform;binder;cardigan;sweatshirt;pot;birdhouse;hamper;ping-pong ball;pencil box;pay - phone;consomme;apron;punching bag;backpack;groom;bearskin;pencil sharpener;broom;mosquito net;abaya;mortarboard;poncho;crutch;Polaroid camera;space bar;cup;racket;traffic light;quill;radio;dough;cuirass;military uniform;lipstick;shower cap;monitor;oscilloscope;mitten;brassiere;French loaf;vase;milk can;rugby ball;paper towel;earthstar;envelope;miniskirt;cowboy hat;trolleybus;perfume;bathtub;hotdog;coral fungus;bullet train;pillow;toilet tissue;cassette;carpenter's kit;ladle;stinkhorn;lotion;hair spray;academic gown;dome;crate;wig;burrito;pill bottle;chain mail;theater curtain;window shade;barrel;washbasin;ballpoint;basketball;bath towel;cowboy boot;gown;window screen;agaric;cellular telephone;nipple;barbell;mailbox;lab coat;fire screen;minibus;packet;maze;pole;horizontal bar;sombrero;pickelhaube;rain barrel;wallet;cassette player;comic book;piggy bank;street sign;bell cote;fountain pen;Windsor tie;volleyball;overskirt;sarong;purse;bolo tie;bib;parachute;sleeping bag;television;swimming trunks;measuring cup;espresso;pizza;breastplate;shopping basket;wooden spoon;saltshaker;chocolate sauce;ballplayer;goblet;gyromitra;stretcher;water bottle;dial telephone;soap dispenser;jersey;school bus;jigsaw puzzle;plastic bag;reflex camera;diaper;Band Aid;ice lolly;velvet;tennis ball;gasmask;doormat;Loafer;ice cream;pretzel;quilt;maillot;tape player;clog;iPod;bolete;scuba diver;pitcher;matchstick;bikini;sock;CD player;lens cap;thatch;vault;beaker;bubble;cheeseburger;parallel bars;flagpole;coffee mug;rubber eraser;stole;carbonara;dumbbell".split(";")};
class Rl extends Ld{}let D=new Rl({scroll:!1,inceptionLabels:zb.inception,currentClass:62,currentClassAtlasIndex:507,currentClassAtlasCompareIndex:507,classChoices:[9,622,665,652,288,233,188,169,80,76,62,61,7,355,990,746,791],classAtlasIndices:[62,9,169,7,80,76,235,982,507,41,2,442,450,454,930,378,582,780,901,946,791,738,736,744,489,387,388,399,721,672,6,665,652,288,355,348,804,600,605,631,643],multipleLayers:{abacus:[{layerName:"mixed3b",homeX:.8086,homeY:.4295,gridSize:3,homeScale:48},{layerName:"mixed4c",
homeX:.8593,homeY:.5814},{layerName:"mixed5b",homeX:.8183,homeY:.21,gridSize:4,homeScale:96}],plant:[{layerName:"mixed3b",homeX:.3222,homeY:.6352,gridSize:3,homeScale:48,caption:"You'll immediately notice that the early layer is very nonspecific in comparison to the others. The icons that emerge are of patterns and splotches of color. It is suggestive of the final class, but not particularly evocative."},{layerName:"mixed4c",homeX:.15,homeY:.4,caption:"By the middle layer, icons definitely resemble leaves, but they could be any type of plant. Attributions are focused on plants, but are a little all over the board."},
{layerName:"mixed5b",homeX:.168,homeY:.285,gridSize:4,homeScale:96,caption:"Here we see foliage with textures that are specific to cabbage, and curved into rounded balls. There are full heads of cabbage rather than individual leaves."}],water:[{layerName:"mixed4c",homeX:.365,homeY:.673,caption:'In mixed4c we see two different regions that have high attribution toward "sandbar": an area of <b>sandy textures</b>\u2026'},{layerName:"mixed4c",homeX:.318,homeY:.764,caption:"\u2026and a separate area of <b>watery textures</b>."},
{layerName:"mixed5b",homeX:.74,homeY:.534,gridSize:4,homeScale:96,caption:'In a later layer we see activations that contain <b>both</b> of those concepts when detecting "sandbar".'}]},currentClassComparisonIndex:0,classComparisons:[{id:"507_982",leftLabel:"snorkel",rightLabel:"scuba diver",left:507,right:982,annotation:[{pos:{x:2,y:7},desc:"shark?"}]},{id:"736_744",leftLabel:"head cabbage",rightLabel:"artichoke",left:736,right:744,annotation:[]},{id:"671_672",leftLabel:"frying pan",rightLabel:"wok",
left:671,right:672,annotation:[{pos:{x:1,y:7},desc:"noodles?"}]},{id:"777_831",leftLabel:"beer bottle",rightLabel:"wine bottle",left:777,right:831,annotation:[]},{id:"543_544",leftLabel:"computer keyboard",rightLabel:"typewriter keyboard",left:543,right:544,annotation:[]},{id:"28_205",leftLabel:"red wolf",rightLabel:"timber wolf",left:28,right:205,annotation:[]},{id:"67_62",leftLabel:"grey fox",rightLabel:"red fox",left:67,right:62,annotation:[]},{id:"1_62",leftLabel:"kit fox",rightLabel:"red fox",
left:1,right:62,annotation:[]},{id:"6_442",leftLabel:zb.inception[6],rightLabel:zb.inception[442],left:6,right:442,annotation:[{pos:{x:2,y:7},desc:"baseball?"}]}],focus1Highlight:{scale:6,x:.844,y:.51},focusHighlights:[{scale:10,x:.873,y:.415},{scale:10,x:.709,y:.421},{scale:10,x:.221,y:.138},{scale:10,x:.807,y:.333}],pois:{mammals:{layerName:"mixed4a",gridSize:2,gcx:.3705,gcy:.9475,scale:8},dogs:{layerName:"mixed5a",gridSize:3,gcx:.589,gcy:.946,scale:10},curves:{layerName:"mixed4b",gridSize:3,gcx:.5947,
gcy:.3351,scale:14},cups:{layerName:"mixed5b",gridSize:3,gcx:.35073,gcy:.138,scale:10},patterns:{layerName:"mixed4b",gridSize:3,gcx:.91579,gcy:.32406,scale:8},text:{layerName:"mixed5a",gridSize:3,gcx:.5281,gcy:.0234,scale:19},fabric:{layerName:"mixed4b",gridSize:3,gcx:.489,gcy:.2043,scale:12},clothing:{layerName:"mixed5a",gridSize:3,gcx:.743,gcy:.52,scale:10}}});r(Lb.prototype,A);r(Lb.prototype,{mousemove:function(b){let {visible:a}=this.get();a&&this.set({x:b.clientX,y:b.clientY})},show:function(b){this.set({visible:!0});
this.refs.component.set(b)},hide:function(){this.set({visible:!1})}});Lb.prototype._recompute=function(b,a){(b.x||b.width||b.y||b.clientHeight||b.visible)&&this._differs(a.style,a.style=gh(a))&&(b.style=!0)};var lh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Sc.prototype=Tc.prototype;Tc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(null==this.precision?
"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Qd,Rd={"%":function(b,a){return(100*b).toFixed(a)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return Math.round(b).toString(10)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},g:function(b,a){return b.toPrecision(a)},o:function(b){return Math.round(b).toString(8)},p:function(b,a){return Nd(100*b,a)},r:Nd,s:function(b,a){var c=Eb(b,a);if(!c)return b+
"";var d=c[0];c=c[1];c=c-(Qd=3*Math.max(-8,Math.min(8,Math.floor(c/3))))+1;var f=d.length;return c===f?d:c>f?d+Array(c-f+1).join("0"):0<c?d.slice(0,c)+"."+d.slice(c):"0."+Array(1-c).join("0")+Eb(b,Math.max(0,a+c-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}},Pd="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),Cd,yb;(function(b){Cd=mh(b);yb=Cd.format;return Cd})({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Wd=
yb(".2f"),Td=yb(",");r(Xd.prototype,A);r(Fb.prototype,A);r(Uc.prototype,A);r(S.prototype,A);r(S.prototype,{getComponent(){return this.refs.component}});S.prototype._recompute=function(b,a){(b.radarReady||b.component)&&this._differs(a.ready,a.ready=rh(a))&&(b.ready=!0);b.width&&this._differs(a.finalWidth,a.finalWidth=sh(a))&&(b.finalWidth=!0);(b.clientWidth||b.height||b.aspectRatio||b.minHeight)&&this._differs(a.finalHeight,a.finalHeight=th(a))&&(b.finalHeight=!0)};r(Gb.prototype,A);Gb.prototype._recompute=
function(b,a){b.clientWidth&&this._differs(a.width,a.width=wh(a))&&(b.width=!0);(b.width||b.aspectRatio)&&this._differs(a.height,a.height=xh(a))&&(b.height=!0)};r(L.prototype,A);r(mc.prototype,A);r(Mb.prototype,A);r(be.prototype,A);r(ce.prototype,A);r(de.prototype,A);r(Hb.prototype,A);Hb.prototype._recompute=function(b,a){b.name&&this._differs(a.Icon,a.Icon=Fh(a))&&(b.Icon=!0)};r(sb.prototype,A);r(sb.prototype,{mouseUp(){let {mouseMoveListener:b,mouseUpListener:a}=this.get();window.removeEventListener("mousemove",
b);window.removeEventListener("mouseup",a)},mouseDown(b){b.preventDefault();var {enableDragging:a}=this.get();a&&this.mouseMove(b);b=this.mouseUp.bind(this);a=this.mouseMove.bind(this);window.addEventListener("mousemove",a);window.addEventListener("mouseup",b);this.set({mouseMoveListener:a,mouseUpListener:b})},mouseMove(b){let {clientWidth:a,clientHeight:c}=this.get(),d=b.offsetX/a,f=b.offsetY/c;this.set({gcx:d,gcy:f,startPos:{x:b.screenX,y:b.screenY}});this.fire("drag",{gcx:d,gcy:f})}});sb.prototype._recompute=
function(b,a){if(b.clientWidth||b.extent)this._differs(a.left,a.left=Hh(a))&&(b.left=!0),this._differs(a.right,a.right=Ih(a))&&(b.right=!0);if(b.clientHeight||b.extent)this._differs(a.top,a.top=Jh(a))&&(b.top=!0),this._differs(a.bottom,a.bottom=Kh(a))&&(b.bottom=!0)};r(he.prototype,A);var Sl={destroy:ie,get:function(b){return b?this._state[b]:this._state},fire:function(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1)b[c].call(this,a)},observe:function(b,a,c){var d=
c&&c.defer?this._observers.post:this._observers.pre;(d[b]||(d[b]=[])).push(a);c&&!1===c.init||(a.__calling=!0,a.call(this,this._state[b]),a.__calling=!1);return{cancel:function(){var c=d[b].indexOf(a);~c&&d[b].splice(c,1)}}},on:function(b,a){if("teardown"===b)return this.on("destroy",a);var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}},set:function(b){this._set(nc({},b));this.root._lock||(this.root._lock=!0,oc(this.root._beforecreate),
oc(this.root._oncreate),oc(this.root._aftercreate),this.root._lock=!1)},teardown:ie,_recompute:Vc,_set:function(b){var a=this._state,c={},d=!1,f;for(f in b)this._differs(b[f],a[f])&&(c[f]=d=!0);d&&(this._state=nc({},a,b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(je(this,this._observers.pre,c,this._state,a),this._fragment.p(c,this._state),je(this,this._observers.post,c,this._state,a)))},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},
_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}};let Wc=new Map;nc(ke.prototype,{draw(){if(this.refs.canvas){let b=this.refs.canvas.getContext("2d"),{img:a,index:c,width:d,realHeight:f,columns:e,loaded:g}=this.get();b.clearRect(0,0,d,f);let h=Array.isArray(c)?c[0]*d:c%e*d,n=Array.isArray(c)?c[1]*f:Math.floor(c/e)*f;g?b.drawImage(a,h,n,d,f,0,0,d,f):(b.fillStyle="#ccc",b.fillRect(0,0,d,f),b.fillStyle=
"#eee",b.textAlign="center",b.font="16px sans-serif",b.fillText("...",d/2,f/2))}}},Sl);ke.prototype._recompute=function(b,a){(b.width||b.height)&&this._differs(a.realHeight,a.realHeight=Nh(a.width,a.height))&&(b.realHeight=!0)};var ne={},Xc={},Tl=me(",").parse,Ul=me("\t").parse;let Zc=new Map,sc=new Map,Yc=new Map,qe=new Map([["gif",pc],["png",pc],["jpeg",pc],["jpg",pc],["csv",function(b){return qc(b).then((a)=>Promise.resolve(Tl(a)))}],["tsv",function(b){return qc(b).then((a)=>Promise.resolve(Ul(a)))}],
["txt",qc],["text",qc],["json",function(b){return fetch(b).then(oe).then((a)=>a.json())}]]);var uc=[235,287,237,982,507,41,176,3,2,112,158,14,442,450,454,513,523,529,930,600,605,736,744,358,756,936,942,943,366,365,367,484,483,488,489,387,388,399,411,405];r(tc.prototype,A);r(tc.prototype,{render(){let {grid:b,gridSize:a,icons:c,classHeatmap:d}=this.get(),f=this.refs.canvas.getContext("2d"),e=f.getImageData(0,0,a,a),g=e.data;for(let f of c){var h=1;-1<d&&(h=uc.indexOf(d),h=Math.max(.1,20*Math.max(0,
f.f[h])));g[f.x*a*4+4*f.y+3]=f.n/Math.pow(b+1,2)*255*.005*h}f.putImageData(e,0,0)}});tc.prototype._recompute=function(b,a){b.clientWidth&&this._differs(a.height,a.height=Sh(a))&&(b.height=!0);(b.model||b.layerName)&&this._differs(a.id,a.id=Th(a))&&(b.id=!0)};r(te.prototype,A);r($c.prototype,A);$c.prototype._recompute=function(b,a){b.inceptionLabels&&this._differs(a.labels,a.labels=Yh(a))&&(b.labels=!0)};var ye={},ad={},Vl=xe(",").parse,Wl=xe("\t").parse;let cd=new Map,xc=new Map,bd=new Map,Ce=new Map([["gif",
vc],["png",vc],["jpeg",vc],["jpg",vc],["csv",function(b){return wc(b).then((a)=>Promise.resolve(Vl(a)))}],["tsv",function(b){return wc(b).then((a)=>Promise.resolve(Wl(a)))}],["txt",wc],["text",wc],["json",function(b){return fetch(b).then(ze).then((a)=>a.json())}]]);(function(b){1===b.length&&(b=bi(b));return{left:function(a,c,d,f){null==d&&(d=0);null==f&&(f=a.length);for(;d<f;){var e=d+f>>>1;0>b(a[e],c)?d=e+1:f=e}return d},right:function(a,c,d,f){null==d&&(d=0);null==f&&(f=a.length);for(;d<f;){var e=
d+f>>>1;0<b(a[e],c)?f=e:d=e+1}return d}}})(De);let di={inceptionv1_mixed3b:{vm:"shan-gpu-07-vm",id:"inceptionv1_mixed3b",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:"mixed3b",sample_type:"random",sample_images:1E6,filter:5E5,tries:2,tile_size:10,grid_size:[20,40,80,160],whiten:"false",steps:1024,icon_size:80,layout:"1000_0.05_euclidean",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},inceptionv1_mixed4a:{vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4a",
build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4a"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},inceptionv1_mixed4b:{vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4b",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4b"],sample_type:"random",
sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},inceptionv1_mixed4c:{vm:"shan-gpu-08-vm",id:"inceptionv1_mixed4c",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4c"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,
layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},inceptionv1_mixed4d:{vm:"shan-gpu-07-vm",id:"inceptionv1_mixed4d",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4d"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},inceptionv1_mixed4e:{vm:"shan-gpu-07-vm",
id:"inceptionv1_mixed4e",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed4e"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},inceptionv1_mixed5a:{vm:"shan-gpu-08-vm",id:"inceptionv1_mixed5a",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",
layer:["mixed5a"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,160,320],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1},inceptionv1_mixed5b:{vm:"shan-gpu-07-vm",id:"inceptionv1_mixed5b",build_dir:"build",cloud_dir:"gs://shancarter/activation-atlas/build",model:"InceptionV1",layer:["mixed5b"],sample_type:"random",sample_images:1E6,filter:null,tries:4,tile_size:10,grid_size:[20,40,80,
160,320],whiten:"true",steps:1024,icon_size:80,layout:"50_0.05_cosine",class_filter:null,batch_size:100,x:null,y:null,alpha:!1}};r(dd.prototype,A);var fi={value:function(){}};yc.prototype=ed.prototype={constructor:yc,on:function(b,a){var c=this._,d=ei(b+"",c),f,e=-1,g=d.length;if(2>arguments.length)for(;++e<g;){var h;if(h=f=(b=d[e]).type){a:{h=c[f];for(var n=0,k=h.length;n<k;++n)if((f=h[n]).name===b.name){f=f.value;break a}f=void 0}h=f}if(h)return f}else{if(null!=a&&"function"!==typeof a)throw Error("invalid callback: "+
a);for(;++e<g;)if(f=(b=d[e]).type)c[f]=Ee(c[f],b.name,a);else if(null==a)for(f in c)c[f]=Ee(c[f],b.name,null);return this}},copy:function(){var b={},a=this._,c;for(c in a)b[c]=a[c].slice();return new yc(b)},call:function(b,a){if(0<(f=arguments.length-2))for(var c=Array(f),d=0,f,e;d<f;++d)c[d]=arguments[d+2];if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);e=this._[b];d=0;for(f=e.length;d<f;++d)e[d].value.apply(a,c)},apply:function(b,a,c){if(!this._.hasOwnProperty(b))throw Error("unknown type: "+
b);b=this._[b];for(var d=0,f=b.length;d<f;++d)b[d].value.apply(a,c)}};var Fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ah=function(b){return function(){return this.matches(b)}};if("undefined"!==typeof document){var Pa=document.documentElement;if(!Pa.matches){var Xl=Pa.webkitMatchesSelector||Pa.msMatchesSelector||Pa.mozMatchesSelector||Pa.oMatchesSelector;
ah=function(b){return function(){return Xl.call(this,b)}}}}var bh=ah;Ac.prototype={constructor:Ac,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,a){return this._parent.insertBefore(b,a)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};Je.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},
remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=this._names.indexOf(b)}};var Ne={},H=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(Ne={mouseenter:"mouseover",mouseleave:"mouseout"}));var Pe=[null];ha.prototype=ib.prototype={constructor:ha,select:function(b){"function"!==typeof b&&(b=fd(b));for(var a=this._groups,c=a.length,d=Array(c),f=0;f<c;++f)for(var e=
a[f],g=e.length,h=d[f]=Array(g),n,k,m=0;m<g;++m)(n=e[m])&&(k=b.call(n,n.__data__,m,e))&&("__data__"in n&&(k.__data__=n.__data__),h[m]=k);return new ha(d,this._parents)},selectAll:function(b){"function"!==typeof b&&(b=He(b));for(var a=this._groups,c=a.length,d=[],f=[],e=0;e<c;++e)for(var g=a[e],h=g.length,n,k=0;k<h;++k)if(n=g[k])d.push(b.call(n,n.__data__,k,g)),f.push(n);return new ha(d,f)},filter:function(b){"function"!==typeof b&&(b=bh(b));for(var a=this._groups,c=a.length,d=Array(c),f=0;f<c;++f)for(var e=
a[f],g=e.length,h=d[f]=[],n,k=0;k<g;++k)(n=e[k])&&b.call(n,n.__data__,k,e)&&h.push(n);return new ha(d,this._parents)},data:function(b,a){if(!b)return r=Array(this.size()),k=-1,this.each(function(a){r[++k]=a}),r;var c=a?mi:li,d=this._parents,f=this._groups;"function"!==typeof b&&(b=ki(b));for(var e=f.length,g=Array(e),h=Array(e),n=Array(e),k=0;k<e;++k){var m=d[k],p=f[k],q=p.length,r=b.call(m,m&&m.__data__,k,d),t=r.length,z=h[k]=Array(t),w=g[k]=Array(t);q=n[k]=Array(q);c(m,p,z,w,q,r,a);p=m=0;for(var A;m<
t;++m)if(q=z[m]){for(m>=p&&(p=m+1);!(A=w[p])&&++p<t;);q._next=A||null}}g=new ha(g,d);g._enter=h;g._exit=n;return g},enter:function(){return new ha(this._enter||this._groups.map(Ie),this._parents)},exit:function(){return new ha(this._exit||this._groups.map(Ie),this._parents)},merge:function(b){var a=this._groups;b=b._groups;for(var c=a.length,d=Math.min(c,b.length),f=Array(c),e=0;e<d;++e)for(var g=a[e],h=b[e],n=g.length,k=f[e]=Array(n),m,p=0;p<n;++p)if(m=g[p]||h[p])k[p]=m;for(;e<c;++e)f[e]=a[e];return new ha(f,
this._parents)},order:function(){for(var b=this._groups,a=-1,c=b.length;++a<c;)for(var d=b[a],f=d.length-1,e=d[f],g;0<=--f;)if(g=d[f])e&&e!==g.nextSibling&&e.parentNode.insertBefore(g,e),e=g;return this},sort:function(b){function a(a,c){return a&&c?b(a.__data__,c.__data__):!a-!c}b||(b=ni);for(var c=this._groups,d=c.length,f=Array(d),e=0;e<d;++e){for(var g=c[e],h=g.length,n=f[e]=Array(h),k,m=0;m<h;++m)if(k=g[m])n[m]=k;n.sort(a)}return(new ha(f,this._parents)).order()},call:function(){var b=arguments[0];
arguments[0]=this;b.apply(null,arguments);return this},nodes:function(){var b=Array(this.size()),a=-1;this.each(function(){b[++a]=this});return b},node:function(){for(var b=this._groups,a=0,c=b.length;a<c;++a)for(var d=b[a],f=0,e=d.length;f<e;++f){var g=d[f];if(g)return g}return null},size:function(){var b=0;this.each(function(){++b});return b},empty:function(){return!this.node()},each:function(b){for(var a=this._groups,c=0,d=a.length;c<d;++c)for(var f=a[c],e=0,g=f.length,h;e<g;++e)(h=f[e])&&b.call(h,
h.__data__,e,f);return this},attr:function(b,a){var c=zc(b);if(2>arguments.length){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==a?c.local?pi:oi:"function"===typeof a?c.local?ti:si:c.local?ri:qi)(c,a))},style:function(b,a,c){return 1<arguments.length?this.each((null==a?ui:"function"===typeof a?wi:vi)(b,a,null==c?"":c)):Ab(this.node(),b)},property:function(b,a){return 1<arguments.length?this.each((null==a?xi:"function"===typeof a?zi:yi)(b,
a)):this.node()[b]},classed:function(b,a){var c=(b+"").trim().split(/^|\s+/);if(2>arguments.length){for(var d=gd(this.node()),f=-1,e=c.length;++f<e;)if(!d.contains(c[f]))return!1;return!0}return this.each(("function"===typeof a?Ci:a?Ai:Bi)(c,a))},text:function(b){return arguments.length?this.each(null==b?Di:("function"===typeof b?Fi:Ei)(b)):this.node().textContent},html:function(b){return arguments.length?this.each(null==b?Gi:("function"===typeof b?Ii:Hi)(b)):this.node().innerHTML},raise:function(){return this.each(Ji)},
lower:function(){return this.each(Ki)},append:function(b){var a="function"===typeof b?b:Ge(b);return this.select(function(){return this.appendChild(a.apply(this,arguments))})},insert:function(b,a){var c="function"===typeof b?b:Ge(b),d=null==a?Li:"function"===typeof a?a:fd(a);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(Mi)},clone:function(b){return this.select(b?Oi:Ni)},datum:function(b){return arguments.length?
this.property("__data__",b):this.node().__data__},on:function(b,a,c){var d=Qi(b+""),f=d.length,e;if(2>arguments.length){var g=this.node().__on;if(g)for(var h=0,n=g.length,k;h<n;++h){var m=0;for(k=g[h];m<f;++m)if((e=d[m]).type===k.type&&e.name===k.name)return k.value}}else{g=a?Si:Ri;null==c&&(c=!1);for(m=0;m<f;++m)this.each(g(d[m],a,c));return this}},dispatch:function(b,a){return this.each(("function"===typeof a?Ui:Ti)(b,a))}};var Db=1/.7,Xi=/^#([0-9a-f]{3})$/,Yi=/^#([0-9a-f]{6})$/,Zi=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,
$i=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,aj=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,bj=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,cj=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
dj=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,We={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tb(Ha,Ib,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}});tb(Z,jd,ub(Ha,{brighter:function(b){b=
null==b?Db:Math.pow(Db,b);return new Z(this.r*b,this.g*b,this.b*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new Z(this.r*b,this.g*b,this.b*b,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+kd(this.r)+kd(this.g)+kd(this.b)},toString:function(){var b=this.opacity;b=isNaN(b)?1:Math.max(0,Math.min(1,b));return(1===b?"rgb(":
"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===b?")":", "+b+")")}}));tb(va,function(b,a,c,d){return 1===arguments.length?ej(b):new va(b,a,c,null==d?1:d)},ub(Ha,{brighter:function(b){b=null==b?Db:Math.pow(Db,b);return new va(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new va(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=
this.h%360+360*(0>this.h),a=isNaN(b)||isNaN(this.s)?0:this.s,c=this.l;a=c+(.5>c?c:1-c)*a;c=2*c-a;return new Z(ld(240<=b?b-240:b+120,c,a),ld(b,c,a),ld(120>b?b+240:b-120,c,a),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var Xe=Math.PI/180,$e=180/Math.PI,Ze=4/29,Bb=6/29,Ye=3*Bb*Bb,fj=Bb*Bb*Bb;tb(ra,function(b,a,c,d){return 1===arguments.length?md(b):new ra(b,a,c,null==d?1:d)},ub(Ha,{brighter:function(b){return new ra(this.l+
18*(null==b?1:b),this.a,this.b,this.opacity)},darker:function(b){return new ra(this.l-18*(null==b?1:b),this.a,this.b,this.opacity)},rgb:function(){var b=(this.l+16)/116,a=isNaN(this.a)?b:b+this.a/500,c=isNaN(this.b)?b:b-this.b/200;a=.96422*pd(a);b=1*pd(b);c=.82521*pd(c);return new Z(qd(3.1338561*a-1.6168667*b-.4906146*c),qd(-.9787684*a+1.9161415*b+.033454*c),qd(.0719453*a-.2289914*b+1.4052427*c),this.opacity)}}));tb(Ia,function(b,a,c,d){return 1===arguments.length?gj(b):new Ia(b,a,c,null==d?1:d)},
ub(Ha,{brighter:function(b){return new Ia(this.h,this.c,this.l+18*(null==b?1:b),this.opacity)},darker:function(b){return new Ia(this.h,this.c,this.l-18*(null==b?1:b),this.opacity)},rgb:function(){return md(this).rgb()}}));var ch=1.78277*-.29227-.1347134789;tb(vb,function(b,a,c,d){if(1===arguments.length){var f=b;if(f instanceof vb)f=new vb(f.h,f.s,f.l,f.opacity);else{f instanceof Z||(f=id(f));var e=f.g/255,g=f.b/255,h=(ch*g+f.r/255*-1.7884503806-3.5172982438*e)/(ch+-1.7884503806-3.5172982438);g-=
h;var n=(1.97294*(e-h)- -.29227*g)/-.90649;g=(e=Math.sqrt(n*n+g*g)/(1.97294*h*(1-h)))?Math.atan2(n,g)*$e-120:NaN;f=new vb(0>g?g+360:g,e,h,f.opacity)}}else f=new vb(b,a,c,null==d?1:d);return f},ub(Ha,{brighter:function(b){b=null==b?Db:Math.pow(Db,b);return new vb(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?.7:Math.pow(.7,b);return new vb(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=isNaN(this.h)?0:(this.h+120)*Xe,a=+this.l,c=isNaN(this.s)?0:this.s*a*(1-a),d=Math.cos(b);
b=Math.sin(b);return new Z(255*(a+c*(-.14861*d+1.78277*b)),255*(a+c*(-.29227*d+-.90649*b)),255*(a+1.97294*c*d),this.opacity)}}));var mf=function c(a){function d(a,c){var d=f((a=jd(a)).r,(c=jd(c)).r),e=f(a.g,c.g),g=f(a.b,c.b),l=bf(a.opacity,c.opacity);return function(c){a.r=d(c);a.g=e(c);a.b=g(c);a.opacity=l(c);return a+""}}var f=jj(a);d.gamma=c;return d}(1),rd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sd=new RegExp(rd.source,"g"),df=180/Math.PI,Dd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,
scaleY:1},Qa,Ed,dh,Oc,Yl=ef(function(a){if("none"===a)return Dd;Qa||(Qa=document.createElement("DIV"),Ed=document.documentElement,dh=document.defaultView);Qa.style.transform=a;a=dh.getComputedStyle(Ed.appendChild(Qa),null).getPropertyValue("transform");Ed.removeChild(Qa);a=a.slice(7,-1).split(",");return cf(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5])},"px, ","px)","deg)"),Zl=ef(function(a){if(null==a)return Dd;Oc||(Oc=document.createElementNS("http://www.w3.org/2000/svg","g"));Oc.setAttribute("transform",
a);if(!(a=Oc.transform.baseVal.consolidate()))return Dd;a=a.matrix;return cf(a.a,a.b,a.c,a.d,a.e,a.f)},", ",")",")"),Za=Math.SQRT2,$a=0,ab=0,jb=0,Gc,Sa,Fc=0,sa=0,Dc=0,Jb="object"===typeof performance&&performance.now?performance:Date,gf="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};Ec.prototype=hf.prototype={constructor:Ec,restart:function(a,c,d){if("function"!==typeof a)throw new TypeError("callback is not a function");
d=(null==d?Cc():+d)+(null==c?0:+c);this._next||Sa===this||(Sa?Sa._next=this:Gc=this,Sa=this);this._call=a;this._time=d;td()},stop:function(){this._call&&(this._call=null,this._time=Infinity,td())}};var rj=ed("start","end","interrupt"),sj=[],$l=ib.prototype.constructor,eh=0,rb=ib.prototype;wa.prototype=function(a){return ib().transition(a)}.prototype={constructor:wa,select:function(a){var c=this._name,d=this._id;"function"!==typeof a&&(a=fd(a));for(var f=this._groups,e=f.length,g=Array(e),h=0;h<e;++h)for(var n=
f[h],k=n.length,m=g[h]=Array(k),p,q,r=0;r<k;++r)(p=n[r])&&(q=a.call(p,p.__data__,r,n))&&("__data__"in p&&(q.__data__=p.__data__),m[r]=q,Hc(m[r],c,d,r,m,na(p,d)));return new wa(g,this._parents,c,d)},selectAll:function(a){var c=this._name,d=this._id;"function"!==typeof a&&(a=He(a));for(var f=this._groups,e=f.length,g=[],h=[],n=0;n<e;++n)for(var k=f[n],m=k.length,p,q=0;q<m;++q)if(p=k[q]){for(var r=a.call(p,p.__data__,q,k),t,z=na(p,d),w=0,A=r.length;w<A;++w)(t=r[w])&&Hc(t,c,d,w,r,z);g.push(r);h.push(p)}return new wa(g,
h,c,d)},filter:function(a){"function"!==typeof a&&(a=bh(a));for(var c=this._groups,d=c.length,f=Array(d),e=0;e<d;++e)for(var g=c[e],h=g.length,n=f[e]=[],k,m=0;m<h;++m)(k=g[m])&&a.call(k,k.__data__,m,g)&&n.push(k);return new wa(f,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();var c=this._groups;a=a._groups;for(var d=c.length,f=Math.min(d,a.length),e=Array(d),g=0;g<f;++g)for(var h=c[g],n=a[g],k=h.length,m=e[g]=Array(k),p,q=0;q<k;++q)if(p=h[q]||n[q])m[q]=p;for(;g<
d;++g)e[g]=c[g];return new wa(e,this._parents,this._name,this._id)},selection:function(){return new $l(this._groups,this._parents)},transition:function(){for(var a=this._name,c=this._id,d=++eh,e=this._groups,l=e.length,g=0;g<l;++g)for(var h=e[g],n=h.length,k,m=0;m<n;++m)if(k=h[m]){var p=na(k,c);Hc(k,a,d,m,h,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new wa(e,this._parents,a,d)},call:rb.call,nodes:rb.nodes,node:rb.node,size:rb.size,empty:rb.empty,each:rb.each,
on:function(a,c){var d=this._id;return 2>arguments.length?na(this.node(),d).on.on(a):this.each(Jj(d,a,c))},attr:function(a,c){var d=zc(a),e="transform"===d?Zl:lf;return this.attrTween(a,"function"===typeof c?(d.local?Aj:zj)(d,e,vd(this,"attr."+a,c)):null==c?(d.local?wj:vj)(d):(d.local?yj:xj)(d,e,c+""))},attrTween:function(a,c){var d="attr."+a;if(2>arguments.length)return(d=this.tween(d))&&d._value;if(null==c)return this.tween(d,null);if("function"!==typeof c)throw Error();var e=zc(a);return this.tween(d,
(e.local?Bj:Cj)(e,c))},style:function(a,c,d){var e="transform"===(a+="")?Yl:lf;return null==c?this.styleTween(a,Lj(a,e)).on("end.style."+a,Mj(a)):this.styleTween(a,"function"===typeof c?Oj(a,e,vd(this,"style."+a,c)):Nj(a,e,c+""),d)},styleTween:function(a,c,d){var e="style."+(a+="");if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==c)return this.tween(e,null);if("function"!==typeof c)throw Error();return this.tween(e,Pj(a,c,null==d?"":d))},text:function(a){return this.tween("text","function"===
typeof a?Rj(vd(this,"text",a)):Qj(null==a?"":a+""))},remove:function(){return this.on("end.remove",Kj(this._id))},tween:function(a,c){var d=this._id;a+="";if(2>arguments.length){d=na(this.node(),d).tween;for(var e=0,l=d.length,g;e<l;++e)if((g=d[e]).name===a)return g.value;return null}return this.each((null==c?tj:uj)(d,a,c))},delay:function(a){var c=this._id;return arguments.length?this.each(("function"===typeof a?Dj:Ej)(c,a)):na(this.node(),c).delay},duration:function(a){var c=this._id;return arguments.length?
this.each(("function"===typeof a?Fj:Gj)(c,a)):na(this.node(),c).duration},ease:function(a){var c=this._id;return arguments.length?this.each(Hj(c,a)):na(this.node(),c).ease}};var Fd={time:null,delay:0,duration:250,ease:function(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}};ib.prototype.interrupt=function(a){return this.each(function(){Ic(this,a)})};ib.prototype.transition=function(a){var c;if(a instanceof wa){var d=a._id;a=a._name}else d=++eh,(c=Fd).time=Cc(),a=null==a?null:a+"";for(var e=this._groups,
l=e.length,g=0;g<l;++g)for(var h=e[g],n=h.length,k,m=0;m<n;++m)if(k=h[m]){var p=k,q=a,r=d,t=m,z=h,w;if(!(w=c))a:{w=void 0;for(var A=d;!(w=k.__transition)||!(w=w[A]);)if(!(k=k.parentNode)){w=(Fd.time=Cc(),Fd);break a}}Hc(p,q,r,t,z,w)}return new wa(e,this._parents,a,d)};ea.prototype={constructor:ea,scale:function(a){return 1===a?this:new ea(this.k*a,this.x,this.y)},translate:function(a,c){return 0===a&0===c?this:new ea(this.k,this.x+this.k*a,this.y+this.k*c)},apply:function(a){return[a[0]*this.k+this.x,
a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+
","+this.y+") scale("+this.k+")"}};var Kc=new ea(1,0,0);nf.prototype=ea.prototype;var Wa={components:[],running:!1,add:function(a){~Wa.components.indexOf(a)||(Wa.components.push(a),Wa.running||(Wa.running=!0,requestAnimationFrame(Wa.next)))},next:function(){for(var a=window.performance.now(),c=!1,d=Wa.components.length;d--;){var e=Wa.components[d],l={},g=!1,h;for(h in e._currentTweens){var n=e._currentTweens[h];a>=n.end?(l[h]=n.to,delete e._currentTweens[h],n.fulfil()):(c=g=!0,a>=n.start&&(l[h]=n.value(n.ease((a-
n.start)/n.duration))))}e._tweening=!0;e.set(l);e._tweening=!1;g||Wa.components.splice(d,1)}c?requestAnimationFrame(Wa.next):Wa.running=!1}};r(Lc.prototype,A);r(Lc.prototype,{tween:function(a,c,d){var e=this;void 0===d&&(d={});if(!this._currentTweens){this._currentTweens=Object.create(null);this._tweening=!1;var l=this.set;this.set=function(a){if(!e._tweening)for(var c in a)e._currentTweens[c]&&e._currentTweens[c].abort();l.call(e,a)}}this._currentTweens[a]&&this._currentTweens[a].abort();var g=window.performance.now()+
(d.delay||0),h=d.duration||400,n=g+h,k={key:a,value:(d.interpolate||wd)(this.get()[a],c),to:c,start:g,end:n,duration:h,ease:d.easing||ak,running:!0,abort:function(){k.running=!1;delete e._currentTweens[a]}};this._currentTweens[a]=k;Wa.add(this);c=new Promise(function(a){k.fulfil=a});c.abort=k.abort;return c},zoomEventFilter:function(){let {scrollWheel:a,disableBehaviors:c}=this.get();return c?!1:a?0==H.button:!("wheel"===H.type&&!1===H.ctrlKey)&&0==H.button},mouseMove:function(a){this.set({msx:a.offsetX,
msy:a.offsetY});let {}=this.get()},update:function(){var {el:a}=this.get();a=nf(a);this.set({scale:a.k,transform:a,translateX:a.x,translateY:a.y})},onzoom:function(a){a.update()},zoomTo:function(a,c,d=1,e=1E3){let {selection:f,z:g,minSize:h,clientWidth:k,clientHeight:m}=this.get();f.transition().duration(e).call(g.transform,Kc.translate(k/2,m/2).scale(d).translate(-a*h,-c*h))},translateTo:function(a,c){let {z:d,selection:e,minSize:l}=this.get();d.translateTo(e,a*l,c*l)},home:function(a=0){let {homeX:c,
homeY:d,homeScale:e}=this.get();this.zoomTo(c,d,e,a)},scaleTo:function(a,c=0){let {z:d,selection:e}=this.get();e.transition().duration(c).call(d.scaleTo,a)}});Lc.prototype._recompute=function(a,c){(a.clientWidth||a.clientHeight)&&this._differs(c.minSize,c.minSize=bk(c))&&(a.minSize=!0);(a.msx||a.msy)&&this._differs(c.mouseOver,c.mouseOver=ck(c))&&(a.mouseOver=!0);(a.transform||a.msx||a.msy||a.clientHeight||a.clientWidth||a.minSize)&&this._differs(c.mouseGlobalPosition,c.mouseGlobalPosition=dk(c))&&
(a.mouseGlobalPosition=!0);(a.scale||a.translateX||a.translateY||a.minSize||a.clientWidth||a.clientHeight)&&this._differs(c.extent,c.extent=ek(c))&&(a.extent=!0);a.extent&&(this._differs(c.gcx,c.gcx=fk(c))&&(a.gcx=!0),this._differs(c.gcy,c.gcy=gk(c))&&(a.gcy=!0))};r(Pb.prototype,A);r(Pb.prototype,{fullscreen(){this.refs.root.webkitRequestFullscreen()},home(a=0){this.refs.d3Zoom.home(a)},translateTo(a,c){this.refs.d3Zoom.translateTo(a,c)},zoomTo(a,c,d,e=1E3){this.refs.d3Zoom.zoomTo(a,c,d,e)},transitionTo(a,
c,d,e=0){this.refs.d3Zoom.transformTo(a,c,d,e)},scaleBy(a){let {scale:c}=this.get();this.refs.d3Zoom.scaleTo(c*a,300)},iconToGlobalPosition(a,c){let {density:d,scale:e,translateX:l,translateY:g,config:h,w:k,h:m}=this.get();var p=h.grid_size[c];c=a.gw*e*Math.min(k,m);p=c*Math.min(1,Math.sqrt(d*a.num_activations/(("number"==typeof h.filter[0]?h.filter[0]:h.sample_images)/(p*p))));return{sourceX:a.localX*h.icon_size,sourceY:a.localY*h.icon_size,iconX:a.gy*e*Math.min(k,m)+l+(c-p)/2,iconY:a.gx*e*Math.min(k,
m)+g+(c-p)/2,iconWidth:p}},clear(){let {viewHeight:a,viewWidth:c,context:d,backgroundColor:e,labelsContext:l}=this.get();d.globalAlpha=1;d.fillStyle=e;d.clearRect(0,0,c,a);d.fillRect(0,0,c,a);l.globalAlpha=1;l.clearRect(0,0,c,a)},render(){let {id:a,labelsContext:c,loading:d,classHeatmap:e,showLabels:l,labels:g,labelsBufferCanvas:h,imageSmoothing:k,scale:m,w:p,h:r,translateX:q,translateY:t,context:y,config:z,layers:w,currentZoomIndex:A,strokeColor:B,strokeThickness:C,maxAttributionValue:D}=this.get();
this.clear();y.imageSmoothingEnabled=k;c.strokeStyle=B;c.lineWidth=C;y.fillStyle="white";if(z&&w&&!d){let d=[{i:A,opacity:1}];this.set({visibleLayers:d});d.forEach((d)=>{let f=d.i;d=w[f];var k=Math.min(p,r);let n=Math.max(0,Math.floor(-(q/m/k)*d.length)),u=n+Math.ceil(p/m/k*d.length);var v=Math.max(0,Math.floor(-(t/m/k)*d.length));for(k=v+Math.ceil(r/m/k*d.length);v<=k;v++)for(let k=n;k<=u;k++)if(d[v]&&d[v][k]){let n=d[v][k],{iconX:m,iconY:p,iconWidth:q}=this.iconToGlobalPosition(n,f),r=a;{c.globalAlpha=
.3;c.strokeRect(m,p,q,q);c.globalAlpha=1;var x=Math.ceil(40/q);let a=Math.ceil(60/q);l&&g&&-1===e&&0==n.y%a&&0==n.x%x&&(c.globalAlpha=1,x=n.top_class_indices[0],c.drawImage(h,x%10*150,20*Math.floor(x/10)+4,Math.min(q*a-5,100),20,m,p+q-20-2,Math.min(q*a-5,100),20));Ae(n.url).then((a)=>{let {id:c,visibleLayers:d}=this.get();if(d.reduce((a,c)=>c.i===f?a+1:a,0)&&r===c){let {config:c,classHeatmap:d,classHeatmapMultiplier:h,classHeatmapPositive:k}=this.get(),{sourceX:l,sourceY:m,iconX:p,iconY:q,iconWidth:r}=
this.iconToGlobalPosition(n,f);var e=1;-1<d&&(e=n.full_class_indices.indexOf(d),-1<e?(e=n.full_class_values[e]/D,e*=k,e=Math.max(0,e)*h):e=0);var g=Math.min(8/r,.6);y.globalAlpha=1;g=g*c.icon_size/2;-1<d&&y.fillRect(p,q,r,r);y.globalAlpha=e;y.drawImage(a,m+g,l+g,c.icon_size-2*g,c.icon_size-2*g,p,q,r,r)}})}}})}}});Pb.prototype._recompute=function(a,c){(a.layers||a.layer)&&this._differs(c.maxAttributionValue,c.maxAttributionValue=jk(c))&&(a.maxAttributionValue=!0);(a.viewWidth||a.screenResolution)&&
this._differs(c.w,c.w=kk(c))&&(a.w=!0);(a.viewHeight||a.screenResolution)&&this._differs(c.h,c.h=lk(c))&&(a.h=!0);(a.scale||a.gridSize||a.config||a.classHeatmap||a.w||a.h||a.autoGridSizeMultiplier)&&this._differs(c.currentZoomIndex,c.currentZoomIndex=mk(c))&&(a.currentZoomIndex=!0);(a.currentZoomIndex||a.layers)&&this._differs(c.currentLayerData,c.currentLayerData=nk(c))&&(a.currentLayerData=!0);(a.labelsBufferContext||a.labels||a.fontSize||a.textColor||a.textShadowColor)&&this._differs(c.labelsBuffer,
c.labelsBuffer=ok(c))&&(a.labelsBuffer=!0);(a.currentLayerData||a.config||a.mouseGlobalPosition||a.w||a.h||a.translateX||a.translateY)&&this._differs(c.hoverIconData,c.hoverIconData=qk(c))&&(a.hoverIconData=!0);(a.hoverIconData||a.mouseGlobalPosition)&&this._differs(c.showHover,c.showHover=pk(c))&&(a.showHover=!0);(a.hoverIconData||a.scale||a.w||a.h||a.translateX)&&this._differs(c.hoverIconX,c.hoverIconX=rk(c))&&(a.hoverIconX=!0);(a.hoverIconData||a.scale||a.w||a.h||a.translateY)&&this._differs(c.hoverIconY,
c.hoverIconY=sk(c))&&(a.hoverIconY=!0);(a.hoverIconData||a.scale||a.w||a.h)&&this._differs(c.hoverIconW,c.hoverIconW=tk(c))&&(a.hoverIconW=!0);(a.mouseGlobalPosition||a.hoverIconData||a.enableHover)&&this._differs(c.showHoverIcon,c.showHoverIcon=uk(c))&&(a.showHoverIcon=!0)};r(xd.prototype,A);var Rb=yb(".3f");r(Cb.prototype,A);r(Cb.prototype,{zoomTo(a,c,d,e=1E3){this.refs.atlas.zoomTo(a,c,d,e)},toggle(){let {showOptions:a}=this.get();this.set({showOptions:!a})}});Cb.prototype._recompute=function(a,
c){a.gridSize&&this._differs(c.realGridSize,c.realGridSize=yk(c))&&(a.realGridSize=!0);(a.iconScaleFactor||a.realGridSize)&&this._differs(c.scaleCountFactor,c.scaleCountFactor=zk(c))&&(a.scaleCountFactor=!0)};r(Bf.prototype,A);r(Cf.prototype,A);r(Df.prototype,A);r(xb.prototype,A);xb.prototype._recompute=function(a,c){a.filterType&&this._differs(c.root,c.root=Ek(c))&&(a.root=!0);a.gridSize&&this._differs(c.ticks,c.ticks=Fk(c))&&(a.ticks=!0);(a.root||a.classFilter||a.gridSize||a.filterType)&&this._differs(c.src,
c.src=Gk(c))&&(a.src=!0)};r(Kf.prototype,A);r(Nf.prototype,A);r(yd.prototype,A);yd.prototype._recompute=function(a,c){if(a.$classComparisons||a.classComparisonIndex)this._differs(c.leftIndex,c.leftIndex=Kk(c))&&(a.leftIndex=!0),this._differs(c.rightIndex,c.rightIndex=Lk(c))&&(a.rightIndex=!0)};r(kb.prototype,A);kb.prototype._recompute=function(a,c){a.width&&this._differs(c.height,c.height=Nk(c))&&(a.height=!0);(a.width||a.margin)&&this._differs(c.outerWidth,c.outerWidth=Ok(c))&&(a.outerWidth=!0);
(a.height||a.margin)&&this._differs(c.outerHeight,c.outerHeight=Pk(c))&&(a.outerHeight=!0);a.width&&this._differs(c.cellWidth,c.cellWidth=Qk(c))&&(a.cellWidth=!0);(a.currentClassComparisonIndex||a.$classComparisons)&&this._differs(c.comparison,c.comparison=Rk(c))&&(a.comparison=!0)};var cg=yb(".1f");r(Mc.prototype,A);r(dg.prototype,A);r(eg.prototype,A);r(fg.prototype,A);var sg=yb(" .5f");r(zd.prototype,A);zd.prototype._recompute=function(a,c){(a.inputWidth||a.columnWidth||a.columnMargin)&&this._differs(c.width,
c.width=Yk(c))&&(a.width=!0);a.inputWidth&&this._differs(c.height,c.height=Zk(c))&&(a.height=!0);(a.timerCount||a.numCells)&&this._differs(c.clippedCount,c.clippedCount=$k(c))&&(a.clippedCount=!0);if(a.clippedCount||a.numCells)this._differs(c.windowX,c.windowX=al(c))&&(a.windowX=!0),this._differs(c.windowY,c.windowY=bl(c))&&(a.windowY=!0);(a.inputWidth||a.numCells||a.cellPadding)&&this._differs(c.cellWidth,c.cellWidth=cl(c))&&(a.cellWidth=!0);(a.numCells||a.windowSize)&&this._differs(c.numInputCells,
c.numInputCells=dl(c))&&(a.numInputCells=!0);(a.inputWidth||a.numInputCells||a.cellPadding)&&this._differs(c.inputCellWidth,c.inputCellWidth=el(c))&&(a.inputCellWidth=!0);a.numCells&&this._differs(c.activations,c.activations=fl(c))&&(a.activations=!0)};r(Ad.prototype,A);Ad.prototype._recompute=function(a,c){(a.width||a.columnPadding)&&this._differs(c.columnWidth,c.columnWidth=hl(c))&&(a.columnWidth=!0);(a.columnWidth||a.inputPadding)&&this._differs(c.inputWidth,c.inputWidth=il(c))&&(a.inputWidth=
!0);(a.inputWidth||a.numCells||a.cellPadding)&&this._differs(c.cellWidth,c.cellWidth=jl(c))&&(a.cellWidth=!0);(a.columnWidth||a.numIcons)&&this._differs(c.iconWidth,c.iconWidth=kl(c))&&(a.iconWidth=!0)};r(Ig.prototype,A);r(Ma.prototype,A);r(Nc.prototype,A);r(Nc.prototype,{render(){let {icon:a,config:c,width:d,height:e,iconCrop:k}=this.get(),g=this.refs.canvas.getContext("2d");g.clearRect(0,0,d,e);if(a){let f=k*c.icon_size/2;rc(a.url).then((h)=>{g.drawImage(h,a.localY*c.icon_size+f,a.localX*c.icon_size+
f,c.icon_size-2*f,c.icon_size-2*f,0,0,d,e)})}}});Nc.prototype._recompute=function(a,c){a.width&&this._differs(c.height,c.height=ql(c))&&(a.height=!0)};r(Bd.prototype,A);Bd.prototype._recompute=function(a,c){a.layers&&this._differs(c.pathZoomIndex,c.pathZoomIndex=tl(c))&&(a.pathZoomIndex=!0);(a.pointList||a.layers||a.pathZoomIndex)&&this._differs(c.imgList,c.imgList=sl(c))&&(a.imgList=!0)};r(Va.prototype,A);Va.prototype._recompute=function(a,c){a.pointList&&this._differs(c.numIcons,c.numIcons=vl(c))&&
(a.numIcons=!0);(a.viewWidth||a.viewHeight)&&this._differs(c.edgeLength,c.edgeLength=wl(c))&&(a.edgeLength=!0);(a.viewWidth||a.viewHeight||a.edgeLength)&&this._differs(c.topLeft,c.topLeft=xl(c))&&(a.topLeft=!0);(a.pointList||a.topLeft||a.edgeLength)&&this._differs(c.path_d,c.path_d=yl(c))&&(a.path_d=!0)};r(Na.prototype,A);r(Na.prototype,{mouseUp(){let {}=this.get();this.set({dragging:!1})},mouseDown(a){let {enableDragging:c}=this.get();c&&(a.preventDefault(),this.set({dragging:!0,startPos:{x:a.screenX,
y:a.screenY}}))},mouseMove(a){let {dragging:c,startPos:d,scale:e,width:k,aspectRatio:g,height:h,left:n,top:m}=this.get();c&&(this.set({gcx:(a.screenX-d.x+n)/k+1/e*g/2,gcy:(a.screenY-d.y+m)/h+1/e/2}),this.set({startPos:{x:a.screenX,y:a.screenY}}))}});Na.prototype._recompute=function(a,c){a.scale&&this._differs(c.h,c.h=Al(c))&&(a.h=!0);(a.scale||a.aspectRatio)&&this._differs(c.w,c.w=Bl(c))&&(a.w=!0);(a.gcx||a.w||a.width)&&this._differs(c.l,c.l=Cl(c))&&(a.l=!0);(a.gcy||a.h||a.height||a.aspectRatio)&&
this._differs(c.t,c.t=Dl(c))&&(a.t=!0);(a.l||a.w)&&this._differs(c.r,c.r=El(c))&&(a.r=!0);(a.t||a.h)&&this._differs(c.b,c.b=Fl(c))&&(a.b=!0);(a.l||a.width||a.gcx||a.gcy||a.scale||a.aspectRatio||a.w||a.r)&&this._differs(c.left,c.left=Gl(c))&&(a.left=!0);(a.r||a.width)&&this._differs(c.right,c.right=Hl(c))&&(a.right=!0);(a.t||a.height)&&this._differs(c.top,c.top=Il(c))&&(a.top=!0);(a.b||a.height)&&this._differs(c.bottom,c.bottom=Jl(c))&&(a.bottom=!0)};r(Ng.prototype,A);r(Oa.prototype,A);r(Pg.prototype,
A);r(Qg.prototype,A);r(Vg.prototype,A);r($g.prototype,A);document.addEventListener("DOMContentLoaded",(a)=>{D.set({tooltip:new Lb({target:document.body,store:D,data:{width:250,component:Xd}})});a=document.querySelectorAll("[data-lazy-image]");for(var c of a){a=c.getAttribute("data-lazy-image");let d=c.getAttribute("data-lazy-image-aspect-ratio");new L({target:c,data:{src:"assets/images/renders/"+a,aspectRatio:d?d:1,background:!1,border:!1}})}c=document.querySelectorAll("[data-notebook-url]");for(var d of c)c=
d.getAttribute("data-notebook-url"),new mc({target:d,data:{url:c}});let e=new S({target:document.querySelector("#cover"),store:D,data:{component:Cb,componentData:{showClassFilter:!1,layerName:"mixed4d",showOptions:!1,homeX:.55,homeY:.75,homeScale:5,gridSize:2,scrollWheel:!1}}});d=document.querySelectorAll("[data-cover-poi]");for(var k of d){let a=k.getAttribute("data-cover-poi").split(",").map((a)=>+a);k.addEventListener("click",(c)=>{c.preventDefault();c=e.getComponent();c.set({layerName:"mixed4d"});
c.zoomTo(a[0],a[1],a[2],4E3)})}new Bf({target:document.querySelector("#overview")});new Cf({target:document.querySelector("#model-overview")});new Df({target:document.querySelector("#grid-detail")});new S({target:document.querySelector("#activation-grid"),data:{aspectRatio:1150/290,component:zd}});new S({target:document.querySelector("#process"),data:{aspectRatio:2.1,component:Ad}});new S({store:D,target:document.querySelector("#one-layer"),data:{aspectRatio:1,component:Ig}});new S({target:document.querySelector("#layer-annotation-1"),
store:D,data:{height:300,component:Ma,componentData:{homeX:.306,homeY:.035}}});new S({target:document.querySelector("#layer-annotation-2"),store:D,data:{height:300,component:Ma,componentData:{homeX:.309,homeY:.173}}});new S({target:document.querySelector("#layer-annotation-3"),store:D,data:{height:300,component:Ma,componentData:{homeX:.335,homeY:.353,gridSize:3,homeScale:32}}});new S({target:document.querySelector("#layer-annotation-4"),store:D,data:{component:Ma,height:300,componentData:{homeX:.33,
homeY:.666}}});new S({target:document.querySelector("#layer-annotation-5"),store:D,data:{height:300,component:Ma,componentData:{homeX:.281,homeY:.761}}});new S({target:document.querySelector("#layer-annotation-6"),store:D,data:{height:300,component:Ma,componentData:{homeX:.944,homeY:.51}}});new S({target:document.querySelector("#layer-annotation-7"),store:D,data:{height:300,component:Ma,componentData:{homeX:.837,homeY:.239}}});new S({target:document.querySelector("#layer-annotation-8"),store:D,data:{height:300,
component:Ma,componentData:{homeX:.594,homeY:.223}}});new S({target:document.querySelector("#show-a-path-0"),store:D,data:{height:120,component:Va,componentData:{layerName:"mixed4c",pointList:[[.161,.3861],[.161,.39373],[.161,.4013],[.161,.409],[.161,.41664],[.161,.42427],[.161,.4319],[.161,.43954],[.161,.4471],[.161,.4548],[.161,.46244],[.161,.47008],[.161,.47771],[.161,.48535],[.161,.49299],[.161,.5],[.161,.5082],[.161,.5158],[.161,.5235],[.161,.5311]]}}});new S({target:document.querySelector("#show-a-path-1"),
store:D,data:{height:120,component:Va,componentData:{layerName:"mixed4c",pointList:[[.8777,.35276],[.87582,.3431],[.87388,.3336],[.8719,.324],[.86999,.31443],[.86804,.30485],[.8661,.2952],[.86415,.2856],[.86221,.2761],[.86026,.26652],[.85832,.25694],[.85638,.24735],[.85443,.23777],[.85249,.228],[.85054,.2186],[.8486,.20902],[.84665,.19944],[.84471,.18985],[.84276,.1802],[.84082,.17069]]}}});new S({target:document.querySelector("#show-a-path-2"),store:D,data:{height:120,component:Va,componentData:{layerName:"mixed4c",
pointList:[[.275,.775],[.27946,.76517],[.28392,.75535],[.288389,.74553],[.292852,.73571],[.29731,.72589],[.30177,.716],[.30408,.7056],[.305765,.69495],[.307448,.68429],[.30913,.67364],[.310813,.66298],[.31111,.65222],[.31111,.6414],[.31111,.63065],[.31111,.61986],[.31111,.60907],[.30584,.59978],[.30019,.59059],[.29454,.5814]]}}});new S({target:document.querySelector("#show-a-path-3"),store:D,data:{height:120,component:Va,componentData:{layerName:"mixed4c",pointList:[[.61,.13],[.609,.132],[.607,.139],
[.606,.141],[.605,.145],[.603,.151],[.6,.158],[.597,.164],[.596,.169],[.594,.175],[.593,.177],[.592,.183],[.589,.188],[.587,.191],[.585,.195],[.582,.2],[.581,.204],[.579,.208],[.578,.213],[.577,.219]]}}});let g=[0,1,2];["plant","water"].forEach((a)=>{g.forEach((c)=>{let d={index:c,subject:a};Object.assign(d,D.get().multipleLayers[a][c]);new Ng({target:document.querySelector(`#${a}-${c}`),store:D,data:d})})});let h=new S({target:document.querySelector("#all-layer-comparison"),store:D,data:{component:Cb,
componentData:{showClassFilter:!1,layerName:"mixed4e",gridSize:-1}}});k=document.querySelectorAll("[data-poi]");for(let a of k){let c=a.getAttribute("data-poi"),{pois:d}=D.get();a.addEventListener("click",(a)=>{a.preventDefault();a=h.getComponent();a.set({layerName:d[c].layerName});a.zoomTo(d[c].gcx,d[c].gcy,d[c].scale,0)})}new Pg({target:document.querySelector("#focus-1"),store:D});new Qg({target:document.querySelector("#focus-2"),store:D});new Vg({target:document.querySelector("#focus-3"),store:D});
new $g({target:document.querySelector("#focus-3-table"),store:D});new S({target:document.querySelector("#focus-playground"),store:D,data:{component:Cb,componentData:{classHeatmap:235,layerName:"mixed4d"}}});new Kf({target:document.querySelector("#class-subset"),store:D});new Nf({target:document.querySelector("#class-filter-comparison"),store:D});new yd({target:document.querySelector("#class-comparison-2"),store:D,data:{showControls:!1,classComparisonIndex:0,filterType:"top"}});new kb({target:document.querySelector("#class-gradient-snorkel"),
store:D,data:{currentClassComparisonIndex:0}});new kb({target:document.querySelector("#class-gradient-frying-pan"),store:D,data:{currentClassComparisonIndex:2}});new kb({target:document.querySelector("#class-gradient-shark"),store:D,data:{currentClassComparisonIndex:8}});new Mc({target:document.querySelector("#snorkel-scuba-diver"),store:D,data:{aspectRatio:480/360,left:"snorkel",right:"scuba diver",classifications:[{image:"assets/images/snorkel-06.png",caption:"Image from ImageNet labeled as \u201csnorkel\u201d with the classification confidences from Inceptionv1 for the top six classes.",
rows:[["snorkel",34.33],["scuba diver",28.16],["coral reef",12.43],["loggerhead",11.11],["lionfish",3.84],["sea snake",2.19]]},{image:"assets/images/teethshark-07.png",caption:"By adding a picture of one of the concepts seen in the visualization above we can change the classification. With an added picture of a \u201cshark\u201d (also from ImageNet) the confidence of \u201cscuba diver\u201d classification rises and \u201csnorkel\u201d drops significantly.",rows:[["scuba diver",50.3],["coral reef",
22.44],["tiger shark",9.08],["snorkel",3.92],["lionfish",2.38],["loggerhead",2.12]]},{image:"assets/images/teethshark-05.png",caption:"As the picture of the shark gets bigger, the classification for \u201cgreat white shark\u201d increases, but the relative changes in confidence of \u201csnorkel\u201d and \u201cscuba diver\u201d remain.",rows:[["great white shark",81.73],["tiger shark",15.3],["scuba diver",1.62],["loggerhead",.3],["coho",.29],["snorkel",.15]]}]}});new Mc({target:document.querySelector("#frying-pan-wok"),
store:D,data:{left:"frying pan",right:"wok",aspectRatio:806/608,classifications:[{image:"assets/images/fry-06.png",caption:"Image from ImageNet labeled as \u201cfrying pan\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["frying pan",34.62],["stove",16.33],["strainer",11.04],["wok",9.72],["caldron",8.79],["Dutch oven",6.02]]},{image:"assets/images/fry-noodles-14.png",caption:"By adding a picture of some noodles, also from ImageNet, we can see the top classification change from \u201cfrying pan\u201d to \u201cwok.\u201d",
rows:[["wok",48.3],["frying pan",18.64],["strainer",14.03],["ladle",4.4],["stove",2.77],["caldron",2.6]]},{image:"assets/images/fry-10.png",caption:"As we make the picture of noodles larger, its influence overpowers the other classifications, but \u201cwok\u201d remains ranked above \u201cfrying pan\u201d.",rows:[["carbonara",87.79],["strainer",8.16],["wok",1.67],["ladle",.45],["frying pan",.37],["French horn",.27]]}]}});new Mc({target:document.querySelector("#shark-grey-whale"),store:D,data:{left:"great white shark",
right:"grey whale",aspectRatio:996/656,classifications:[{image:"assets/images/whale-03.jpg",caption:"",rows:[["grey whale",78.39],["killer whale",20.97],["great white shark",.34],["gar",.13],["sea lion",.09],["tiger shark",.02]]},{image:"assets/images/whale-06.jpg",caption:"",rows:[["great white shark",34.35],["rugby ball",23.55],["grey whale",12.91],["baseball",10.89],["killer whale",7.7],["ping - pong ball",3.42]]},{image:"assets/images/whale-05.jpg",caption:"",rows:[["baseball",31.13],["ping-pong ball",
22.93],["great white shark",14.01],["grey whale",8.11],["rugby ball",7.34],["killer whale",6.06]]}]}});new dg({target:document.querySelector("#samples")});new eg({target:document.querySelector("#class-grids")})})})();
//# sourceMappingURL=main.min.js.map
