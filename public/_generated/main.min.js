'use strict';(function(){function Y(){}function x(b,a){for(var c in a)b[c]=a[c];return b}function Fa(b,a){for(var c in a)b[c]=1;return b}function G(b){b.parentNode.removeChild(b)}function zb(b,a){for(;b.firstChild;)a.appendChild(b.firstChild)}function ba(b,a){for(var c=0;c<b.length;c+=1)b[c]&&b[c].d(a)}function Pa(){return document.createDocumentFragment()}function l(b){return document.createElement(b)}function u(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function h(b){return document.createTextNode(b)}
function ka(){return document.createComment("")}function e(b,a,c){null==c?b.removeAttribute(a):b.setAttribute(a,c)}function Ya(b,a,c){b.setAttributeNS("http://www.w3.org/1999/xlink",a,c)}function W(b,a){b.data=""+a}function v(b,a,c){b.style.setProperty(a,c)}function Qc(b,a){for(var c=0;c<b.options.length;c+=1){var d=b.options[c];if(d.__value===a){d.selected=!0;break}}}function Ye(b){return(b=b.querySelector(":checked")||b.options[0])&&b.__value}function db(b,a){"static"===getComputedStyle(b).position&&
(b.style.position="relative");let c=document.createElement("object");c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");c.type="text/html";let d;c.onload=()=>{d=c.contentDocument.defaultView;d.addEventListener("resize",a)};/Trident/.test(navigator.userAgent)?(b.appendChild(c),c.data="about:blank"):(c.data="about:blank",b.appendChild(c));return{cancel:()=>{d&&d.removeEventListener&&d.removeEventListener("resize",
a);b.removeChild(c)}}}function Rc(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}function Ze(b,a){return b!=b?a==a:b!==a}function Sc(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1){var d=b[c];if(!d.__calling)try{d.__calling=!0,d.call(this,a)}finally{d.__calling=!1}}}function H(b){b._lock=!0;qc(b._beforecreate);qc(b._oncreate);qc(b._aftercreate);b._lock=!1}function Tc(){return this._state}function N(b,a){b._handlers=Object.create(null);
b._slots=Object.create(null);b._bind=a._bind;b._staged={};b.options=a;b.root=a.root||b;b.store=a.store||b.root.store;a.root||(b._beforecreate=[],b._oncreate=[],b._aftercreate=[])}function Uc(b,a){var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}}function qc(b){for(;b&&b.length;)b.shift()()}function Ia(){this.store._remove(this)}function Vc(b,a){this._handlers={};this._dependents=[];this._computed=Object.create(null);this._sortedComputedProperties=
[];this._state=x({},b);this._differs=a&&a.immutable?Ze:Rc}function $e(){this.refs.element.addEventListener("ready",(b)=>{this.set({ready:!0})});this.refs.element.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.element.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function af(b,a){var c,d=b._slotted.default;return{c(){c=l("d-figure");v(c,"display",a.display)},m(a,e){a.insertBefore(c,e);d&&c.appendChild(d);b.refs.element=
c},p(a,b){a.display&&v(c,"display",b.display)},d(a){a&&G(c);d&&zb(c,d);b.refs.element===c&&(b.refs.element=null)}}}function rc(b){N(this,b);this.refs={};this._state=x({display:"block",ready:!1,onscreen:!1,offscreen:!0},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=af(this,this._state);this.root._oncreate.push(()=>{$e.call(this);this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function bf(b,
a){var c;return{c(){c=l("div");c.innerHTML='<span class="svelte-19e83wz">Loading \u2026</span>';c.className="svelte-19e83wz"},m(a,b){a.insertBefore(c,b)},p:Y,d(a){a&&G(c)}}}function sc(b){N(this,b);this._state=x({},b.data);this._intro=!0;this._fragment=bf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function cf({radarReady:b,component:a}){return b&&a?!0:!1}function df({width:b,height:a,aspectRatio:c,minHeight:d}){if(a)return a;if(c)return b/=c,d?Math.min(d,b):b}
function ef(){let {height:b,aspectRatio:a}=this.get();b||a||console.warn(`Require 'height'${b} or 'aspectRatio'${a} not set on LazyComponent.html`,this);let {url:c}=this.get();c&&import(c).then((a)=>{this.set({component:a.default})})}function ff(b,a){function c(){b.set({width:d.clientWidth})}var d,f,e=a.ready?Wc:Xc,g=e(b,a),m={offscreen:a.offscreen,onscreen:a.onscreen};if(void 0!==a.radarReady){m.ready=a.radarReady;var k=!0}var q=new rc({root:b.root,store:b.store,slots:{default:Pa()},data:m,_bind(a,
c){var d={};!k&&a.ready&&(d.radarReady=c.ready);b._set(d);k=void 0}});b.root._beforecreate.push(()=>{q._bind({ready:1},q.get())});return{c(){d=l("div");g.c();q._fragment.c();b.root._beforecreate.push(c);v(d,"height",""+a.finalHeight+"px");d.className="svelte-1texnz1 svelte-ref-container"},m(a,k){q._slotted.default.appendChild(d);g.m(d,null);f=db(d,c);b.refs.container=d;q._mount(a,k)},p(c,f){a=f;e===(e=a.ready?Wc:Xc)&&g?g.p(c,a):(g.d(1),g=e(b,a),g.c(),g.m(d,null));c.finalHeight&&v(d,"height",""+a.finalHeight+
"px");f={};c.offscreen&&(f.offscreen=a.offscreen);c.onscreen&&(f.onscreen=a.onscreen);!k&&c.radarReady&&(f.ready=a.radarReady,k=void 0!==a.radarReady);q._set(f);k=void 0},d(a){g.d();f.cancel();b.refs.container===d&&(b.refs.container=null);q.destroy(a)}}}function Xc(b,a){var c=new sc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:Y,d(a){c.destroy(a)}}}function Wc(b,a){function c(a){a={};for(var c=0;c<f.length;c+=1)a=x(a,f[c]);return{root:b.root,store:b.store,data:a}}
var d,f=[a.componentData],e=a.component;if(e)var g=new e(c(a));return{c(){g&&g._fragment.c();d=ka()},m(a,b){g&&g._mount(a,b);a.insertBefore(d,b)},p(a,b){if(a.componentData){a=f;for(var k=[b.componentData],m={},t={},p={},y=a.length;y--;){var C=a[y],O=k[y];if(O){for(n in C)n in O||(t[n]=1);for(n in O)p[n]||(m[n]=O[n],p[n]=1);a[y]=O}else for(n in C)p[n]=1}for(n in t)n in m||(m[n]=void 0);var n=m}else n={};e!==(e=b.component)?(g&&g.destroy(),e?(g=new e(c(b)),g._fragment.c(),g._mount(d.parentNode,d)):
g=null):e&&g._set(n)},d(a){a&&G(d);g&&g.destroy(a)}}}function P(b){N(this,b);this.refs={};this._state=x({component:null,url:null,componentData:null,radarReady:!1,onscreen:!1,offsreen:!0,height:!1,width:null,aspectRatio:null,minHeight:null},b.data);this._recompute({radarReady:1,component:1,width:1,height:1,aspectRatio:1,minHeight:1},this._state);this._intro=!0;this._fragment=ff(this,this._state);this.root._oncreate.push(()=>{ef.call(this);this.fire("update",{changed:Fa({},this._state),current:this._state})});
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function gf(b,a){var c,d,f,t,g,m,k;return{c(){c=l("a");d=u("svg");f=u("path");t=h("\n  ");g=l("span");m=h(a.text);e(f,"d","M14,2c0-0.3-0.2-0.5-0.5-0.5S13,1.7,13,2v12c0,0.6-0.4,1-1,1H3.1c-0.3,0-0.5-0.1-0.7-0.3L1.7,14h8.8c0.8,0,1.5-0.7,1.5-1.5\n      l0-11C12,0.7,11.3,0,10.5,0l-9,0C0.7,0,0,0.7,0,1.5v12.1c0,0.3,0.1,0.5,0.3,0.7l1.4,1.4C1.9,15.9,2.1,16,2.4,16h10.1\n      c0.8,0,1.5-0.7,1.5-1.5l0-1.8C14,9,14,2,14,2z M9.1,9.6c0,0.3-0.2,0.5-0.5,0.5H5.4c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h3.1\n      C8.8,9.1,9.1,9.3,9.1,9.6z M2.3,4.7C2.1,4.5,2.1,4.2,2.3,4C2.5,3.8,2.8,3.8,3,4l2.8,2.6L3,9.3C2.9,9.4,2.8,9.4,2.7,9.4\n      c-0.1,0-0.3-0.1-0.4-0.2c-0.2-0.2-0.2-0.5,0-0.7l2-1.9L2.3,4.7z");
e(f,"class","svelte-1i7b4jt");e(d,"viewBox","0 0 18 18");e(d,"class","svelte-1i7b4jt");g.className="svelte-1i7b4jt";c.href=a.url;c.className=k="root emphasis-"+a.emphasis+" svelte-1i7b4jt"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);c.appendChild(t);c.appendChild(g);g.appendChild(m)},p(a,b){a.text&&W(m,b.text);a.url&&(c.href=b.url);a.emphasis&&k!==(k="root emphasis-"+b.emphasis+" svelte-1i7b4jt")&&(c.className=k)},d(a){a&&G(c)}}}function eb(b){N(this,b);this._state=x({url:"",text:"Try in a notebook",
emphasis:1},b.data);this._intro=!0;this._fragment=gf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function Yc(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function hf(b,a){var c=Yc(b);return function(d,f){return a(c(d),f,b)}}function jf(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function Zc(b){function a(a,b){function c(){if(C)return tc;
if(O)return O=!1,$c;var b,c=g,d;if(34===a.charCodeAt(c)){for(;g++<f&&34!==a.charCodeAt(g)||34===a.charCodeAt(++g););(b=g)>=f?C=!0:10===(d=a.charCodeAt(g++))?O=!0:13===d&&(O=!0,10===a.charCodeAt(g)&&++g);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;g<f;){if(10===(d=a.charCodeAt(b=g++)))O=!0;else if(13===d)O=!0,10===a.charCodeAt(g)&&++g;else if(d!==e)continue;return a.slice(c,b)}return C=!0,a.slice(c,f)}var d=[],f=a.length,g=0,t=0,m,C=0>=f,O=!1;10===a.charCodeAt(f-1)&&--f;for(13===a.charCodeAt(f-
1)&&--f;(m=c())!==tc;){for(var n=[];m!==$c&&m!==tc;)n.push(m),m=c();b&&null==(n=b(n,t++))||d.push(n)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":f.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var f=new RegExp('["'+b+"\n\r]"),e=b.charCodeAt(0);return{parse:function(b,c){var d,f;b=a(b,function(a,b){if(d)return d(a,b-1);f=a;d=c?hf(a,c):Yc(a)});b.columns=f||[];return b},parseRows:a,format:function(a,c){null==c&&(c=jf(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},
formatRows:function(a){return a.map(c).join("\n")}}}function ad(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function Ab(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function Bb(b){return fetch(b).then(ad).then((a)=>a.text())}function jb(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();Cb.set(c,!1);if(uc.has(a)){let b=uc.get(a);Cb.set(b,!0)}uc.set(a,c);return new Promise((a,
f)=>{if(Array.isArray(b)){var d=b.map((a)=>bd(a));d=Promise.all(d)}else d=bd(b);d.then((b)=>{Cb.get(c)||a(b)}).catch((a)=>{Cb.get(c)||f(a)})})}function bd(b){if(vc.has(b))return vc.get(b);var a=cd;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=cd.get(a)(b);vc.set(b,a);return a}function dd(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}function kf(b){return function(a,c){return dd(b(a),c)}}function Z(b,a,
c){b=+b;a=+a;c=2>(f=arguments.length)?(a=b,b=0,1):3>f?1:+c;for(var d=-1,f=Math.max(0,Math.ceil((a-b)/c))|0,e=Array(f);++d<f;)e[d]=b+d*c;return e}function lf({changed:b}){this.set({data:null});if(b.layer||b.classFilter||b.id||b.layout||b.filter){let {root:a,id:b,layer:d,classFilter:f,filter:e,fingerprint:g,layout:m}=this.get();jb(`${a}/${b}/${b}.json`,g).then((c)=>{this.set({config:c});if(null!==f){null==c.class_filter&&(c.class_filter="None");null==c.filter&&(c.filter="None");Array.isArray(c.grid_size)||
(c.grid_size=[c.grid_size]);Array.isArray(c.class_filter)||(c.class_filter=[c.class_filter]);Array.isArray(c.layer)||(c.layer=[c.layer]);Array.isArray(c.layout)||(c.layout=[c.layout]);Array.isArray(c.filter)||(c.filter=[c.filter]);let g=c.grid_size.map((g)=>`${a}/${b}/web/web--grid_size=${g}--layout=${c.layout[m]}--class_filter=${c.class_filter[f]}--filter=${c.filter[e]}--layer=${c.layer[d]}--model=${c.model}--sample_images=${c.sample_images}--sample_type=${c.sample_type}.json`);jb(g).then((g)=>{let k=
Array(g.length);g.forEach((g,t)=>{let q=c.grid_size[t],p=c.tile_size;Array(q/p).keys();let n=[...Array(q).keys()].map((a)=>Array(q));for(let k of g){void 0!==k.x&&(k.grid_x=k.x);void 0!==k.y&&(k.grid_y=k.y);void 0!==k.n&&(k.num_activations=k.n);void 0!==k.i&&(k.top_class_indices=k.i);void 0!==k.v&&(k.top_class_values=k.v);void 0!==k.f&&(k.full_class_values=k.f,k.full_class_indices=wc);g=k.grid_x;let t=k.grid_y,r=Math.floor(g/p),C=Math.floor(t/p);k.localX=g%p;k.localY=t%p;k.url=`${a}/${b}/render/render--x=${r}--y=${C}--tries=${c.tries}--alpha=${c.alpha?
"True":"False"}--tile_size=${c.tile_size}--whiten=${c.whiten}--steps=${c.steps}--icon_size=${c.icon_size}--grid_size=${q}--layout=${c.layout[m]}--class_filter=${c.class_filter[f]}--filter=${c.filter[e]}--layer=${c.layer[d]}--model=${c.model}--sample_images=${c.sample_images}--sample_type=${c.sample_type}.jpg`;n[k.grid_x][k.grid_y]=k}k[t]=n});this.set({layers:k});jb(`${a}/labels--model-${c.model}.txt`).then((a)=>{a=a.split("\n");this.set({labels:a})})})}})}}function xc(b){N(this,b);this._state=x({fingerprint:Math.random()+
Date.now(),root:"https://storage.googleapis.com/activation-atlas/build",id:"inceptionv1",layer:0,classFilter:0,filter:0,layout:0,config:null,layers:null,labels:null},b.data);this._intro=!0;this._handlers.update=[lf];this._fragment={c:Y,m:Y,p:Y,d:Y};this.root._oncreate.push(()=>{this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function mf(b){return function(){return b}}function yc(b,a){if(b===a||b!==b)return mf(b);
var c=typeof b;if(c!==typeof a||Array.isArray(b)!==Array.isArray(a))throw Error("Cannot interpolate values of different type");if(Array.isArray(b)){var d=a.map(function(a,c){return yc(b[c],a)});return function(a){return d.map(function(b){return b(a)})}}if("object"===c){if(!b||!a)throw Error("Object cannot be null");if("[object Date]"===Object.prototype.toString.call(b)&&"[object Date]"===Object.prototype.toString.call(a)){b=b.getTime();a=a.getTime();var f=a-b;return function(a){return new Date(b+
a*f)}}var e=Object.keys(a),g={},m={};e.forEach(function(c){g[c]=yc(b[c],a[c])});return function(a){e.forEach(function(b){m[b]=g[b](a)});return m}}if("number"===c){var k=a-b;return function(a){return b+a*k}}throw Error("Cannot interpolate "+c+" values");}function nf(b){return b}function fb(b){return.5>b?4*b*b*b:.5*Math.pow(2*b-2,3)+1}function of({width:b,unit:a}){return b/a}function pf(b,a){var c;return{c(){c=l("div");c.className="svelte-16epbqg svelte-ref-capture"},m(a,f){a.insertBefore(c,f);b.refs.capture=
c},p:Y,d(a){a&&G(c);b.refs.capture===c&&(b.refs.capture=null)}}}function ec(b){N(this,b);this.refs={};this._state=x({width:100,height:100,gcx:.5,gcy:.5,scx:.5,scy:.5,unit:100},b.data);this._recompute({width:1,unit:1},this._state);this._intro=!0;this._fragment=pf(this,this._state);this.root._oncreate.push(()=>{this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function qf(){this.refs.figure.addEventListener("ready",
(b)=>{this.set({ready:!0})});this.refs.figure.addEventListener("onscreen",(b)=>{this.set({onscreen:!0});this.fire("onscreen")});this.refs.figure.addEventListener("offscreen",(b)=>{this.set({onscreen:!1});this.fire("offscreen")})}function rf(b,a){var c,d=b._slotted.default;return{c(){c=l("d-figure")},m(a,e){a.insertBefore(c,e);d&&c.appendChild(d);b.refs.figure=c},p:Y,d(a){a&&G(c);d&&zb(c,d);b.refs.figure===c&&(b.refs.figure=null)}}}function zc(b){N(this,b);this.refs={};this._state=x({ready:!1,onscreen:!1},
b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=rf(this,this._state);this.root._oncreate.push(()=>{qf.call(this);this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function sf({layers:b,layer:a}){if(null==b)return 0;let c=0;b[a].forEach((a)=>{a.forEach((a)=>{a&&500<a.num_activations&&(a=a.full_class_values[0],a>c&&(c=a))})});return c}function tf({viewWidth:b,viewHeight:a}){return b/a}function uf({viewWidth:b,
viewHeight:a}){return Math.min(b,a)}function vf({gcx:b,gcy:a,scale:c,viewWidth:d,viewHeight:f,minViewDimInPx:e}){return{x:d/2-b*e*c,y:f/2-a*e*c}}function wf({scale:b,gridSize:a}){let c=0;null!=a?c=a:(1<b&&(c=0),2<b&&(c=1),4<b&&(c=2),8<b&&(c=3),16<b&&(c=4));return+c}function xf({currentZoomIndex:b,layers:a}){if(a&&b)return a[b].length}function yf({config:b,minViewDimInPx:a,currentZoomIndex:c,scale:d}){if(b)return a/b.grid_size[c]*d}function zf({mouseMoveMode:b,onCanvas:a,currentIconInfo:c,enableHover:d}){return d&&
a&&"hover"==b&&c}function Af({minViewDimInPx:b,config:a,currentZoomIndex:c,scale:d}){if(a)return b/(a.icon_size*a.grid_size[c])*d}function Bf({lastRecordedCanvasPos:b,topLeft:a,layerScale:c,config:d}){if(d)return{x:Math.floor((b.x-a.x)/(c*d.icon_size)),y:Math.floor((b.y-a.y)/(c*d.icon_size))}}function Cf({config:b,layerScale:a,topLeft:c,gridSelected:d}){if(b)return{x:d.x*b.icon_size*a+c.x-1,y:d.y*b.icon_size*a+c.y-1}}function Df({layers:b,currentZoomIndex:a,gridSelected:c}){if(b&&b[a]&&b[a][c.y]&&
b[a][c.y][c.x]&&(b=b[a][c.y][c.x],0<b.num_activations))return b}function Ef(){return{id:"inceptionv1",config:null,layers:null,labels:null,layer:0,layout:0,classFilter:0,filter:0,minActivations:1,showLabels:!1,showHoverImage:!1,context:null,alphaAttributionFactor:.02,scaleCountFactor:1,classHeatmap:-1,classHeatmapMultiplier:1,gridSize:null,showGrid:!1,homeX:.5,homeY:.5,homeScale:1,iconCrop:.02,zoomFactors:{out:.5,in:2},enableClickToZoom:!0,enableHover:!0,enableDragToPan:!0,backgroundColor:"white",
strokeColor:"rgb(220, 220, 220)",lastRecordedCanvasPos:{x:-100,y:-100},mouseDownScreenPos:{x:0,y:0},mouseMoveMode:"hover",onCanvas:!1,screenResolution:1,mouseDownTimer:0,mouseMoveFunction:function(){},mouseUpFunction:function(){}}}function Ff({changed:b}){this.set({context:this.refs.canvas.getContext("2d")});(b.maxAttributionValue||b.minActivations||b.classHeatmap||b.classHeatmapMultiplier||b.labels||b.showLabels||b.viewWidth||b.viewHeight||b.scale||b.iconCrop||b.currentZoomIndex||b.layers||b.alphaAttributionFactor||
b.scaleCountFactor||b.gcx||b.gcy)&&this.render();b.currentIconInfo&&this.updateIconHoverImage()}function ed(b,a,c){b=Object.create(b);b.top=a[c];b.i=c;return b}function Gf(b,a){function c(a){b.mouseDown(a)}function d(a){b.mouseMove(a)}function f(a){b.mouseEnter(a)}function e(a){b.mouseOut(a)}function g(){b.set({viewWidth:q.clientWidth,viewHeight:q.clientHeight})}var m,k,q,r,w,p,y,C,O,n,S,B,u={};if(void 0!==a.ready){u.ready=a.ready;var z=!0}var A=new zc({root:b.root,store:b.store,data:u,_bind(a,c){var d=
{};!z&&a.ready&&(d.ready=c.ready);b._set(d);z=void 0}});b.root._beforecreate.push(()=>{A._bind({ready:1},A.get())});var E=a.ready&&fd(b,a);u={width:a.viewWidth,height:a.viewHeight};if(void 0!==a.scale){u.scale=a.scale;var J=!0}if(void 0!==a.unit){u.unit=a.unit;var U=!0}if(void 0!==a.gcx){u.gcx=a.gcx;var K=!0}if(void 0!==a.gcy){u.gcy=a.gcy;var I=!0}var ea=new ec({root:b.root,store:b.store,data:u,_bind(a,c){var d={};!J&&a.scale&&(d.scale=c.scale);!U&&a.unit&&(d.unit=c.unit);!K&&a.gcx&&(d.gcx=c.gcx);
!I&&a.gcy&&(d.gcy=c.gcy);b._set(d);I=K=U=J=void 0}});b.root._beforecreate.push(()=>{ea._bind({scale:1,unit:1,gcx:1,gcy:1},ea.get())});b.refs.zoom=ea;var L=a.showHoverIcon&&gd(b,a),Q=a.labels&&a.showHoverIcon&&a.currentIconInfo&&a.currentIconInfo.top_class_indices&&hd(b,a);return{c(){A._fragment.c();m=h("\n\n");E&&E.c();k=h("\n\n  ");q=l("div");r=l("div");ea._fragment.c();w=h("\n      ");p=l("canvas");O=h("\n      ");L&&L.c();S=h("\n\n    ");Q&&Q.c();p.width=y=a.viewWidth*a.screenResolution;p.height=
C=a.viewHeight*a.screenResolution;v(p,"width",""+a.viewWidth+"px");v(p,"height",""+a.viewHeight+"px");p.className="svelte-ptap6b svelte-ref-canvas";r.addEventListener("mousedown",c,void 0);r.addEventListener("mousemove",d,void 0);r.addEventListener("mouseenter",f,void 0);r.addEventListener("mouseout",e,void 0);r.className=n=("pan"==a.mouseMoveMode&a.enableDragToPan?"panning":"")+" svelte-ptap6b svelte-ref-stage";b.root._beforecreate.push(g);q.className="svelte-ptap6b svelte-ref-root"},m(a,c){A._mount(a,
c);a.insertBefore(m,c);E&&E.m(a,c);a.insertBefore(k,c);a.insertBefore(q,c);q.appendChild(r);ea._mount(r,null);r.appendChild(w);r.appendChild(p);b.refs.canvas=p;r.appendChild(O);L&&L.m(r,null);b.refs.stage=r;q.appendChild(S);Q&&Q.m(q,null);B=db(q,g);b.refs.root=q},p(c,d){a=d;d={};!z&&c.ready&&(d.ready=a.ready,z=void 0!==a.ready);A._set(d);z=void 0;a.ready?E?E.p(c,a):(E=fd(b,a),E.c(),E.m(k.parentNode,k)):E&&(E.d(1),E=null);d={};c.viewWidth&&(d.width=a.viewWidth);c.viewHeight&&(d.height=a.viewHeight);
!J&&c.scale&&(d.scale=a.scale,J=void 0!==a.scale);!U&&c.unit&&(d.unit=a.unit,U=void 0!==a.unit);!K&&c.gcx&&(d.gcx=a.gcx,K=void 0!==a.gcx);!I&&c.gcy&&(d.gcy=a.gcy,I=void 0!==a.gcy);ea._set(d);I=K=U=J=void 0;(c.viewWidth||c.screenResolution)&&y!==(y=a.viewWidth*a.screenResolution)&&(p.width=y);(c.viewHeight||c.screenResolution)&&C!==(C=a.viewHeight*a.screenResolution)&&(p.height=C);c.viewWidth&&v(p,"width",""+a.viewWidth+"px");c.viewHeight&&v(p,"height",""+a.viewHeight+"px");a.showHoverIcon?L?L.p(c,
a):(L=gd(b,a),L.c(),L.m(r,null)):L&&(L.d(1),L=null);(c.mouseMoveMode||c.enableDragToPan)&&n!==(n=("pan"==a.mouseMoveMode&a.enableDragToPan?"panning":"")+" svelte-ptap6b svelte-ref-stage")&&(r.className=n);a.labels&&a.showHoverIcon&&a.currentIconInfo&&a.currentIconInfo.top_class_indices?Q?Q.p(c,a):(Q=hd(b,a),Q.c(),Q.m(q,null)):Q&&(Q.d(1),Q=null)},d(a){A.destroy(a);a&&G(m);E&&E.d(a);a&&(G(k),G(q));ea.destroy();b.refs.zoom===ea&&(b.refs.zoom=null);b.refs.canvas===p&&(b.refs.canvas=null);L&&L.d();r.removeEventListener("mousedown",
c,void 0);r.removeEventListener("mousemove",d,void 0);r.removeEventListener("mouseenter",f,void 0);r.removeEventListener("mouseout",e,void 0);b.refs.stage===r&&(b.refs.stage=null);Q&&Q.d();B.cancel();b.refs.root===q&&(b.refs.root=null)}}}function fd(b,a){var c={id:a.id,layer:a.layer,layout:a.layout,classFilter:a.classFilter,filter:a.filter};if(void 0!==a.config){c.config=a.config;var d=!0}if(void 0!==a.layers){c.layers=a.layers;var f=!0}if(void 0!==a.labels){c.labels=a.labels;var e=!0}var g=new xc({root:b.root,
store:b.store,data:c,_bind(a,c){var g={};!d&&a.config&&(g.config=c.config);!f&&a.layers&&(g.layers=c.layers);!e&&a.labels&&(g.labels=c.labels);b._set(g);e=f=d=void 0}});b.root._beforecreate.push(()=>{g._bind({config:1,layers:1,labels:1},g.get())});return{c(){g._fragment.c()},m(a,b){g._mount(a,b)},p(b,c){a=c;c={};b.id&&(c.id=a.id);b.layer&&(c.layer=a.layer);b.layout&&(c.layout=a.layout);b.classFilter&&(c.classFilter=a.classFilter);b.filter&&(c.filter=a.filter);!d&&b.config&&(c.config=a.config,d=void 0!==
a.config);!f&&b.layers&&(c.layers=a.layers,f=void 0!==a.layers);!e&&b.labels&&(c.labels=a.labels,e=void 0!==a.labels);g._set(c);e=f=d=void 0},d(a){g.destroy(a)}}}function gd(b,a){var c;return{c(){c=l("div");c.className="icon svelte-ptap6b";v(c,"width",a.iconSizeInPixels+2+"px");v(c,"height",a.iconSizeInPixels+2+"px");v(c,"left",a.topLeftCornerHover.x+"px");v(c,"top",a.topLeftCornerHover.y+"px")},m(a,b){a.insertBefore(c,b)},p(a,b){a.iconSizeInPixels&&(v(c,"width",b.iconSizeInPixels+2+"px"),v(c,"height",
b.iconSizeInPixels+2+"px"));a.topLeftCornerHover&&(v(c,"left",b.topLeftCornerHover.x+"px"),v(c,"top",b.topLeftCornerHover.y+"px"))},d(a){a&&G(c)}}}function hd(b,a){var c,d,f,e,g,m,k=a.currentIconInfo.num_activations,q,r,w=-1<a.classHeatmap?id:jd,p=w(b,a),y=a.showHoverImage&&kd(b,a);return{c(){c=l("div");d=l("table");p.c();f=h("\n        ");y&&y.c();e=h("\n        ");g=l("div");m=h("Average of ");q=h(k);r=h(" activations");d.className="svelte-ptap6b";v(g,"font-size","10px");v(g,"margin-top","4px");
v(g,"color","#999");v(g,"text-align","right");c.className="hover svelte-ptap6b";v(c,"top",a.topLeftCornerHover.y+a.iconSizeInPixels+10+"px");v(c,"left",a.topLeftCornerHover.x+a.iconSizeInPixels+10+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);p.m(d,null);c.appendChild(f);y&&y.m(c,null);c.appendChild(e);c.appendChild(g);g.appendChild(m);g.appendChild(q);g.appendChild(r)},p(a,f){w===(w=-1<f.classHeatmap?id:jd)&&p?p.p(a,f):(p.d(1),p=w(b,f),p.c(),p.m(d,null));f.showHoverImage?y||(y=kd(b,f),y.c(),
y.m(c,e)):y&&(y.d(1),y=null);a.currentIconInfo&&k!==(k=f.currentIconInfo.num_activations)&&W(q,k);if(a.topLeftCornerHover||a.iconSizeInPixels)v(c,"top",f.topLeftCornerHover.y+f.iconSizeInPixels+10+"px"),v(c,"left",f.topLeftCornerHover.x+f.iconSizeInPixels+10+"px")},d(a){a&&G(c);p.d();y&&y.d()}}}function jd(b,a){for(var c,d=a.currentIconInfo.top_class_indices.slice(0,5),f=[],e=0;e<d.length;e+=1)f[e]=ld(b,ed(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=ka()},m(a,b){for(var d=0;d<f.length;d+=
1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.currentIconInfo||a.labels){d=e.currentIconInfo.top_class_indices.slice(0,5);for(var g=0;g<d.length;g+=1){let k=ed(e,d,g);f[g]?f[g].p(a,k):(f[g]=ld(b,k),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ba(f,a);a&&G(c)}}}function id(b,a){var c,d,f,e,g,m=a.labels[a.currentIconInfo.top_class_indices[0]],k,q,r,w=a.currentIconInfo.top_class_values[0].toPrecision(2),p;return{c(){c=l("tr");d=h("\n          ");f=l("tr");
e=l("td");g=h("top class: ");k=h(m);q=h("\n            ");r=l("td");p=h(w);e.className="svelte-ptap6b";v(r,"text-align","right");r.className="svelte-ptap6b"},m(a,b){a.insertBefore(c,b);a.insertBefore(d,b);a.insertBefore(f,b);f.appendChild(e);e.appendChild(g);e.appendChild(k);f.appendChild(q);f.appendChild(r);r.appendChild(p)},p(a,b){(a.labels||a.currentIconInfo)&&m!==(m=b.labels[b.currentIconInfo.top_class_indices[0]])&&W(k,m);a.currentIconInfo&&w!==(w=b.currentIconInfo.top_class_values[0].toPrecision(2))&&
W(p,w)},d(a){a&&(G(c),G(d),G(f))}}}function ld(b,a){var c,d,f=a.i+1,e,g,m,k,q=a.labels[a.top],r,w,p,y=a.currentIconInfo.top_class_values[a.i].toPrecision(2),C;return{c(){c=l("tr");d=l("td");e=h(f);g=h(".");m=h("\n              ");k=l("td");r=h(q);w=h("\n              ");p=l("td");C=h(y);v(d,"width","10px");v(d,"text-align","right");v(d,"padding-right","4px");d.className="svelte-ptap6b";k.className=(0==a.i?"first":"")+" svelte-ptap6b";v(p,"text-align","right");p.className="svelte-ptap6b"},m(a,b){a.insertBefore(c,
b);c.appendChild(d);d.appendChild(e);d.appendChild(g);c.appendChild(m);c.appendChild(k);k.appendChild(r);c.appendChild(w);c.appendChild(p);p.appendChild(C)},p(a,b){(a.labels||a.currentIconInfo)&&q!==(q=b.labels[b.top])&&W(r,q);a.currentIconInfo&&y!==(y=b.currentIconInfo.top_class_values[b.i].toPrecision(2))&&W(C,y)},d(a){a&&G(c)}}}function kd(b,a){var c;return{c(){c=l("canvas")},m(a,f){a.insertBefore(c,f);b.refs.hoverImage=c},d(a){a&&G(c);b.refs.hoverImage===c&&(b.refs.hoverImage=null)}}}function la(b){N(this,
b);this.refs={};this._state=x(Ef(),b.data);this._recompute({layers:1,layer:1,viewWidth:1,viewHeight:1,gcx:1,gcy:1,scale:1,minViewDimInPx:1,gridSize:1,currentZoomIndex:1,config:1,lastRecordedCanvasPos:1,topLeft:1,layerScale:1,gridSelected:1,classHeatmap:1,mouseMoveMode:1,onCanvas:1,currentIconInfo:1,enableHover:1},this._state);this._intro=!0;this._handlers.update=[Ff];this._fragment=Gf(this,this._state);this.root._oncreate.push(()=>{this.home();this.fire("update",{changed:Fa({},this._state),current:this._state})});
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Hf(b,a){function c(a){b.fire("home")}function d(a){b.fire("zoomout")}function f(a){b.fire("zoomin")}function e(a){b.fire("fullscreen")}function g(){K=!0;b.set({layer_name:Ye(n)});K=!1}var m,k,q,r,w,p,y,C,O,n,S,B,v,z,A,E,J,U,K=!1;return{c(){m=l("div");k=l("button");k.textContent="Home";q=h("\n  ");r=l("button");r.textContent="Zoom Out";w=h("\n  \n  \n  \n  ");p=l("button");p.textContent="Zoom In";y=h("\n  ");C=l("button");
C.textContent="Fullscreen";O=h("\n  \n  ");n=l("select");S=l("option");S.textContent="mixed3b";B=l("option");B.textContent="mixed4a";v=l("option");v.textContent="mixed4b";z=l("option");z.textContent="mixed4c";A=l("option");A.textContent="mixed4d";E=l("option");E.textContent="mixed4e";J=l("option");J.textContent="mixed5a";U=l("option");U.textContent="mixed5b";k.addEventListener("click",c,void 0);k.className="svelte-1swd199";r.addEventListener("click",d,void 0);r.className="svelte-1swd199";p.addEventListener("click",
f,void 0);p.className="svelte-1swd199";C.addEventListener("click",e,void 0);C.className="svelte-1swd199";S.__value="mixed3b";S.value=S.__value;B.__value="mixed4a";B.value=B.__value;v.__value="mixed4b";v.value=v.__value;z.__value="mixed4c";z.value=z.__value;A.__value="mixed4d";A.value=A.__value;E.__value="mixed4e";E.value=E.__value;J.__value="mixed5a";J.value=J.__value;U.__value="mixed5b";U.value=U.__value;n.addEventListener("change",g,void 0);"layer_name"in a||b.root._beforecreate.push(g);n.name=
"layer";m.className="nav svelte-1swd199"},m(b,c){b.insertBefore(m,c);m.appendChild(k);m.appendChild(q);m.appendChild(r);m.appendChild(w);m.appendChild(p);m.appendChild(y);m.appendChild(C);m.appendChild(O);m.appendChild(n);n.appendChild(S);n.appendChild(B);n.appendChild(v);n.appendChild(z);n.appendChild(A);n.appendChild(E);n.appendChild(J);n.appendChild(U);Qc(n,a.layer_name)},p(a,b){!K&&a.layer_name&&Qc(n,b.layer_name)},d(a){a&&G(m);k.removeEventListener("click",c,void 0);r.removeEventListener("click",
d,void 0);p.removeEventListener("click",f,void 0);C.removeEventListener("click",e,void 0);n.removeEventListener("change",g,void 0)}}}function md(b){N(this,b);this._state=x({},b.data);this._intro=!0;this._fragment=Hf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function If({scale:b}){return 1/b}function Jf({scale:b,aspectRatio:a}){return 1/b*a}function Kf({gcx:b,w:a}){return b-a/2}function Lf({gcy:b,h:a}){return b-a/2}function Mf({l:b,w:a}){return b+a}function Nf({t:b,
h:a}){return b+a}function Of({l:b,width:a}){return b*a}function Pf({r:b,width:a}){return b*a}function Qf({t:b,height:a}){return b*a}function Rf({b,height:a}){return b*a}function Sf(b,a){function c(){b.set({width:d.clientWidth,height:d.clientHeight})}var d,f,e=a.scale&&nd(b,a);return{c(){d=l("div");e&&e.c();b.root._beforecreate.push(c);d.className="root svelte-ctiyrz"},m(a,b){a.insertBefore(d,b);e&&e.m(d,null);f=db(d,c)},p(a,c){c.scale?e?e.p(a,c):(e=nd(b,c),e.c(),e.m(d,null)):e&&(e.d(1),e=null)},d(a){a&&
G(d);e&&e.d();f.cancel()}}}function nd(b,a){function c(a){b.mouseMove(a)}function d(a){b.mouseUp(a)}function f(a){b.mouseMove(a)}function t(a){b.mouseDown(a)}function g(a){b.mouseUp(a)}var m,k,q,r,w,p,y,C=a.annotationValue&&od(b,a);return{c(){m=u("svg");k=u("path");w=h("\n  ");p=l("div");C&&C.c();k.addEventListener("mousemove",c,void 0);k.addEventListener("mouseup",d,void 0);e(k,"class",q=(a.background?"":"transparent")+" svelte-ctiyrz");e(k,"d",r="M0,0 L"+a.width+",0 L"+a.width+","+a.height+" L0,"+
a.height+" z M"+a.left+","+a.top+" L"+a.left+","+a.bottom+" L"+a.right+","+a.bottom+"  L"+a.right+","+a.top+" z");e(m,"width",a.width);e(m,"height",a.height);e(m,"class","svelte-ctiyrz");p.addEventListener("mousemove",f,void 0);p.addEventListener("mousedown",t,void 0);p.addEventListener("mouseup",g,void 0);p.className=y="reticle "+(a.round?"round":"")+" svelte-ctiyrz";v(p,"box-sizing","content-box");v(p,"border-color",a.color);v(p,"top",""+(a.top-2.5)+"px");v(p,"left",""+(a.left-2.5)+"px");v(p,"width",
""+(a.right-a.left-1)+"px");v(p,"height",""+(a.bottom-a.top-1)+"px");v(p,"cursor",(a.enableDragging?"move":"default")+"\n      ")},m(a,b){a.insertBefore(m,b);m.appendChild(k);a.insertBefore(w,b);a.insertBefore(p,b);C&&C.m(p,null)},p(a,c){a.background&&q!==(q=(c.background?"":"transparent")+" svelte-ctiyrz")&&e(k,"class",q);(a.width||a.height||a.left||a.top||a.bottom||a.right)&&r!==(r="M0,0 L"+c.width+",0 L"+c.width+","+c.height+" L0,"+c.height+" z M"+c.left+","+c.top+" L"+c.left+","+c.bottom+" L"+
c.right+","+c.bottom+"  L"+c.right+","+c.top+" z")&&e(k,"d",r);a.width&&e(m,"width",c.width);a.height&&e(m,"height",c.height);c.annotationValue?C?C.p(a,c):(C=od(b,c),C.c(),C.m(p,null)):C&&(C.d(1),C=null);a.round&&y!==(y="reticle "+(c.round?"round":"")+" svelte-ctiyrz")&&(p.className=y);a.color&&v(p,"border-color",c.color);a.top&&v(p,"top",""+(c.top-2.5)+"px");a.left&&v(p,"left",""+(c.left-2.5)+"px");(a.right||a.left)&&v(p,"width",""+(c.right-c.left-1)+"px");(a.bottom||a.top)&&v(p,"height",""+(c.bottom-
c.top-1)+"px");a.enableDragging&&v(p,"cursor",(c.enableDragging?"move":"default")+"\n      ")},d(a){a&&G(m);k.removeEventListener("mousemove",c,void 0);k.removeEventListener("mouseup",d,void 0);a&&(G(w),G(p));C&&C.d();p.removeEventListener("mousemove",f,void 0);p.removeEventListener("mousedown",t,void 0);p.removeEventListener("mouseup",g,void 0)}}}function od(b,a){var c,d,f,e;return{c(){c=l("div");d=l("div");f=l("p");e=h(a.annotationValue);f.className="annotation svelte-ctiyrz";d.className="annotationTab svelte-ctiyrz";
v(d,"background",a.color);c.className="annotationTabParent svelte-ctiyrz";v(c,"top",""+(a.w*a.width-2)/2+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(e)},p(a,b){a.annotationValue&&W(e,b.annotationValue);a.color&&v(d,"background",b.color);(a.w||a.width)&&v(c,"top",""+(b.w*b.width-2)/2+"px")},d(a){a&&G(c)}}}function xa(b){N(this,b);this._state=x({width:0,height:0,dragging:!1,startPos:{x:-100,y:-100},background:!0,round:!1,color:"#ff6600",enableDragging:!0},b.data);
this._recompute({scale:1,aspectRatio:1,gcx:1,w:1,width:1,gcy:1,h:1,height:1,l:1,t:1,r:1,b:1},this._state);this._intro=!0;this._fragment=Sf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Tf(b,a){function c(a){b.goto(.55,.08,8)}function d(a){b.goto(.9,.26,8)}function f(a){b.goto(.13,.26,8)}function e(a){b.goto(.23,.76,8)}function g(a){b.goto(.54,.93,8)}function m(a){b.goto(.46,.52,8)}var k,q,r,w,p,y,C,O,n,S,B,u,z,A,E,J,U,K,I,ea,L,Q,M,da,R,V,Ga,x,Db,
fa,N,T={};if(void 0!==a.unit){T.unit=a.unit;var pa=!0}if(void 0!==a.layer_name){T.layer_name=a.layer_name;var ha=!0}var X=new md({root:b.root,store:b.store,data:T,_bind(a,c){var d={};!pa&&a.unit&&(d.unit=c.unit);!ha&&a.layer_name&&(d.layer_name=c.layer_name);b._set(d);ha=pa=void 0}});b.root._beforecreate.push(()=>{X._bind({unit:1,layer_name:1},X.get())});X.on("home",function(a){b.refs.detail.home()});X.on("fullscreen",function(a){b.refs.detail.fullscreen()});X.on("zoomin",function(a){b.refs.detail.zoomit(2)});
X.on("zoomout",function(a){b.refs.detail.zoomit(.5)});T={id:"inceptionv1_"+a.layer_name,iconCrop:.2,homeScale:8,homeX:.22,homeY:.32,scaleCountFactor:10,alphaAttributionFactor:10,showLabels:!0,strokeColor:"#666",backgroundColor:"#333"};if(void 0!==a.scale){T.scale=a.scale;var qa=!0}if(void 0!==a.gcx){T.gcx=a.gcx;var ra=!0}if(void 0!==a.gcy){T.gcy=a.gcy;var ua=!0}if(void 0!==a.layer){T.layer=a.layer;var D=!0}if(void 0!==a.aspectRatio){T.aspectRatio=a.aspectRatio;var F=!0}var H=new la({root:b.root,store:b.store,
data:T,_bind(a,c){var d={};!qa&&a.scale&&(d.scale=c.scale);!ra&&a.gcx&&(d.gcx=c.gcx);!ua&&a.gcy&&(d.gcy=c.gcy);!D&&a.layer&&(d.layer=c.layer);!F&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);b._set(d);F=D=ua=ra=qa=void 0}});b.root._beforecreate.push(()=>{H._bind({scale:1,gcx:1,gcy:1,layer:1,aspectRatio:1},H.get())});b.refs.detail=H;T={id:"inceptionv1_"+a.layer_name,gridSize:2,iconCrop:.3,scaleCountFactor:200,alphaAttributionFactor:10};if(void 0!==a.layer){T.layer=a.layer;var Na=!0}var P=new la({root:b.root,
store:b.store,data:T,_bind(a,c){var d={};!Na&&a.layer&&(d.layer=c.layer);b._set(d);Na=void 0}});b.root._beforecreate.push(()=>{P._bind({layer:1},P.get())});b.refs.overview=P;T={enableDragging:!0};if(void 0!==a.aspectRatio){T.aspectRatio=a.aspectRatio;var ja=!0}if(void 0!==a.scale){T.scale=a.scale;var sa=!0}if(void 0!==a.gcx){T.gcx=a.gcx;var wa=!0}if(void 0!==a.gcy){T.gcy=a.gcy;var ma=!0}var ca=new xa({root:b.root,store:b.store,data:T,_bind(a,c){var d={};!ja&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);
!sa&&a.scale&&(d.scale=c.scale);!wa&&a.gcx&&(d.gcx=c.gcx);!ma&&a.gcy&&(d.gcy=c.gcy);b._set(d);ma=wa=sa=ja=void 0}});b.root._beforecreate.push(()=>{ca._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},ca.get())});var va=new eb({root:b.root,store:b.store,data:{url:""}});return{c(){X._fragment.c();k=h("\n\n\n\n");q=l("div");r=l("div");w=l("div");H._fragment.c();p=h("\n      ");y=l("div");C=h("\n\n  ");O=l("div");n=l("div");S=l("div");B=l("div");P._fragment.c();u=h("\n          ");ca._fragment.c();z=h("\n      ");
A=l("div");E=l("b");E.textContent="An activation atlas";J=h(" of the second to last layer of the InceptionV1 vision classification network reveals many fully realized features, such as  \n        ");U=l("span");U.textContent="electronics";K=h(", \n        ");I=l("span");I.textContent="vehicles";ea=h(", \n        ");L=l("span");L.textContent="food";Q=h(", \n        ");M=l("span");M.textContent="birds";da=h(", \n        ");R=l("span");R.textContent="dogs";V=h(", and\n        ");Ga=l("span");Ga.textContent=
"backgrounds";x=h(".\n        Each grid cell is labeled with the classification it most supports.\n        ");Db=l("d-footnote");Db.textContent="More specifically, We show a linear approximation of the effect of these average activation vectors of a grid cell on the logits.";fa=h("\n        ");N=l("div");va._fragment.c();y.className="shadow svelte-196acv4";v(w,"margin-left","20px");v(w,"position","relative");v(w,"width","calc(100% - 20px)");v(w,"height","100%");r.className="detail svelte-196acv4";
v(r,"grid-column","screen/text");v(B,"position","absolute");v(B,"width","100%");v(B,"height","100%");v(B,"top","0");v(B,"left","0");v(S,"position","relative");v(S,"padding-top","100%");v(S,"height","0");v(S,"overflow","hidden");U.addEventListener("click",c,void 0);U.className="link svelte-196acv4";I.addEventListener("click",d,void 0);I.className="link svelte-196acv4";L.addEventListener("click",f,void 0);L.className="link svelte-196acv4";M.addEventListener("click",e,void 0);M.className="link svelte-196acv4";
R.addEventListener("click",g,void 0);R.className="link svelte-196acv4";Ga.addEventListener("click",m,void 0);Ga.className="link svelte-196acv4";v(N,"margin-top","16px");A.className="figcaption";v(n,"margin-right","20px");v(n,"position","relative");v(n,"width","calc(100% - 20px)");v(n,"height","100%");O.className="overview svelte-196acv4";v(O,"grid-column","text-end / screen-end");q.className="base-grid";v(q,"min-height","500px")},m(a,b){X._mount(a,b);a.insertBefore(k,b);a.insertBefore(q,b);q.appendChild(r);
r.appendChild(w);H._mount(w,null);w.appendChild(p);w.appendChild(y);q.appendChild(C);q.appendChild(O);O.appendChild(n);n.appendChild(S);S.appendChild(B);P._mount(B,null);B.appendChild(u);ca._mount(B,null);n.appendChild(z);n.appendChild(A);A.appendChild(E);A.appendChild(J);A.appendChild(U);A.appendChild(K);A.appendChild(I);A.appendChild(ea);A.appendChild(L);A.appendChild(Q);A.appendChild(M);A.appendChild(da);A.appendChild(R);A.appendChild(V);A.appendChild(Ga);A.appendChild(x);A.appendChild(Db);A.appendChild(fa);
A.appendChild(N);va._mount(N,null)},p(b,c){a=c;c={};!pa&&b.unit&&(c.unit=a.unit,pa=void 0!==a.unit);!ha&&b.layer_name&&(c.layer_name=a.layer_name,ha=void 0!==a.layer_name);X._set(c);ha=pa=void 0;c={};b.layer_name&&(c.id="inceptionv1_"+a.layer_name);!qa&&b.scale&&(c.scale=a.scale,qa=void 0!==a.scale);!ra&&b.gcx&&(c.gcx=a.gcx,ra=void 0!==a.gcx);!ua&&b.gcy&&(c.gcy=a.gcy,ua=void 0!==a.gcy);!D&&b.layer&&(c.layer=a.layer,D=void 0!==a.layer);!F&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,F=void 0!==a.aspectRatio);
H._set(c);F=D=ua=ra=qa=void 0;c={};b.layer_name&&(c.id="inceptionv1_"+a.layer_name);!Na&&b.layer&&(c.layer=a.layer,Na=void 0!==a.layer);P._set(c);Na=void 0;c={};!ja&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,ja=void 0!==a.aspectRatio);!sa&&b.scale&&(c.scale=a.scale,sa=void 0!==a.scale);!wa&&b.gcx&&(c.gcx=a.gcx,wa=void 0!==a.gcx);!ma&&b.gcy&&(c.gcy=a.gcy,ma=void 0!==a.gcy);ca._set(c);ma=wa=sa=ja=void 0},d(a){X.destroy(a);a&&(G(k),G(q));H.destroy();b.refs.detail===H&&(b.refs.detail=null);P.destroy();
b.refs.overview===P&&(b.refs.overview=null);ca.destroy();U.removeEventListener("click",c,void 0);I.removeEventListener("click",d,void 0);L.removeEventListener("click",f,void 0);M.removeEventListener("click",e,void 0);R.removeEventListener("click",g,void 0);Ga.removeEventListener("click",m,void 0);va.destroy()}}}function Ac(b){N(this,b);this.refs={};this._state=x({layer_name:"mixed5a",layer:0,gcx:.2,gcy:.299},b.data);this._intro=!0;this._fragment=Tf(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),H(this))}function Uf({clientWidth:b}){return b}function Vf({width:b,aspectRatio:a}){return b/a}function Wf(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,f,e=b._slotted.default,g;return{c(){d=l("div");f=l("div");f.className="container svelte-xqvv98";b.root._beforecreate.push(c);d.className="root svelte-xqvv98";v(d,"display",a.display);v(d,"padding-bottom",""+100/a.aspectRatio+"%")},m(a,b){a.insertBefore(d,b);d.appendChild(f);e&&f.appendChild(e);g=db(d,c)},
p(a,b){a.display&&v(d,"display",b.display);a.aspectRatio&&v(d,"padding-bottom",""+100/b.aspectRatio+"%")},d(a){a&&G(d);e&&zb(f,e);g.cancel()}}}function Bc(b){N(this,b);this._state=x({display:"block",aspectRatio:1,clientWidth:0},b.data);this._recompute({clientWidth:1,width:1,aspectRatio:1},this._state);this._intro=!0;this._slotted=b.slots||{};this._fragment=Wf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Xf(b,a){var c,d,f,e=a.ready?pd:qd,g=e(b,a),
m={aspectRatio:a.aspectRatio},k=new Bc({root:b.root,store:b.store,slots:{default:Pa()},data:m});m={};if(void 0!==a.ready){m.ready=a.ready;var q=!0}var r=new rc({root:b.root,store:b.store,slots:{default:Pa()},data:m,_bind(a,c){var d={};!q&&a.ready&&(d.ready=c.ready);b._set(d);q=void 0}});b.root._beforecreate.push(()=>{r._bind({ready:1},r.get())});return{c(){c=l("div");g.c();d=ka();k._fragment.c();r._fragment.c();c.className=f=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-lat22x"},
m(a,b){a.insertBefore(c,b);g.m(k._slotted.default,null);k._slotted.default.appendChild(d);k._mount(r._slotted.default,null);r._mount(c,null)},p(m,t){a=t;e===(e=a.ready?pd:qd)&&g?g.p(m,a):(g.d(1),g=e(b,a),g.c(),g.m(d.parentNode,d));t={};m.aspectRatio&&(t.aspectRatio=a.aspectRatio);k._set(t);t={};!q&&m.ready&&(t.ready=a.ready,q=void 0!==a.ready);r._set(t);q=void 0;(m.background||m.border)&&f!==(f=(a.background?"background":"")+" "+(a.border?"border":"")+" svelte-lat22x")&&(c.className=f)},d(a){a&&G(c);
g.d();k.destroy();r.destroy()}}}function qd(b,a){var c=new sc({root:b.root,store:b.store});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p:Y,d(a){c.destroy(a)}}}function pd(b,a){var c;return{c(){c=l("img");c.src=a.src;c.alt=a.alt;c.className="svelte-lat22x svelte-ref-image"},m(a,f){a.insertBefore(c,f);b.refs.image=c},p(a,b){a.src&&(c.src=b.src);a.alt&&(c.alt=b.alt)},d(a){a&&G(c);b.refs.image===c&&(b.refs.image=null)}}}function ia(b){N(this,b);this.refs={};this._state=x({ready:!1,src:"",alt:"",
display:"block",aspectRatio:1,border:!0,background:!0},b.data);this._intro=!0;this._fragment=Xf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Yf(b,a){var c,d,f,e,g,m,k,q,r,w,p,y,C,O,n,S,B,v,z,A,E,J,U,K,I=new ia({root:b.root,store:b.store,data:{src:"assets/images/overview-neuron.jpg",border:!1}}),u=new ia({root:b.root,store:b.store,data:{src:"assets/images/overview-pairwise.jpg",border:!1}}),L=new ia({root:b.root,store:b.store,data:{src:"assets/images/activation-grid.png",
border:!1}}),Q=new ia({root:b.root,store:b.store,data:{src:"assets/images/overview-atlas.jpg",border:!1}});return{c(){c=l("div");d=l("div");f=l("h4");f.textContent="Individual Neurons";e=h("\n    ");I._fragment.c();g=h("\n    ");m=l("div");m.textContent="Visualizing individual neurons make hidden layers somewhate meaningful, but misses interactions between neurons.";k=h("\n  ");q=l("div");r=l("h4");r.textContent="Pairwise Interactions";w=h("\n    ");u._fragment.c();p=h("\n    ");y=l("div");y.textContent=
"Studying pairwise interaction surfaces some interaction effects, but doesn't show interactions between many and the space of possible pairs is huge.";C=h("\n  ");O=l("div");n=l("h4");n.textContent="Spatial Activations";S=h("\n    ");L._fragment.c();B=h("\n    ");v=l("div");v.textContent="Spatial activations show important combinations of many neurons, but are focused on a single example.";z=h("\n  ");A=l("div");E=l("h4");E.textContent="Activation Atlas";J=h("\n    ");Q._fragment.c();U=h("\n    ");
K=l("div");K.textContent="Activation atlases show important combinations of neurons, but give a bigger picture overview.";f.className="svelte-7yn287";m.className="figcaption svelte-7yn287";r.className="svelte-7yn287";y.className="figcaption svelte-7yn287";n.className="svelte-7yn287";v.className="figcaption svelte-7yn287";E.className="svelte-7yn287";K.className="figcaption svelte-7yn287";c.className="svelte-7yn287 svelte-ref-root"},m(a,t){a.insertBefore(c,t);c.appendChild(d);d.appendChild(f);d.appendChild(e);
I._mount(d,null);d.appendChild(g);d.appendChild(m);c.appendChild(k);c.appendChild(q);q.appendChild(r);q.appendChild(w);u._mount(q,null);q.appendChild(p);q.appendChild(y);c.appendChild(C);c.appendChild(O);O.appendChild(n);O.appendChild(S);L._mount(O,null);O.appendChild(B);O.appendChild(v);c.appendChild(z);c.appendChild(A);A.appendChild(E);A.appendChild(J);Q._mount(A,null);A.appendChild(U);A.appendChild(K);b.refs.root=c},p:Y,d(a){a&&G(c);I.destroy();u.destroy();L.destroy();Q.destroy();b.refs.root===
c&&(b.refs.root=null)}}}function rd(b){N(this,b);this.refs={};this._state=x({},b.data);this._intro=!0;this._fragment=Yf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Zf(b,a){var c,d=new ia({root:b.root,store:b.store,data:{src:"assets/images/model.svg",alt:"model",aspectRatio:1072/178.3,border:!1,background:!1}});return{c(){c=l("div");d._fragment.c();c.className="svelte-rd22a7 svelte-ref-root"},m(a,e){a.insertBefore(c,e);d._mount(c,null);b.refs.root=
c},p:Y,d(a){a&&G(c);d.destroy();b.refs.root===c&&(b.refs.root=null)}}}function sd(b){N(this,b);this.refs={};this._state=x({},b.data);this._intro=!0;this._fragment=Zf(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function $f(b,a){var c,d,f,e,g,m,k,q,r=new ia({root:b.root,store:b.store,data:{src:"assets/images/dogcat.jpg",alt:"input image"}}),w=new ia({root:b.root,store:b.store,data:{src:"assets/images/dogcat-grid.jpg",alt:"activation grid"}});return{c(){c=
l("div");d=l("div");r._fragment.c();f=h("\n    ");e=l("div");e.textContent="Input image from ImageNet.";g=h("\n  ");m=l("div");w._fragment.c();k=h("\n    ");q=l("div");q.textContent="Activation grid from InceptionV1, layer mixed4d.";e.className="figcaption svelte-scrtb8";q.className="figcaption svelte-scrtb8";c.className="root svelte-scrtb8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);r._mount(d,null);d.appendChild(f);d.appendChild(e);c.appendChild(g);c.appendChild(m);w._mount(m,null);m.appendChild(k);
m.appendChild(q)},p:Y,d(a){a&&G(c);r.destroy();w.destroy()}}}function td(b){N(this,b);this._state=x({},b.data);this._intro=!0;this._fragment=$f(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function ag({gridSize:b}){return Z(1,b)}function bg({root:b,classFilter:a,gridSize:c}){return`${b}render--x=0--y=0--tries=3--alpha=False--tile_size=8--whiten=true--steps=1024--icon_size=80--grid_size=${c}--layout=20_0.01_cosine--class_filter=${a}--filter=None--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg`}
function ud(b,a,c){b=Object.create(b);b.i=a[c];return b}function vd(b,a,c){b=Object.create(b);b.i=a[c];return b}function cg(b,a){for(var c,d,f,t,g=new ia({root:b.root,store:b.store,data:{src:a.src,alt:"class activation atlas"}}),m=a.ticks,k=[],q=0;q<m.length;q+=1)k[q]=wd(b,vd(a,m,q));var r=a.ticks,w=[];for(q=0;q<r.length;q+=1)w[q]=xd(b,ud(a,r,q));return{c(){c=l("div");g._fragment.c();d=h("\n\n  ");f=u("svg");for(var a=0;a<k.length;a+=1)k[a].c();t=ka();for(a=0;a<w.length;a+=1)w[a].c();e(f,"viewBox",
"0 0 500 500");e(f,"class","svelte-hfoyhc");c.className="svelte-hfoyhc svelte-ref-root"},m(a,e){a.insertBefore(c,e);g._mount(c,null);c.appendChild(d);c.appendChild(f);for(a=0;a<k.length;a+=1)k[a].m(f,null);f.appendChild(t);for(a=0;a<w.length;a+=1)w[a].m(f,null);b.refs.root=c},p(a,c){var d={};a.src&&(d.src=c.src);g._set(d);if(a.ticks||a.gridSize){m=c.ticks;for(d=0;d<m.length;d+=1){var e=vd(c,m,d);k[d]?k[d].p(a,e):(k[d]=wd(b,e),k[d].c(),k[d].m(f,t))}for(;d<k.length;d+=1)k[d].d(1);k.length=m.length}if(a.ticks||
a.gridSize){r=c.ticks;for(d=0;d<r.length;d+=1)e=ud(c,r,d),w[d]?w[d].p(a,e):(w[d]=xd(b,e),w[d].c(),w[d].m(f,null));for(;d<w.length;d+=1)w[d].d(1);w.length=r.length}},d(a){a&&G(c);g.destroy();ba(k,a);ba(w,a);b.refs.root===c&&(b.refs.root=null)}}}function wd(b,a){var c,d,f;return{c(){c=u("line");e(c,"x2",500);e(c,"y1",d=500*a.i/a.gridSize);e(c,"y2",f=500*a.i/a.gridSize);e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&
d!==(d=500*b.i/b.gridSize)&&e(c,"y1",d);(a.ticks||a.gridSize)&&f!==(f=500*b.i/b.gridSize)&&e(c,"y2",f)},d(a){a&&G(c)}}}function xd(b,a){var c,d,f;return{c(){c=u("line");e(c,"y2",500);e(c,"x1",d=500*a.i/a.gridSize);e(c,"x2",f=500*a.i/a.gridSize);e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){(a.ticks||a.gridSize)&&d!==(d=500*b.i/b.gridSize)&&e(c,"x1",d);(a.ticks||a.gridSize)&&f!==(f=500*b.i/b.gridSize)&&e(c,"x2",f)},d(a){a&&G(c)}}}
function yb(b){N(this,b);this.refs={};this._state=x({root:"https://storage.googleapis.com/activation-atlas/build/class_filter_inceptionv1/render/",classFilter:62,gridSize:8},b.data);this._recompute({gridSize:1,root:1,classFilter:1},this._state);this._intro=!0;this._fragment=cg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function yd(b,a,c){b=Object.create(b);b.c=a[c];return b}function dg(b,a){for(var c,d,f=a.$inceptionLabels[a.currentClass],e,g,m,k,q,r,w,
p,y,C,O=new yb({root:b.root,store:b.store,data:{classFilter:a.currentClass}}),n=a.classes,S=[],B=0;B<n.length;B+=1)S[B]=zd(b,yd(a,n,B));var u=new eb({root:b.root,store:b.store,data:{url:""}});return{c(){c=l("h4");d=h("Class Activation Atlas for \u201c");e=h(f);g=h("\u201d");m=h("\n");k=l("div");q=l("div");O._fragment.c();r=h("\n  ");w=l("div");p=l("div");for(var a=0;a<S.length;a+=1)S[a].c();y=h("\n");C=l("div");u._fragment.c();c.className="svelte-15rolwy";v(q,"position","relative");p.className="chooser svelte-15rolwy";
w.className="chooser-container svelte-15rolwy";k.className="svelte-15rolwy svelte-ref-root";v(C,"margin-top","16px")},m(a,f){a.insertBefore(c,f);c.appendChild(d);c.appendChild(e);c.appendChild(g);a.insertBefore(m,f);a.insertBefore(k,f);k.appendChild(q);O._mount(q,null);k.appendChild(r);k.appendChild(w);w.appendChild(p);for(var t=0;t<S.length;t+=1)S[t].m(p,null);b.refs.root=k;a.insertBefore(y,f);a.insertBefore(C,f);u._mount(C,null)},p(a,c){(a.$inceptionLabels||a.currentClass)&&f!==(f=c.$inceptionLabels[c.currentClass])&&
W(e,f);var d={};a.currentClass&&(d.classFilter=c.currentClass);O._set(d);if(a.currentClass||a.classes||a.$inceptionLabels){n=c.classes;for(d=0;d<n.length;d+=1){let f=yd(c,n,d);S[d]?S[d].p(a,f):(S[d]=zd(b,f),S[d].c(),S[d].m(p,null))}for(;d<S.length;d+=1)S[d].d(1);S.length=n.length}},d(a){a&&(G(c),G(m),G(k));O.destroy();ba(S,a);b.refs.root===k&&(b.refs.root=null);a&&(G(y),G(C));u.destroy()}}}function zd(b,a){function c(){b.set({currentClass:f.__value})}var d,f,t,g,m=a.$inceptionLabels[a.c],k,q,r=a.c,
w,p,y;return{c(){d=l("label");f=l("input");g=h("\n          ");k=h(m);q=h(" (");w=h(r);p=h(")");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=t=a.c;f.value=f.__value;f.className="svelte-15rolwy";d.className=y=(a.currentClass===a.c?"selected":"")+" svelte-15rolwy"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.currentClass;d.appendChild(g);d.appendChild(k);d.appendChild(q);d.appendChild(w);d.appendChild(p)},p(a,b){a.currentClass&&
(f.checked=f.__value===b.currentClass);a.classes&&t!==(t=b.c)&&(f.__value=t);f.value=f.__value;(a.$inceptionLabels||a.classes)&&m!==(m=b.$inceptionLabels[b.c])&&W(k,m);a.classes&&r!==(r=b.c)&&W(w,r);(a.currentClass||a.classes)&&y!==(y=(b.currentClass===b.c?"selected":"")+" svelte-15rolwy")&&(d.className=y)},d(a){a&&G(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),1);f.removeEventListener("change",c,void 0)}}}function Ad(b){N(this,b);this.refs={};this._state=x(x(this.store._init(["inceptionLabels"]),
{layout:0,currentClass:62,classes:[62,7,2,12,80,225,652,233,322,323,378,665,780,804,901,946,992,622,631,643,671,672,507,982,990,677,822,947,348,355,721,582,361,364,737,738,736,744,791,287,235]}),b.data);this.store._add(this,["inceptionLabels"]);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[Ia];this._fragment=dg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function eg({$classComparisons:b,classComparisonIndex:a}){return b[a].left}function fg({$classComparisons:b,
classComparisonIndex:a}){return b[a].right}function Bd(b){let {component:a,ctx:c}=this._svelte;a.set({classComparisonIndex:c.i})}function Cd(b,a,c){b=Object.create(b);b.comparison=a[c];b.i=c;return b}function gg(b,a){var c,d,f,e,g,m=a.$inceptionLabels[a.leftIndex],k,q,r,w,p,y,C,O,n=a.$inceptionLabels[a.rightIndex],S,B,u,z,A=a.showControls&&Dd(b,a),E=new yb({root:b.root,store:b.store,data:{classFilter:a.leftIndex}}),J=new yb({root:b.root,store:b.store,data:{classFilter:a.rightIndex}});return{c(){A&&
A.c();c=h("\n\n");d=l("div");f=l("div");e=l("h4");g=h("\u201c");k=h(m);q=h("\u201d");r=h("\n    ");w=l("div");E._fragment.c();p=h("\n  ");y=l("div");C=l("h4");O=h("\u201c");S=h(n);B=h("\u201d");u=h("\n    ");z=l("div");J._fragment.c();e.className="svelte-a1781g";w.className="atlas";C.className="svelte-a1781g";z.className="atlas";v(d,"display","grid");v(d,"grid-auto-flow","column");v(d,"grid-column-gap","20px");v(d,"grid-auto-columns","1fr")},m(a,b){A&&A.m(a,b);a.insertBefore(c,b);a.insertBefore(d,
b);d.appendChild(f);f.appendChild(e);e.appendChild(g);e.appendChild(k);e.appendChild(q);f.appendChild(r);f.appendChild(w);E._mount(w,null);d.appendChild(p);d.appendChild(y);y.appendChild(C);C.appendChild(O);C.appendChild(S);C.appendChild(B);y.appendChild(u);y.appendChild(z);J._mount(z,null)},p(a,d){d.showControls?A?A.p(a,d):(A=Dd(b,d),A.c(),A.m(c.parentNode,c)):A&&(A.d(1),A=null);(a.$inceptionLabels||a.leftIndex)&&m!==(m=d.$inceptionLabels[d.leftIndex])&&W(k,m);var f={};a.leftIndex&&(f.classFilter=
d.leftIndex);E._set(f);(a.$inceptionLabels||a.rightIndex)&&n!==(n=d.$inceptionLabels[d.rightIndex])&&W(S,n);f={};a.rightIndex&&(f.classFilter=d.rightIndex);J._set(f)},d(a){A&&A.d(a);a&&(G(c),G(d));E.destroy();J.destroy()}}}function Dd(b,a){for(var c,d=a.$classComparisons,f=[],e=0;e<d.length;e+=1)f[e]=Ed(b,Cd(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=ka()},m(a,b){for(var d=0;d<f.length;d+=1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.$classComparisons){d=e.$classComparisons;for(var g=
0;g<d.length;g+=1){let k=Cd(e,d,g);f[g]?f[g].p(a,k):(f[g]=Ed(b,k),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ba(f,a);a&&G(c)}}}function Ed(b,a){var c,d=a.comparison.leftLabel,f,e,g=a.comparison.rightLabel,m;return{c(){c=l("button");f=h(d);e=h(" vs. ");m=h(g);c._svelte={component:b,ctx:a};c.addEventListener("click",Bd,void 0)},m(a,b){a.insertBefore(c,b);c.appendChild(f);c.appendChild(e);c.appendChild(m)},p(b,e){a=e;b.$classComparisons&&d!==(d=a.comparison.leftLabel)&&
W(f,d);b.$classComparisons&&g!==(g=a.comparison.rightLabel)&&W(m,g);c._svelte.ctx=a},d(a){a&&G(c);c.removeEventListener("click",Bd,void 0)}}}function fc(b){N(this,b);this._state=x(x(this.store._init(["classComparisons","inceptionLabels"]),{classComparisonIndex:0,showControls:!0}),b.data);this.store._add(this,["classComparisons","inceptionLabels"]);this._recompute({$classComparisons:1,classComparisonIndex:1},this._state);this._intro=!0;this._handlers.destroy=[Ia];this._fragment=gg(this,this._state);
b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function hg({width:b}){return b}function ig({width:b,margin:a}){return b+a.left+a.right}function jg({height:b,margin:a}){return b+a.top+a.bottom}function kg({width:b}){return b/10}function lg({currentClassComparisonIndex:b,$classComparisons:a}){return a[b]}function Fd(b,a,c){b=Object.create(b);b.annotation=a[c];b.iter=c;return b}function Gd(b,a,c){b=Object.create(b);b.tick=a[c];return b}function Hd(b,a,c){b=Object.create(b);b.tick=
a[c];return b}function mg(b,a){for(var c,d,f,t,g,m,k,q,r,w,p,y,C,O,n=a.comparison.leftLabel,S,B,v,z,A,E=a.comparison.rightLabel,J,U,K,I,ea,L,Q,M,da,R,V,Ga,x,Db,fa,H,T,pa,ha,X,qa,ra,ua,D,N,F,P,la,ja,sa,wa,ma=Z(11),ca=[],va=0;va<ma.length;va+=1)ca[va]=Id(b,Hd(a,ma,va));var ya=Z(11),aa=[];for(va=0;va<ya.length;va+=1)aa[va]=Jd(b,Gd(a,ya,va));var na=a.comparison.annotation&&Kd(b,a);return{c(){c=l("div");d=u("svg");f=u("defs");t=u("marker");g=u("path");m=u("g");k=u("image");w=u("g");p=u("text");y=u("tspan");
C=h("more attributed to ");O=u("tspan");S=h(n);B=u("text");v=u("tspan");z=h("more attributed to ");A=u("tspan");J=h(E);U=u("g");K=u("line");I=u("line");L=u("g");Q=u("g");M=u("line");da=u("line");R=u("text");V=u("tspan");Ga=h("positioned");x=u("tspan");Db=h("by similarity");fa=u("tspan");H=h("(one-dimensional");T=u("tspan");pa=h("t-SNE)");X=u("g");qa=u("line");D=u("line");for(var b=0;b<ca.length;b+=1)ca[b].c();la=ka();for(b=0;b<aa.length;b+=1)aa[b].c();ja=ka();na&&na.c();e(g,"d","M0,0 L0,10 L10,5 z");
e(g,"fill",a.color);e(t,"id","arrow");e(t,"markerWidth","7");e(t,"markerHeight","7");e(t,"refX","10");e(t,"refY","5");e(t,"orient","auto");e(t,"markerUnits","strokeWidth");e(t,"viewBox","0 0 10 10");e(k,"id","comparisonImg");e(k,"width",a.width);e(k,"height",a.height);Ya(k,"xlink:href",q="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+a.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg");
e(k,"alt",r=a.comparison.label);e(y,"x","-10");e(y,"dy","1.3em");e(O,"x","-10");e(O,"dy","1.3em");e(O,"font-weight","bold");e(p,"y","-50");e(p,"text-anchor","end");e(p,"class","svelte-1jr0ob8");e(v,"x","10");e(v,"dy","1.3em");e(A,"x","10");e(A,"dy","1.3em");e(A,"font-weight","bold");e(B,"y","-50");e(B,"class","svelte-1jr0ob8");e(K,"x2","-50");e(K,"transform","translate(-120,0)");e(K,"stroke",a.color);e(K,"marker-end","url(#arrow)");e(I,"x2","50");e(I,"transform","translate(120,0)");e(I,"stroke",a.color);
e(I,"marker-end","url(#arrow)");e(U,"transform","translate(0, -28)");e(w,"transform",ea="translate("+a.width/2+", 0)");e(M,"y2","-50");e(M,"transform","translate(0,-38)");e(M,"stroke",a.color);e(M,"marker-end","url(#arrow)");e(da,"y2","50");e(da,"transform","translate(0,30)");e(da,"stroke",a.color);e(da,"marker-end","url(#arrow)");e(Q,"transform","translate(10, 0)");e(V,"x","0");e(V,"y","-1.8em");e(x,"x","0");e(x,"y","-0.6em");e(fa,"x","0");e(fa,"y","0.6em");e(T,"x","0");e(T,"y","1.8em");e(R,"alignment-baseline",
"middle");e(R,"class","svelte-1jr0ob8");e(L,"transform",ha="translate("+(-a.margin.left+8)+","+a.height/2+")");e(qa,"y1",ra=-a.margin.top+4);e(qa,"y2",ua=a.height+8);e(qa,"stroke","white");e(qa,"stroke-width","5");e(qa,"stroke-opacity","0.6");e(D,"y1",N=-a.margin.top+4);e(D,"y2",F=a.height+8);e(D,"stroke","black");e(X,"transform",P="translate("+a.width/2+", 0)");e(m,"transform",sa="translate("+a.margin.left+","+a.margin.top+")");e(d,"class","overlay svelte-1jr0ob8");e(d,"viewBox",wa="0 0 "+a.outerWidth+
" "+a.outerHeight);c.className="overlay-wrap svelte-1jr0ob8"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);f.appendChild(t);t.appendChild(g);d.appendChild(m);m.appendChild(k);m.appendChild(w);w.appendChild(p);p.appendChild(y);y.appendChild(C);p.appendChild(O);O.appendChild(S);w.appendChild(B);B.appendChild(v);v.appendChild(z);B.appendChild(A);A.appendChild(J);w.appendChild(U);U.appendChild(K);U.appendChild(I);m.appendChild(L);L.appendChild(Q);Q.appendChild(M);Q.appendChild(da);L.appendChild(R);
R.appendChild(V);V.appendChild(Ga);R.appendChild(x);x.appendChild(Db);R.appendChild(fa);fa.appendChild(H);R.appendChild(T);T.appendChild(pa);m.appendChild(X);X.appendChild(qa);X.appendChild(D);for(a=0;a<ca.length;a+=1)ca[a].m(m,null);m.appendChild(la);for(a=0;a<aa.length;a+=1)aa[a].m(m,null);m.appendChild(ja);na&&na.m(m,null)},p(a,c){a.color&&e(g,"fill",c.color);a.width&&e(k,"width",c.width);a.height&&e(k,"height",c.height);a.comparison&&q!==(q="https://storage.googleapis.com/activation-atlas/build/gradients/gradients/gradients--comparison="+
c.comparison.id+"--tries=4--alpha=False--tile_size=10--whiten=true--steps=1024--icon_size=90--grid_size=10--layer=mixed5b--model=InceptionV1--sample_images=1000000--sample_type=random.jpg")&&Ya(k,"xlink:href",q);a.comparison&&r!==(r=c.comparison.label)&&e(k,"alt",r);a.comparison&&n!==(n=c.comparison.leftLabel)&&W(S,n);a.comparison&&E!==(E=c.comparison.rightLabel)&&W(J,E);a.color&&(e(K,"stroke",c.color),e(I,"stroke",c.color));a.width&&ea!==(ea="translate("+c.width/2+", 0)")&&e(w,"transform",ea);a.color&&
(e(M,"stroke",c.color),e(da,"stroke",c.color));(a.margin||a.height)&&ha!==(ha="translate("+(-c.margin.left+8)+","+c.height/2+")")&&e(L,"transform",ha);a.margin&&ra!==(ra=-c.margin.top+4)&&e(qa,"y1",ra);a.height&&ua!==(ua=c.height+8)&&e(qa,"y2",ua);a.margin&&N!==(N=-c.margin.top+4)&&e(D,"y1",N);a.height&&F!==(F=c.height+8)&&e(D,"y2",F);a.width&&P!==(P="translate("+c.width/2+", 0)")&&e(X,"transform",P);if(a.width||a.height){ma=Z(11);for(var f=0;f<ma.length;f+=1){var t=Hd(c,ma,f);ca[f]?ca[f].p(a,t):
(ca[f]=Id(b,t),ca[f].c(),ca[f].m(m,la))}for(;f<ca.length;f+=1)ca[f].d(1);ca.length=ma.length}if(a.width||a.height){ya=Z(11);for(f=0;f<ya.length;f+=1)t=Gd(c,ya,f),aa[f]?aa[f].p(a,t):(aa[f]=Jd(b,t),aa[f].c(),aa[f].m(m,ja));for(;f<aa.length;f+=1)aa[f].d(1);aa.length=ya.length}c.comparison.annotation?na?na.p(a,c):(na=Kd(b,c),na.c(),na.m(m,null)):na&&(na.d(1),na=null);a.margin&&sa!==(sa="translate("+c.margin.left+","+c.margin.top+")")&&e(m,"transform",sa);(a.outerWidth||a.outerHeight)&&wa!==(wa="0 0 "+
c.outerWidth+" "+c.outerHeight)&&e(d,"viewBox",wa)},d(a){a&&G(c);ba(ca,a);ba(aa,a);na&&na.d()}}}function Id(b,a){var c,d;return{c(){c=u("line");e(c,"x2",a.width);e(c,"transform",d="translate(0, "+a.height/10*a.tick+")");e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&e(c,"x2",b.width);a.height&&d!==(d="translate(0, "+b.height/10*b.tick+")")&&e(c,"transform",d)},d(a){a&&G(c)}}}function Jd(b,a){var c,d;return{c(){c=u("line");
e(c,"y2",a.width);e(c,"transform",d="translate("+a.height/10*a.tick+", 0)");e(c,"stroke","black");e(c,"stroke-opacity","0.15");e(c,"stroke-dasharray","2,2")},m(a,b){a.insertBefore(c,b)},p(a,b){a.width&&e(c,"y2",b.width);a.height&&d!==(d="translate("+b.height/10*b.tick+", 0)")&&e(c,"transform",d)},d(a){a&&G(c)}}}function Kd(b,a){for(var c,d=a.comparison.annotation,f=[],e=0;e<d.length;e+=1)f[e]=Ld(b,Fd(a,d,e));return{c(){for(var a=0;a<f.length;a+=1)f[a].c();c=ka()},m(a,b){for(var d=0;d<f.length;d+=
1)f[d].m(a,b);a.insertBefore(c,b)},p(a,e){if(a.comparison||a.cellWidth||a.Math||a.width){d=e.comparison.annotation;for(var g=0;g<d.length;g+=1){let k=Fd(e,d,g);f[g]?f[g].p(a,k):(f[g]=Ld(b,k),f[g].c(),f[g].m(c.parentNode,c))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}},d(a){ba(f,a);a&&G(c)}}}function Ld(b,a){var c,d,f,t,g,m=a.annotation.desc,k,q,r,w,p,y,C,l,n;return{c(){c=u("g");d=u("line");g=u("text");k=h(m);w=u("g");p=u("circle");C=u("circle");e(d,"x1",f=(a.annotation.pos.y+.5)*a.cellWidth+
a.cellWidth/2*a.Math.sqrt(2));e(d,"x2",t=a.width+10);e(d,"stroke","black");e(d,"stroke-opacity","0.4");e(g,"x",q=a.width+20);e(g,"alignment-baseline","middle");e(g,"class","svelte-1jr0ob8");e(c,"transform",r="translate(0, "+(a.annotation.pos.x+.5)*a.cellWidth+")");e(p,"r",y=a.cellWidth/2*a.Math.sqrt(2));e(p,"fill","none");e(p,"stroke","white");e(p,"stroke-opacity","0.5");e(p,"stroke-width","5");e(C,"r",l=a.cellWidth/2*a.Math.sqrt(2));e(C,"fill","none");e(C,"stroke","black");e(C,"stroke-opacity","1");
e(w,"transform",n="translate("+(a.annotation.pos.y+.5)*a.cellWidth+", "+(a.annotation.pos.x+.5)*a.cellWidth+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(g);g.appendChild(k);a.insertBefore(w,b);w.appendChild(p);w.appendChild(C)},p(a,b){(a.comparison||a.cellWidth||a.Math)&&f!==(f=(b.annotation.pos.y+.5)*b.cellWidth+b.cellWidth/2*b.Math.sqrt(2))&&e(d,"x1",f);a.width&&t!==(t=b.width+10)&&e(d,"x2",t);a.comparison&&m!==(m=b.annotation.desc)&&W(k,m);a.width&&q!==(q=b.width+20)&&e(g,"x",
q);(a.comparison||a.cellWidth)&&r!==(r="translate(0, "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&e(c,"transform",r);(a.cellWidth||a.Math)&&y!==(y=b.cellWidth/2*b.Math.sqrt(2))&&e(p,"r",y);(a.cellWidth||a.Math)&&l!==(l=b.cellWidth/2*b.Math.sqrt(2))&&e(C,"r",l);(a.comparison||a.cellWidth)&&n!==(n="translate("+(b.annotation.pos.y+.5)*b.cellWidth+", "+(b.annotation.pos.x+.5)*b.cellWidth+")")&&e(w,"transform",n)},d(a){a&&(G(c),G(w))}}}function kb(b){N(this,b);this._state=x(x(x({Math},this.store._init(["classComparisons"])),
{width:504,selected:0,margin:{top:60,right:80,bottom:40,left:80},color:"#9a9cad",currentClassComparisonIndex:0}),b.data);this.store._add(this,["classComparisons"]);this._recompute({width:1,margin:1,height:1,currentClassComparisonIndex:1,$classComparisons:1},this._state);this._intro=!0;this._handlers.destroy=[Ia];this._fragment=mg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function gc(b,a){if(0>(a=(b=a?b.toExponential(a-1):b.toExponential()).indexOf("e")))return null;
var c=b.slice(0,a);return[1<c.length?c[0]+c.slice(2):c,+b.slice(a+1)]}function ng(b){return b=gc(Math.abs(b)),b?b[1]:NaN}function og(b,a){return function(c,d){for(var f=c.length,e=[],g=0,m=b[0],k=0;0<f&&0<m;){k+m+1>d&&(m=Math.max(1,d-k));e.push(c.substring(f-=m,f+m));if((k+=m+1)>d)break;m=b[g=(g+1)%b.length]}return e.reverse().join(a)}}function pg(b){return function(a){return a.replace(/[0-9]/g,function(a){return b[+a]})}}function Cc(b){return new Dc(b)}function Dc(b){if(!(a=qg.exec(b)))throw Error("invalid format: "+
b);var a;this.fill=a[1]||" ";this.align=a[2]||">";this.sign=a[3]||"-";this.symbol=a[4]||"";this.zero=!!a[5];this.width=a[6]&&+a[6];this.comma=!!a[7];this.precision=a[8]&&+a[8].slice(1);this.trim=!!a[9];this.type=a[10]||""}function Md(b,a){a=gc(b,a);if(!a)return b+"";b=a[0];a=a[1];return 0>a?"0."+Array(-a).join("0")+b:b.length>a+1?b.slice(0,a+1)+"."+b.slice(a+1):b+Array(a-b.length+2).join("0")}function Nd(b){return b}function rg(b){function a(a){function b(a){var b=v,d=z,g,k;if("c"===B)d=A(a)+d,a=
"";else{a=+a;var q=0>a;a=A(Math.abs(a),n);if(h){var r=a.length,p=1,O=-1;a:for(;p<r;++p)switch(a[p]){case ".":O=g=p;break;case "0":0===O&&(O=p);g=p;break;default:if(0<O){if(!+a[p])break a;O=0}}a=0<O?a.slice(0,O)+a.slice(g+1):a}q&&0===+a&&(q=!1);b=(q?"("===w?w:"-":"-"===w||"("===w?"":w)+b;d=("s"===B?Od[8+Pd/3]:"")+d+(q&&"("===w?")":"");if(u)for(q=-1,g=a.length;++q<g;)if(k=a.charCodeAt(q),48>k||57<k){d=(46===k?f+a.slice(q+1):a.slice(q))+d;a=a.slice(0,q);break}}l&&!y&&(a=c(a,Infinity));k=b.length+a.length+
d.length;q=k<C?Array(C-k+1).join(m):"";l&&y&&(a=c(q+a,q.length?C-d.length:Infinity),q="");switch(t){case "<":a=b+a+d+q;break;case "=":a=b+q+a+d;break;case "^":a=q.slice(0,k=q.length>>1)+b+a+d+q.slice(k);break;default:a=q+b+a+d}return e(a)}a=Cc(a);var m=a.fill,t=a.align,w=a.sign,p=a.symbol,y=a.zero,C=a.width,l=a.comma,n=a.precision,h=a.trim,B=a.type;"n"===B?(l=!0,B="g"):Qd[B]||(null==n&&(n=12),h=!0,B="g");if(y||"0"===m&&"="===t)y=!0,m="0",t="=";var v="$"===p?d[0]:"#"===p&&/[boxX]/.test(B)?"0"+B.toLowerCase():
"",z="$"===p?d[1]:/[%p]/.test(B)?g:"",A=Qd[B],u=/[defgprs%]/.test(B);n=null==n?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,n)):Math.max(0,Math.min(20,n));b.toString=function(){return a+""};return b}var c=b.grouping&&b.thousands?og(b.grouping,b.thousands):Nd,d=b.currency,f=b.decimal,e=b.numerals?pg(b.numerals):Nd,g=b.percent||"%";return{format:a,formatPrefix:function(b,c){var d=a((b=Cc(b),b.type="f",b));b=3*Math.max(-8,Math.min(8,Math.floor(ng(c)/3)));var f=Math.pow(10,-b),e=Od[8+b/3];return function(a){return d(f*
a)+e}}}}function Rd(b,a,c){b=Object.create(b);b.row=a[c];b.i=c;return b}function Sd(b,a,c){b=Object.create(b);b.c=a[c];return b}function sg(b,a){for(var c,d=a.classifications,f=[],e=0;e<d.length;e+=1)f[e]=Td(b,Sd(a,d,e));return{c(){c=l("div");for(var b=0;b<f.length;b+=1)f[b].c();c.className="adversarial svelte-1ghs2gk";v(c,"grid-template-columns","repeat("+a.classifications.length+", 1fr)")},m(a,b){a.insertBefore(c,b);for(a=0;a<f.length;a+=1)f[a].m(c,null)},p(a,e){if(a.classifications||a.left||a.right||
a.aspectRatio){d=e.classifications;for(var g=0;g<d.length;g+=1){let k=Sd(e,d,g);f[g]?f[g].p(a,k):(f[g]=Td(b,k),f[g].c(),f[g].m(c,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=d.length}a.classifications&&v(c,"grid-template-columns","repeat("+e.classifications.length+", 1fr)")},d(a){a&&G(c);ba(f,a)}}}function Ud(b,a){var c,d,e=a.i+1,t,g,m,k,q=a.row[0],r,w,p,y=Vd(a.row[1]),C,O,n;return{c(){c=l("tr");d=l("td");t=h(e);g=h(".");m=h("\n          ");k=l("td");r=h(q);w=h("\n          ");p=l("td");C=h(y);
O=h("%");d.className="svelte-1ghs2gk";k.className="svelte-1ghs2gk";p.className="svelte-1ghs2gk";c.className=n=(a.row[0]===a.left?"left":"")+" "+(a.row[0]===a.right?"right":"")+" svelte-1ghs2gk"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(t);d.appendChild(g);c.appendChild(m);c.appendChild(k);k.appendChild(r);c.appendChild(w);c.appendChild(p);p.appendChild(C);p.appendChild(O)},p(a,b){a.classifications&&q!==(q=b.row[0])&&W(r,q);a.classifications&&y!==(y=Vd(b.row[1]))&&W(C,y);(a.classifications||
a.left||a.right)&&n!==(n=(b.row[0]===b.left?"left":"")+" "+(b.row[0]===b.right?"right":"")+" svelte-1ghs2gk")&&(c.className=n)},d(a){a&&G(c)}}}function Td(b,a){for(var c,d,e,t,g,m=a.c.caption,k,q,r=new ia({root:b.root,store:b.store,data:{src:a.c.image,alt:""+a.left+" / "+a.right,aspectRatio:a.aspectRatio}}),w=a.c.rows,p=[],y=0;y<w.length;y+=1)p[y]=Ud(b,Rd(a,w,y));return{c(){c=l("div");r._fragment.c();d=h("\n      ");e=l("table");for(var a=0;a<p.length;a+=1)p[a].c();t=h("\n      ");g=l("div");k=h(m);
q=h("\n    ");e.className="svelte-1ghs2gk";g.className="figcaption"},m(a,b){a.insertBefore(c,b);r._mount(c,null);c.appendChild(d);c.appendChild(e);for(a=0;a<p.length;a+=1)p[a].m(e,null);c.appendChild(t);c.appendChild(g);g.appendChild(k);c.appendChild(q)},p(a,c){var d={};a.classifications&&(d.src=c.c.image);if(a.left||a.right)d.alt=""+c.left+" / "+c.right;a.aspectRatio&&(d.aspectRatio=c.aspectRatio);r._set(d);if(a.classifications||a.left||a.right){w=c.c.rows;for(d=0;d<w.length;d+=1){let f=Rd(c,w,d);
p[d]?p[d].p(a,f):(p[d]=Ud(b,f),p[d].c(),p[d].m(e,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=w.length}a.classifications&&m!==(m=c.c.caption)&&W(k,m)},d(a){a&&G(c);r.destroy();ba(p,a)}}}function hc(b){N(this,b);this._state=x({image:"",left:"",right:"",classifications:[],aspectRatio:1},b.data);this._intro=!0;this._fragment=sg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function tg(b,a){var c,d,e,t,g,m,k,q,r,w,p,y,C=new ia({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D10000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"10,000 activations"}}),O=new ia({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D100000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",alt:"100,000 activations"}}),n=new ia({root:b.root,store:b.store,data:{src:"assets/images/render--x%3D0--y%3D0--tries%3D4--alpha%3DFalse--tile_size%3D20--whiten%3Dtrue--steps%3D1024--icon_size%3D80--grid_size%3D20--layout%3D50_0.05_cosine--class_filter%3DNone--filter%3D1000000--layer%3Dmixed4c--model%3DInceptionV1--sample_images%3D1000000--sample_type%3Drandom.jpg",
alt:"1,000,000 activations"}});return{c(){c=l("div");d=l("div");e=l("h4");e.textContent="10,000 activations";t=h("\n    ");C._fragment.c();g=h("\n  ");m=l("div");k=l("h4");k.textContent="100,000 activations";q=h("\n    ");O._fragment.c();r=h("\n  ");w=l("div");p=l("h4");p.textContent="1,000,000 activations";y=h("\n    ");n._fragment.c();c.className="svelte-fa3qj3 svelte-ref-root"},m(a,f){a.insertBefore(c,f);c.appendChild(d);d.appendChild(e);d.appendChild(t);C._mount(d,null);c.appendChild(g);c.appendChild(m);
m.appendChild(k);m.appendChild(q);O._mount(m,null);c.appendChild(r);c.appendChild(w);w.appendChild(p);w.appendChild(y);n._mount(w,null);b.refs.root=c},p:Y,d(a){a&&G(c);C.destroy();O.destroy();n.destroy();b.refs.root===c&&(b.refs.root=null)}}}function Wd(b){N(this,b);this.refs={};this._state=x({},b.data);this._intro=!0;this._fragment=tg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function ug(b,a){var c,d,e,t,g,m,k,q,r,w,p,y,C,O,n,u=new ia({root:b.root,store:b.store,
data:{src:"assets/images/grid-size-32x32.png",alt:"32 x 32"}}),B=new ia({root:b.root,store:b.store,data:{src:"assets/images/grid-size-8x8.png",alt:"8 x 8"}}),x=new ia({root:b.root,store:b.store,data:{src:"assets/images/grid-size-2x2.png",alt:"2 x 2"}});return{c(){c=l("div");d=l("div");e=l("div");u._fragment.c();t=h("\n      ");g=l("div");g.innerHTML="<b>32 x 32</b> When the grid is too small, the feature visualizations are too small to see.";m=h("\n  ");k=l("div");q=l("div");B._fragment.c();r=h("\n      ");
w=l("div");w.innerHTML="<b>8 x 8</b> When just right, the activation atlas shows all the concepts with feature visualizations that are big enough to see.";p=h("\n  ");y=l("div");C=l("div");x._fragment.c();O=h("\n      ");n=l("div");n.innerHTML="<b>2 x 2</b> When the grid is too big, concepts are lost in the averages. One sees less diversity within related concepts.";e.className="atlas";g.className="figcaption svelte-dmx176";q.className="atlas";w.className="figcaption svelte-dmx176";C.className="atlas";
n.className="figcaption svelte-dmx176";v(c,"display","grid");v(c,"grid-auto-flow","column");v(c,"grid-column-gap","20px");v(c,"grid-auto-columns","1fr")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);u._mount(e,null);d.appendChild(t);d.appendChild(g);c.appendChild(m);c.appendChild(k);k.appendChild(q);B._mount(q,null);k.appendChild(r);k.appendChild(w);c.appendChild(p);c.appendChild(y);y.appendChild(C);x._mount(C,null);y.appendChild(O);y.appendChild(n)},p:Y,d(a){a&&G(c);u.destroy();B.destroy();
x.destroy()}}}function Xd(b){N(this,b);this._state=x({},b.data);this._intro=!0;this._fragment=ug(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function vg({inputWidth:b,columnWidth:a,columnMargin:c}){return 2*b+3*a+4*c}function wg({inputWidth:b}){return b+40}function xg({timerCount:b,numCells:a}){return Math.round(b)%(a*a)}function yg({clippedCount:b,numCells:a}){return b%a}function zg({clippedCount:b,numCells:a}){return Math.floor(b/a)}function Ag({inputWidth:b,
numCells:a,cellPadding:c}){return(b+c)/a-c}function Bg({numCells:b,windowSize:a}){return b+a-1}function Cg({inputWidth:b,numInputCells:a,cellPadding:c}){return(b+c)/a-c}function Dg({numCells:b}){return Z(b).map((a)=>Z(b).map((a)=>Z(6).map((a)=>Math.random()-.5)))}function Yd(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.y*c.numCells+c.x})}function Zd(b,a,c){b=Object.create(b);b.x=a[c];return b}function $d(b,a,c){b=Object.create(b);b.y=a[c];return b}function ae(b,a,c){b=Object.create(b);
b.activation=a[c];b.i=c;return b}function be(b){let {component:a,ctx:c}=this._svelte;a.set({timerCount:c.Math.min(c.numCells-1,c.Math.max(0,c.y-c.windowSize+2))*c.numCells+c.Math.min(c.numCells-1,c.Math.max(0,c.x-c.windowSize+2))})}function ce(b,a,c){b=Object.create(b);b.x=a[c];return b}function de(b,a,c){b=Object.create(b);b.y=a[c];return b}function Eg(b,a){function c(a){b.set({timerCount:47})}var d,f,t,g,m,k,q,r,w,p,y,C,O,n,S,B,x,z,A,E,J,U,K,I,ea,L,Q,M,da,R,V,Ga,Ua,D,fa,N,T,pa,ha,X,qa,ra,H,F,P,
la,W,vb,ja,sa,wa,ma,ca,va,ya,aa,na,Da,Ea,za,Ba,Ca,Va,Qa,Za,xa,Y,Ra,Aa,$a,Ib,wb,ia,Pa,ka,Xa,ta,Fa,Sa,oa,mb,Wa,lb,Oa,ab,Ha,nb,ob,pb,qb,xb,tb={};if(void 0!==a.onscreen){tb.onscreen=a.onscreen;var Ia=!0}var bb=new zc({root:b.root,store:b.store,data:tb,_bind(a,c){var d={};!Ia&&a.onscreen&&(d.onscreen=c.onscreen);b._set(d);Ia=void 0}});b.root._beforecreate.push(()=>{bb._bind({onscreen:1},bb.get())});bb.on("onscreen",function(a){b.set({timerCount:47})});for(var Ta=Z(a.numInputCells),Ja=[],Ka=0;Ka<Ta.length;Ka+=
1)Ja[Ka]=ee(b,de(a,Ta,Ka));var gb=a.activations[a.windowX][a.windowY],La=[];for(Ka=0;Ka<gb.length;Ka+=1)La[Ka]=fe(b,ae(a,gb,Ka));var hb=Z(a.numCells),Ma=[];for(Ka=0;Ka<hb.length;Ka+=1)Ma[Ka]=ge(b,$d(a,hb,Ka));var ub=new eb({root:b.root,store:b.store,data:{url:"https://colab.sandbox.google.com/github/tensorflow/lucid/blob/master/notebooks/building-blocks/ActivationGrid.ipynb"}});return{c(){d=l("div");bb._fragment.c();f=h("\n\n  ");t=u("svg");g=u("clipPath");m=u("rect");r=u("clipPath");w=u("rect");
n=u("g");S=u("g");B=u("text");x=h("Input image");z=u("image");for(var b=0;b<Ja.length;b+=1)Ja[b].c();A=u("rect");I=u("g");ea=u("path");M=u("text");da=h("Image patch");R=u("g");V=u("image");Ua=u("rect");D=u("text");fa=u("tspan");N=h("Overlapping patches");T=u("tspan");pa=h("of the input image are");ha=u("tspan");X=h("evaluated one by one.");H=u("g");F=u("path");W=u("text");vb=h("Activations");for(b=0;b<La.length;b+=1)La[b].c();ja=u("text");sa=u("tspan");wa=h("We record a single ");ma=u("tspan");ca=
h("activation value for each ");va=u("tspan");ya=h("of the 512 neurons.");aa=u("tspan");na=h("(values shown are mocked)");za=u("g");Ba=u("path");Qa=u("text");Za=h("Feature visualization");xa=u("g");Y=u("image");Aa=u("rect");$a=u("text");Ib=u("tspan");wb=h("We then produce a  ");ia=u("tspan");Pa=h("feature visualization");ka=u("tspan");Xa=h("and place them on a grid.");Sa=u("g");oa=u("path");lb=u("text");Oa=h("Activation grid");ab=u("image");for(b=0;b<Ma.length;b+=1)Ma[b].c();Ha=u("rect");xb=h("\n  ");
ub._fragment.c();e(m,"x",k=a.windowX*a.cellWidth);e(m,"y",q=a.windowY*a.cellWidth);e(m,"width",a.cellWidth);e(m,"height",a.cellWidth);e(g,"id","activationGridClipRect");e(w,"x",p=a.windowX*a.inputCellWidth);e(w,"y",y=a.windowY*a.inputCellWidth);e(w,"width",C=a.inputCellWidth*a.windowSize);e(w,"height",O=a.inputCellWidth*a.windowSize);e(r,"id","activationGridClipRectInput");e(B,"class","head svelte-qwhwb1");e(B,"dy","-13");Ya(z,"xlink:href","assets/images/dogcat.jpg");e(z,"width",a.inputWidth);e(z,
"height",a.inputWidth);e(A,"stroke","rgb(255, 170, 0)");e(A,"pointer-events","none");e(A,"stroke-width","2");e(A,"fill-opacity","0");e(A,"x",E=a.windowX*a.inputCellWidth);e(A,"y",J=a.windowY*a.inputCellWidth);e(A,"width",U=a.inputCellWidth*a.windowSize);e(A,"height",K=a.inputCellWidth*a.windowSize);e(S,"transform","translate(0, 0)");e(ea,"class","arrow svelte-qwhwb1");e(ea,"transform",L="translate(0,"+a.columnWidth/2+")");e(ea,"d",Q="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");
e(M,"class","head svelte-qwhwb1");e(M,"dy","-13");e(V,"image-rendering","pixelated");Ya(V,"xlink:href","assets/images/dogcat.jpg");e(V,"width",a.inputWidth);e(V,"height",a.inputWidth);e(V,"clip-path","url(#activationGridClipRectInput)");e(R,"transform",Ga="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")");e(Ua,"stroke","rgb(255, 170, 0)");e(Ua,"stroke-width","4");e(Ua,"fill-opacity","0");e(Ua,"width",a.columnWidth);
e(Ua,"height",a.columnWidth);e(fa,"x","0");e(fa,"dy","1.4em");e(T,"x","0");e(T,"dy","1.4em");e(ha,"x","0");e(ha,"dy","1.4em");e(D,"class","figcaption svelte-qwhwb1");e(D,"transform",qa="translate(0, "+(a.columnWidth+10)+")");e(I,"transform",ra="translate("+(a.inputWidth+a.columnMargin)+", 0)");e(F,"class","arrow svelte-qwhwb1");e(F,"transform",P="translate(0,"+a.columnWidth/2+")");e(F,"d",la="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(W,"class","head svelte-qwhwb1");
e(W,"dy","-13");e(sa,"x","0");e(sa,"dy","1.4em");e(ma,"x","0");e(ma,"dy","1.4em");e(va,"x","0");e(va,"dy","1.4em");e(aa,"x","0");e(aa,"dy","1.4em");e(ja,"class","figcaption svelte-qwhwb1");e(ja,"transform",Da="translate(0, "+(a.columnWidth+10)+")");e(H,"transform",Ea="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+", 0)");e(Ba,"class","arrow svelte-qwhwb1");e(Ba,"transform",Ca="translate(0,"+a.columnWidth/2+")");e(Ba,"d",Va="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+
",0 m-5,-5 l5,5 l-5,5");e(Qa,"class","head svelte-qwhwb1");e(Qa,"dy","-13");e(Y,"image-rendering","pixelated");Ya(Y,"xlink:href","assets/images/dogcat-grid.jpg");e(Y,"width",a.inputWidth);e(Y,"height",a.inputWidth);e(Y,"clip-path","url(#activationGridClipRect)");e(xa,"transform",Ra="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")");e(Aa,"stroke","#ff6600");e(Aa,"stroke-width","4");e(Aa,"fill-opacity","0");e(Aa,"width",a.columnWidth);e(Aa,"height",
a.columnWidth);e(Ib,"x","0");e(Ib,"dy","1.4em");e(ia,"x","0");e(ia,"dy","1.4em");e(ka,"x","0");e(ka,"dy","1.4em");e($a,"class","figcaption svelte-qwhwb1");e($a,"transform",ta="translate(0, "+(a.columnWidth+10)+")");e(za,"transform",Fa="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)");e(oa,"class","arrow svelte-qwhwb1");e(oa,"transform",mb="translate(0,"+a.columnWidth/2+")");e(oa,"d",Wa="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5");e(lb,
"class","head svelte-qwhwb1");e(lb,"dy","-13");Ya(ab,"xlink:href","assets/images/dogcat-grid.jpg");e(ab,"width",a.inputWidth);e(ab,"height",a.inputWidth);e(Ha,"stroke","#ff6600");e(Ha,"pointer-events","none");e(Ha,"stroke-width","2");e(Ha,"fill-opacity","0");e(Ha,"x",nb=a.windowX*a.cellWidth);e(Ha,"y",ob=a.windowY*a.cellWidth);e(Ha,"width",a.cellWidth);e(Ha,"height",a.cellWidth);e(Sa,"transform",pb="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)");e(n,"transform",
"translate(0, 30)");v(t,"width","100%");e(t,"viewBox",qb="0 0 "+a.width+" "+a.height);d.addEventListener("mouseout",c,void 0);v(d,"position","relative");v(d,"background","white");v(d,"text-align","right")},m(a,b){a.insertBefore(d,b);bb._mount(d,null);d.appendChild(f);d.appendChild(t);t.appendChild(g);g.appendChild(m);t.appendChild(r);r.appendChild(w);t.appendChild(n);n.appendChild(S);S.appendChild(B);B.appendChild(x);S.appendChild(z);for(a=0;a<Ja.length;a+=1)Ja[a].m(S,null);S.appendChild(A);n.appendChild(I);
I.appendChild(ea);I.appendChild(M);M.appendChild(da);I.appendChild(R);R.appendChild(V);I.appendChild(Ua);I.appendChild(D);D.appendChild(fa);fa.appendChild(N);D.appendChild(T);T.appendChild(pa);D.appendChild(ha);ha.appendChild(X);n.appendChild(H);H.appendChild(F);H.appendChild(W);W.appendChild(vb);for(a=0;a<La.length;a+=1)La[a].m(H,null);H.appendChild(ja);ja.appendChild(sa);sa.appendChild(wa);ja.appendChild(ma);ma.appendChild(ca);ja.appendChild(va);va.appendChild(ya);ja.appendChild(aa);aa.appendChild(na);
n.appendChild(za);za.appendChild(Ba);za.appendChild(Qa);Qa.appendChild(Za);za.appendChild(xa);xa.appendChild(Y);za.appendChild(Aa);za.appendChild($a);$a.appendChild(Ib);Ib.appendChild(wb);$a.appendChild(ia);ia.appendChild(Pa);$a.appendChild(ka);ka.appendChild(Xa);n.appendChild(Sa);Sa.appendChild(oa);Sa.appendChild(lb);lb.appendChild(Oa);Sa.appendChild(ab);for(a=0;a<Ma.length;a+=1)Ma[a].m(Sa,null);Sa.appendChild(Ha);d.appendChild(xb);ub._mount(d,null)},p(c,d){a=d;d={};!Ia&&c.onscreen&&(d.onscreen=
a.onscreen,Ia=void 0!==a.onscreen);bb._set(d);Ia=void 0;(c.windowX||c.cellWidth)&&k!==(k=a.windowX*a.cellWidth)&&e(m,"x",k);(c.windowY||c.cellWidth)&&q!==(q=a.windowY*a.cellWidth)&&e(m,"y",q);c.cellWidth&&(e(m,"width",a.cellWidth),e(m,"height",a.cellWidth));(c.windowX||c.inputCellWidth)&&p!==(p=a.windowX*a.inputCellWidth)&&e(w,"x",p);(c.windowY||c.inputCellWidth)&&y!==(y=a.windowY*a.inputCellWidth)&&e(w,"y",y);(c.inputCellWidth||c.windowSize)&&C!==(C=a.inputCellWidth*a.windowSize)&&e(w,"width",C);
(c.inputCellWidth||c.windowSize)&&O!==(O=a.inputCellWidth*a.windowSize)&&e(w,"height",O);c.inputWidth&&(e(z,"width",a.inputWidth),e(z,"height",a.inputWidth));if(c.numInputCells||c.windowX||c.windowSize||c.windowY||c.inputCellWidth||c.cellPadding||c.Math||c.numCells){Ta=Z(a.numInputCells);for(d=0;d<Ta.length;d+=1){var f=de(a,Ta,d);Ja[d]?Ja[d].p(c,f):(Ja[d]=ee(b,f),Ja[d].c(),Ja[d].m(S,A))}for(;d<Ja.length;d+=1)Ja[d].d(1);Ja.length=Ta.length}(c.windowX||c.inputCellWidth)&&E!==(E=a.windowX*a.inputCellWidth)&&
e(A,"x",E);(c.windowY||c.inputCellWidth)&&J!==(J=a.windowY*a.inputCellWidth)&&e(A,"y",J);(c.inputCellWidth||c.windowSize)&&U!==(U=a.inputCellWidth*a.windowSize)&&e(A,"width",U);(c.inputCellWidth||c.windowSize)&&K!==(K=a.inputCellWidth*a.windowSize)&&e(A,"height",K);c.columnWidth&&L!==(L="translate(0,"+a.columnWidth/2+")")&&e(ea,"transform",L);c.columnMargin&&Q!==(Q="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(ea,"d",Q);c.inputWidth&&(e(V,"width",a.inputWidth),e(V,"height",
a.inputWidth));(c.columnWidth||c.inputCellWidth||c.windowSize||c.windowX||c.windowY)&&Ga!==(Ga="scale("+a.columnWidth/(a.inputCellWidth*a.windowSize)+")translate(-"+a.windowX*a.inputCellWidth+", -"+a.windowY*a.inputCellWidth+")")&&e(R,"transform",Ga);c.columnWidth&&(e(Ua,"width",a.columnWidth),e(Ua,"height",a.columnWidth));c.columnWidth&&qa!==(qa="translate(0, "+(a.columnWidth+10)+")")&&e(D,"transform",qa);(c.inputWidth||c.columnMargin)&&ra!==(ra="translate("+(a.inputWidth+a.columnMargin)+", 0)")&&
e(I,"transform",ra);c.columnWidth&&P!==(P="translate(0,"+a.columnWidth/2+")")&&e(F,"transform",P);c.columnMargin&&la!==(la="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(F,"d",la);if(c.activations||c.columnWidth||c.inputWidth||c.windowX||c.windowY){gb=a.activations[a.windowX][a.windowY];for(d=0;d<gb.length;d+=1)f=ae(a,gb,d),La[d]?La[d].p(c,f):(La[d]=fe(b,f),La[d].c(),La[d].m(H,ja));for(;d<La.length;d+=1)La[d].d(1);La.length=gb.length}c.columnWidth&&Da!==(Da="translate(0, "+
(a.columnWidth+10)+")")&&e(ja,"transform",Da);(c.inputWidth||c.columnMargin||c.columnWidth)&&Ea!==(Ea="translate("+(a.inputWidth+a.columnMargin+a.columnWidth+a.columnMargin)+", 0)")&&e(H,"transform",Ea);c.columnWidth&&Ca!==(Ca="translate(0,"+a.columnWidth/2+")")&&e(Ba,"transform",Ca);c.columnMargin&&Va!==(Va="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(Ba,"d",Va);c.inputWidth&&(e(Y,"width",a.inputWidth),e(Y,"height",a.inputWidth));(c.columnWidth||c.cellWidth||c.windowX||
c.windowY)&&Ra!==(Ra="scale("+a.columnWidth/a.cellWidth+")translate(-"+a.windowX*a.cellWidth+", -"+a.windowY*a.cellWidth+")")&&e(xa,"transform",Ra);c.columnWidth&&(e(Aa,"width",a.columnWidth),e(Aa,"height",a.columnWidth));c.columnWidth&&ta!==(ta="translate(0, "+(a.columnWidth+10)+")")&&e($a,"transform",ta);(c.inputWidth||c.columnMargin||c.columnWidth)&&Fa!==(Fa="translate("+(a.inputWidth+a.columnMargin+2*(a.columnWidth+a.columnMargin))+", 0)")&&e(za,"transform",Fa);c.columnWidth&&mb!==(mb="translate(0,"+
a.columnWidth/2+")")&&e(oa,"transform",mb);c.columnMargin&&Wa!==(Wa="M"+-2*a.columnMargin/3+",0 L"+-a.columnMargin/3+",0 m-5,-5 l5,5 l-5,5")&&e(oa,"d",Wa);c.inputWidth&&(e(ab,"width",a.inputWidth),e(ab,"height",a.inputWidth));if(c.numCells||c.windowY||c.windowX||c.cellWidth||c.cellPadding){hb=Z(a.numCells);for(d=0;d<hb.length;d+=1)f=$d(a,hb,d),Ma[d]?Ma[d].p(c,f):(Ma[d]=ge(b,f),Ma[d].c(),Ma[d].m(Sa,Ha));for(;d<Ma.length;d+=1)Ma[d].d(1);Ma.length=hb.length}(c.windowX||c.cellWidth)&&nb!==(nb=a.windowX*
a.cellWidth)&&e(Ha,"x",nb);(c.windowY||c.cellWidth)&&ob!==(ob=a.windowY*a.cellWidth)&&e(Ha,"y",ob);c.cellWidth&&(e(Ha,"width",a.cellWidth),e(Ha,"height",a.cellWidth));(c.inputWidth||c.columnMargin||c.columnWidth)&&pb!==(pb="translate("+(a.inputWidth+a.columnMargin+3*(a.columnWidth+a.columnMargin))+", 0)")&&e(Sa,"transform",pb);(c.width||c.height)&&qb!==(qb="0 0 "+a.width+" "+a.height)&&e(t,"viewBox",qb)},d(a){a&&G(d);bb.destroy();ba(Ja,a);ba(La,a);ba(Ma,a);ub.destroy();d.removeEventListener("mouseout",
c,void 0)}}}function he(b,a){var c,d,f,t;return{c(){c=u("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",be,void 0);e(c,"stroke","white");e(c,"fill","#aaa");e(c,"fill-opacity",d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5);e(c,"stroke-opacity","0.2");e(c,"stroke-width","1");e(c,"x",f=a.x*(a.inputCellWidth+a.cellPadding));e(c,"y",t=a.y*(a.inputCellWidth+a.cellPadding));e(c,"width",a.inputCellWidth);e(c,"height",a.inputCellWidth)},
m(a,b){a.insertBefore(c,b)},p(b,m){a=m;c._svelte.ctx=a;(b.numInputCells||b.windowX||b.windowSize||b.windowY)&&d!==(d=a.x>=a.windowX&&a.x<a.windowX+a.windowSize&&a.y>=a.windowY&&a.y<a.windowY+a.windowSize?.01:.5)&&e(c,"fill-opacity",d);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&f!==(f=a.x*(a.inputCellWidth+a.cellPadding))&&e(c,"x",f);(b.numInputCells||b.inputCellWidth||b.cellPadding)&&t!==(t=a.y*(a.inputCellWidth+a.cellPadding))&&e(c,"y",t);b.inputCellWidth&&(e(c,"width",a.inputCellWidth),
e(c,"height",a.inputCellWidth))},d(a){a&&G(c);c.removeEventListener("mouseover",be,void 0)}}}function ee(b,a){for(var c,d=Z(a.numInputCells),e=[],t=0;t<d.length;t+=1)e[t]=he(b,ce(a,d,t));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ka()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numInputCells||a.windowX||a.windowSize||a.windowY||a.inputCellWidth||a.cellPadding||a.Math||a.numCells){d=Z(f.numInputCells);for(var g=0;g<d.length;g+=1){let k=ce(f,d,g);e[g]?e[g].p(a,
k):(e[g]=he(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){ba(e,a);a&&G(c)}}}function ie(b,a){var c,d,f,t,g,m;return{c(){c=u("g");d=u("text");f=h("\u2026");t=u("line");e(d,"transform","rotate(90)translate(-7, -25)");e(d,"font-size","11");e(t,"y1","7");e(t,"y2","7");e(t,"stroke","#eee");e(t,"x2",g=2*a.inputWidth/3-20);e(c,"transform",m="translate(0,"+(20+20*(a.activations[0][0].length-1))+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);
c.appendChild(t)},p(a,b){a.inputWidth&&g!==(g=2*b.inputWidth/3-20)&&e(t,"x2",g);a.activations&&m!==(m="translate(0,"+(20+20*(b.activations[0][0].length-1))+")")&&e(c,"transform",m)},d(a){a&&G(c)}}}function fe(b,a){var c,d,f,t=a.i===a.activations[0][0].length-1?512:a.i,g,m,k,q=je(a.activation),r,w,p,y,l=a.i!==a.activations[a.windowX][a.windowY].length-1&&ie(b,a);return{c(){l&&l.c();c=u("g");d=u("text");f=h("neuron ");g=h(t);m=h(":");k=u("text");r=h(q);p=u("line");e(d,"font-size","11");e(d,"fill","#999");
e(d,"dy","");e(k,"text-anchor","end");e(k,"font-size","11");e(k,"font-family","monospace");e(k,"dx",w=2*a.inputWidth/3-20);e(p,"y1","7");e(p,"y2","7");e(p,"stroke","#eee");e(p,"x2",a.columnWidth);e(c,"transform",y="translate(0,"+(a.i===a.activations[0][0].length-1?20+20*(a.i+1):20+20*a.i)+")")},m(a,b){l&&l.m(a,b);a.insertBefore(c,b);c.appendChild(d);d.appendChild(f);d.appendChild(g);d.appendChild(m);c.appendChild(k);k.appendChild(r);c.appendChild(p)},p(a,d){d.i!==d.activations[d.windowX][d.windowY].length-
1?l?l.p(a,d):(l=ie(b,d),l.c(),l.m(c.parentNode,c)):l&&(l.d(1),l=null);a.activations&&t!==(t=d.i===d.activations[0][0].length-1?512:d.i)&&W(g,t);(a.activations||a.windowX||a.windowY)&&q!==(q=je(d.activation))&&W(r,q);a.inputWidth&&w!==(w=2*d.inputWidth/3-20)&&e(k,"dx",w);a.columnWidth&&e(p,"x2",d.columnWidth);a.activations&&y!==(y="translate(0,"+(d.i===d.activations[0][0].length-1?20+20*(d.i+1):20+20*d.i)+")")&&e(c,"transform",y)},d(a){l&&l.d(a);a&&G(c)}}}function ke(b,a){var c,d,f,t;return{c(){c=
u("rect");c._svelte={component:b,ctx:a};c.addEventListener("mouseover",Yd,void 0);e(c,"stroke","#ddd");e(c,"fill","#aaa");e(c,"fill-opacity",d=a.y===a.windowY&&a.x===a.windowX?.01:.5);e(c,"stroke-width","1");e(c,"x",f=a.x*(a.cellWidth+a.cellPadding));e(c,"y",t=a.y*(a.cellWidth+a.cellPadding));e(c,"width",a.cellWidth);e(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(b,m){a=m;c._svelte.ctx=a;(b.numCells||b.windowY||b.windowX)&&d!==(d=a.y===a.windowY&&a.x===a.windowX?.01:.5)&&e(c,"fill-opacity",
d);(b.numCells||b.cellWidth||b.cellPadding)&&f!==(f=a.x*(a.cellWidth+a.cellPadding))&&e(c,"x",f);(b.numCells||b.cellWidth||b.cellPadding)&&t!==(t=a.y*(a.cellWidth+a.cellPadding))&&e(c,"y",t);b.cellWidth&&(e(c,"width",a.cellWidth),e(c,"height",a.cellWidth))},d(a){a&&G(c);c.removeEventListener("mouseover",Yd,void 0)}}}function ge(b,a){for(var c,d=Z(a.numCells),e=[],t=0;t<d.length;t+=1)e[t]=ke(b,Zd(a,d,t));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ka()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,
b);a.insertBefore(c,b)},p(a,f){if(a.numCells||a.windowY||a.windowX||a.cellWidth||a.cellPadding){d=Z(f.numCells);for(var g=0;g<d.length;g+=1){let k=Zd(f,d,g);e[g]?e[g].p(a,k):(e[g]=ke(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){ba(e,a);a&&G(c)}}}function Ec(b){N(this,b);this._state=x(x({Math},{paused:!0,inputWidth:250,columnWidth:150,columnMargin:50,numCells:14,cellPadding:0,windowSize:3,windowX:0,windowY:0,activations:Z,timerCount:47}),b.data);this._recompute({inputWidth:1,
columnWidth:1,columnMargin:1,timerCount:1,numCells:1,clippedCount:1,cellPadding:1,windowSize:1,numInputCells:1},this._state);this._intro=!0;this._fragment=Eg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Fc(){}function ic(b){for(var a,c,d=1,e=arguments.length;d<e;d++)for(a in c=arguments[d],c)b[a]=c[a];return b}function le(b){this.destroy=Fc;this.fire("destroy");this.set=this.get=Fc;!1!==b&&this._fragment.u();this._fragment.d();this._fragment=this._state=
null}function me(b,a,c,d,e){for(var f in a)if(c[f]){var g=d[f],m=e[f],k=a[f];if(k)for(var q=0;q<k.length;q+=1){var r=k[q];r.__calling||(r.__calling=!0,r.call(b,g,m),r.__calling=!1)}}}function jc(b){for(;b&&b.length;)b.shift()()}function Fg(b,a){return a?a:b}function Gg(){let b=(a)=>{this.set({loaded:!0});var {img:a}=this.get();a.removeEventListener("loaded",b)};this.observe("index",(a)=>{this.draw()},{init:!1});this.observe("img",(a)=>{this.draw()},{init:!1});this.observe("loaded",(a)=>{this.draw()},
{init:!1});this.observe("url",(a)=>{let c=this.get("img");c&&c.removeEventListener("load",b);if(Gc.has(a))a=Gc.get(a),a.loaded?this.set({loaded:!0,img:a.img}):(this.set({loaded:!1,img:a.img}),a.img.addEventListener("load",b));else{let c=new Image;this.set({loaded:!1,img:c});let e={img:c},t=(a)=>{e.loaded=!0;c.removeEventListener("load",t)};c.addEventListener("load",t);c.addEventListener("load",b);Gc.set(a,e);c.src=a}})}function Hg(b,a){var c;return{c:function(){c=document.createElement("canvas");
this.h()},h:function(){c.width=a.width;c.height=a.realHeight},m:function(a,e){a.insertBefore(c,e);b.refs.canvas=c},p:function(a,b){a.width&&(c.width=b.width);a.realHeight&&(c.height=b.realHeight)},u:function(){c.parentNode.removeChild(c)},d:function(){b.refs.canvas===c&&(b.refs.canvas=null)}}}function ne(b){this._observers={pre:Object.create(null),post:Object.create(null)};this._handlers=Object.create(null);this._bind=b._bind;this.options=b;this.root=b.root||this;this.store=this.root.store||b.store;
this.refs={};this._state=ic({url:"",index:0,width:100,loaded:null,columns:Infinity,height:null,img:null},b.data);this._recompute({width:1,height:1},this._state);var a=Gg.bind(this);b.root||(this._oncreate=[]);this._fragment=Hg(this,this._state);this.root._oncreate.push(a);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),jc(this._oncreate))}function oe(b){return new Function("d","return {"+b.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function Ig(b,a){var c=
oe(b);return function(d,e){return a(c(d),e,b)}}function Jg(b){var a=Object.create(null),c=[];b.forEach(function(b){for(var d in b)d in a||c.push(a[d]=d)});return c}function pe(b){function a(a,b){function c(){if(l)return Hc;if(h)return h=!1,qe;var b,c=f,d;if(34===a.charCodeAt(c)){for(;f++<e&&34!==a.charCodeAt(f)||34===a.charCodeAt(++f););(b=f)>=e?l=!0:10===(d=a.charCodeAt(f++))?h=!0:13===d&&(h=!0,10===a.charCodeAt(f)&&++f);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;f<e;){if(10===(d=a.charCodeAt(b=
f++)))h=!0;else if(13===d)h=!0,10===a.charCodeAt(f)&&++f;else if(d!==t)continue;return a.slice(c,b)}return l=!0,a.slice(c,e)}var d=[],e=a.length,f=0,g=0,m,l=0>=e,h=!1;10===a.charCodeAt(e-1)&&--e;for(13===a.charCodeAt(e-1)&&--e;(m=c())!==Hc;){for(var n=[];m!==qe&&m!==Hc;)n.push(m),m=c();b&&null==(n=b(n,g++))||d.push(n)}return d}function c(a){return a.map(d).join(b)}function d(a){return null==a?"":e.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}var e=new RegExp('["'+b+"\n\r]"),t=b.charCodeAt(0);return{parse:function(b,
c){var d,e;b=a(b,function(a,b){if(d)return d(a,b-1);e=a;d=c?Ig(a,c):oe(a)});b.columns=e||[];return b},parseRows:a,format:function(a,c){null==c&&(c=Jg(a));return[c.map(d).join(b)].concat(a.map(function(a){return c.map(function(b){return d(a[b])}).join(b)})).join("\n")},formatRows:function(a){return a.map(c).join("\n")}}}function re(b){if(b.ok)return b;throw Error(b.status+":"+b.statusText);}function kc(b){return new Promise((a,c)=>{let d=new Image;d.onload=(b)=>a(d);d.onerror=(a)=>c(a);d.src=b})}function lc(b){return fetch(b).then(re).then((a)=>
a.text())}function mc(b,a){a=null!=a?a:Date.now()+""+Math.random();let c="namespace:"+a+", url:"+b+", random:"+Date.now()+Math.random();nc.set(c,!1);if(Ic.has(a)){let b=Ic.get(a);nc.set(b,!0)}Ic.set(a,c);return new Promise((a,e)=>{if(Array.isArray(b)){var d=b.map((a)=>se(a));d=Promise.all(d)}else d=se(b);d.then((b)=>{nc.get(c)||a(b)}).catch((a)=>{nc.get(c)||e(a)})})}function se(b){if(Jc.has(b))return Jc.get(b);var a=te;var c=b.split(".");c=c[c.length-1];a.has(c)||console.warn("Trying to load url: "+
b+' with an unknown filetype. Assuming "text".');a=a.has(c)?c:"text";a=te.get(a)(b);Jc.set(b,a);return a}function Kg({width:b,columnPadding:a}){return(b+a)/3-a}function Lg({columnWidth:b,inputPadding:a}){return(b+a)/3-a}function Mg({inputWidth:b,numCells:a,cellPadding:c}){return(b+c)/a-c}function Ng({columnWidth:b,numIcons:a}){return b/a}function ue(b,a,c,d){return`M${b},${a} L${b+10},${a} L${b+40},${d} L${c},${d} m-5,-5 l5,5 l-5,5`}function Og(){console.log("loading");let {dataURL:b,webURL:a}=this.get();
mc([b,a]).then((a)=>{this.set({layoutData:a[0].slice(0,1E4),webData:a[1]})})}function ve(b,a,c){b=Object.create(b);b.x=a[c];return b}function we(b,a,c){b=Object.create(b);b.y=a[c];return b}function xe(b,a,c){b=Object.create(b);b.icon=a[c];return b}function ye(b,a,c){b=Object.create(b);b.x=a[c];return b}function ze(b,a,c){b=Object.create(b);b.y=a[c];return b}function Ae(b,a,c){b=Object.create(b);b.input=a[c];b.i=c;return b}function Be(b,a,c){b=Object.create(b);b.point=a[c];return b}function Pg(b,a){for(var c,
d,f,t,g,m,k,q,r,w,p,y,C,O,n,S,B,x,z,A,E,J,U,K,I,ea,L,Q=a.layoutData,M=[],da=0;da<Q.length;da+=1)M[da]=Ce(b,Be(a,Q,da));var R=a.inputs,V=[];for(da=0;da<R.length;da+=1)V[da]=De(b,Ae(a,R,da));var Ga=a.webData,D=[];for(da=0;da<Ga.length;da+=1)D[da]=Ee(b,xe(a,Ga,da));var H=Z(a.numIcons),F=[];for(da=0;da<H.length;da+=1)F[da]=Fe(b,we(a,H,da));var N=new eb({root:b.root,store:b.store,data:{url:""}});return{c(){c=u("svg");d=u("g");f=u("g");for(var b=0;b<M.length;b+=1)M[b].c();for(b=0;b<V.length;b+=1)V[b].c();
g=u("g");m=u("image");for(b=0;b<D.length;b+=1)D[b].c();q=ka();for(b=0;b<F.length;b+=1)F[b].c();w=u("rect");C=u("path");n=u("rect");z=h("\n");A=l("div");E=l("div");E.textContent="A randomized set of one million images is fed through the network, collecting one random spatial activation per image.";J=h("\n  ");U=l("div");U.textContent="The activations are fed through UMAP to reduce them to two dimensions. They are then plotted, with similar activations placed near each other.";K=h("\n  ");I=l("div");
ea=h("We then draw a grid and average the activations that fall within a cell and run feature inversion on the averaged activation.\n    ");L=l("div");N._fragment.c();e(f,"transform",t="translate("+1*(a.columnWidth+a.columnPadding)+", 0)");e(m,"opacity",k=0<a.webData.length?1:0);Ya(m,"xlink:href",a.renderURL);e(m,"width",a.columnWidth);e(m,"height",a.columnWidth);e(g,"transform",r="translate("+2*(a.columnWidth+a.columnPadding)+", 0)");e(w,"fill","none");e(w,"stroke","black");e(w,"stroke-width","2");
e(w,"x",p=1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth);e(w,"y",y=a.iconHighlight.y*a.iconWidth);e(w,"width",a.iconWidth);e(w,"height",a.iconWidth);e(C,"fill","none");e(C,"stroke","black");e(C,"d",O="M"+(1*(a.columnWidth+a.columnPadding)+a.iconHighlight.x*a.iconWidth+a.iconWidth/2)+","+a.iconHighlight.y*a.iconWidth+"l0,-30 l"+(a.columnWidth+a.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5");e(n,"fill","none");e(n,"stroke","black");e(n,"stroke-width","2");e(n,"x",S=2*(a.columnWidth+
a.columnPadding)+a.iconHighlight.x*a.iconWidth);e(n,"y",B=a.iconHighlight.y*a.iconWidth);e(n,"width",a.iconWidth);e(n,"height",a.iconWidth);e(d,"transform","translate(0, 40)");v(c,"width","100%");e(c,"viewBox",x="0 0 "+a.width+" "+a.height);E.className="figcaption";U.className="figcaption";v(L,"margin-top","8px");v(L,"text-align","right");I.className="figcaption";v(A,"display","grid");v(A,"grid-column-gap",""+a.columnPadding/a.width*100+"%");v(A,"grid-template-columns","1fr 1fr 1fr")},m(a,b){a.insertBefore(c,
b);c.appendChild(d);d.appendChild(f);for(var e=0;e<M.length;e+=1)M[e].m(f,null);for(e=0;e<V.length;e+=1)V[e].m(d,null);d.appendChild(g);g.appendChild(m);for(e=0;e<D.length;e+=1)D[e].m(g,null);g.appendChild(q);for(e=0;e<F.length;e+=1)F[e].m(g,null);d.appendChild(w);d.appendChild(C);d.appendChild(n);a.insertBefore(z,b);a.insertBefore(A,b);A.appendChild(E);A.appendChild(J);A.appendChild(U);A.appendChild(K);A.appendChild(I);I.appendChild(ea);I.appendChild(L);N._mount(L,null)},p(a,l){if(a.layoutData||
a.columnWidth){Q=l.layoutData;for(var h=0;h<Q.length;h+=1){var z=Be(l,Q,h);M[h]?M[h].p(a,z):(M[h]=Ce(b,z),M[h].c(),M[h].m(f,null))}for(;h<M.length;h+=1)M[h].d(1);M.length=Q.length}(a.columnWidth||a.columnPadding)&&t!==(t="translate("+1*(l.columnWidth+l.columnPadding)+", 0)")&&e(f,"transform",t);if(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding||a.inputPadding||a.x||a.y||a.Math||a.numCells){R=l.inputs;for(h=0;h<R.length;h+=1)z=Ae(l,R,h),V[h]?V[h].p(a,z):(V[h]=De(b,
z),V[h].c(),V[h].m(d,g));for(;h<V.length;h+=1)V[h].d(1);V.length=R.length}a.webData&&k!==(k=0<l.webData.length?1:0)&&e(m,"opacity",k);a.renderURL&&Ya(m,"xlink:href",l.renderURL);a.columnWidth&&(e(m,"width",l.columnWidth),e(m,"height",l.columnWidth));if(a.webData||a.iconWidth){Ga=l.webData;for(h=0;h<Ga.length;h+=1)z=xe(l,Ga,h),D[h]?D[h].p(a,z):(D[h]=Ee(b,z),D[h].c(),D[h].m(g,q));for(;h<D.length;h+=1)D[h].d(1);D.length=Ga.length}if(a.numIcons||a.iconWidth){H=Z(l.numIcons);for(h=0;h<H.length;h+=1)z=
we(l,H,h),F[h]?F[h].p(a,z):(F[h]=Fe(b,z),F[h].c(),F[h].m(g,null));for(;h<F.length;h+=1)F[h].d(1);F.length=H.length}(a.columnWidth||a.columnPadding)&&r!==(r="translate("+2*(l.columnWidth+l.columnPadding)+", 0)")&&e(g,"transform",r);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&p!==(p=1*(l.columnWidth+l.columnPadding)+l.iconHighlight.x*l.iconWidth)&&e(w,"x",p);(a.iconHighlight||a.iconWidth)&&y!==(y=l.iconHighlight.y*l.iconWidth)&&e(w,"y",y);a.iconWidth&&(e(w,"width",l.iconWidth),e(w,
"height",l.iconWidth));(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&O!==(O="M"+(1*(l.columnWidth+l.columnPadding)+l.iconHighlight.x*l.iconWidth+l.iconWidth/2)+","+l.iconHighlight.y*l.iconWidth+"l0,-30 l"+(l.columnWidth+l.columnPadding)+",0 l0,25 m-5,-5 l5,5 l5,-5")&&e(C,"d",O);(a.columnWidth||a.columnPadding||a.iconHighlight||a.iconWidth)&&S!==(S=2*(l.columnWidth+l.columnPadding)+l.iconHighlight.x*l.iconWidth)&&e(n,"x",S);(a.iconHighlight||a.iconWidth)&&B!==(B=l.iconHighlight.y*
l.iconWidth)&&e(n,"y",B);a.iconWidth&&(e(n,"width",l.iconWidth),e(n,"height",l.iconWidth));(a.width||a.height)&&x!==(x="0 0 "+l.width+" "+l.height)&&e(c,"viewBox",x);(a.columnPadding||a.width)&&v(A,"grid-column-gap",""+l.columnPadding/l.width*100+"%")},d(a){a&&G(c);ba(M,a);ba(V,a);ba(D,a);ba(F,a);a&&(G(z),G(A));N.destroy()}}}function Ce(b,a){var c,d,f;return{c(){c=u("g");d=u("rect");e(d,"fill","#999");e(d,"fill-opacity","0.5");e(d,"width","2");e(d,"height","2");e(c,"transform",f="translate("+a.point[1]*
a.columnWidth+", "+a.point[0]*a.columnWidth+")")},m(a,b){a.insertBefore(c,b);c.appendChild(d)},p(a,b){(a.layoutData||a.columnWidth)&&f!==(f="translate("+b.point[1]*b.columnWidth+", "+b.point[0]*b.columnWidth+")")&&e(c,"transform",f)},d(a){a&&G(c)}}}function Ge(b,a){var c,d,f;return{c(){c=u("rect");e(c,"stroke","white");e(c,"fill","#aaa");e(c,"fill-opacity","0.6");e(c,"stroke-width","2");e(c,"x",d=a.x*(a.cellWidth+a.cellPadding));e(c,"y",f=a.y*(a.cellWidth+a.cellPadding));e(c,"width",a.cellWidth);
e(c,"height",a.cellWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numCells||a.cellWidth||a.cellPadding)&&d!==(d=b.x*(b.cellWidth+b.cellPadding))&&e(c,"x",d);(a.numCells||a.cellWidth||a.cellPadding)&&f!==(f=b.y*(b.cellWidth+b.cellPadding))&&e(c,"y",f);a.cellWidth&&(e(c,"width",b.cellWidth),e(c,"height",b.cellWidth))},d(a){a&&G(c)}}}function He(b,a){for(var c,d=Z(a.numCells),e=[],t=0;t<d.length;t+=1)e[t]=Ge(b,ye(a,d,t));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ka()},m(a,b){for(var d=0;d<e.length;d+=
1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numCells||a.cellWidth||a.cellPadding){d=Z(f.numCells);for(var g=0;g<d.length;g+=1){let k=ye(f,d,g);e[g]?e[g].p(a,k):(e[g]=Ge(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){ba(e,a);a&&G(c)}}}function Ie(b,a){var c,d,f,t;return{c(){c=u("line");e(c,"stroke-dasharray","2 2");e(c,"y1",d=a.inputWidth+10);e(c,"y2",f=a.inputWidth+10);e(c,"x2",t=3*(a.inputWidth+a.inputPadding)-a.inputPadding);e(c,"stroke","#ddd")},
m(a,b){a.insertBefore(c,b)},p(a,b){a.inputWidth&&d!==(d=b.inputWidth+10)&&e(c,"y1",d);a.inputWidth&&f!==(f=b.inputWidth+10)&&e(c,"y2",f);(a.inputWidth||a.inputPadding)&&t!==(t=3*(b.inputWidth+b.inputPadding)-b.inputPadding)&&e(c,"x2",t)},d(a){a&&G(c)}}}function De(b,a){for(var c,d,f,t,g,m,k,l,r,w,p,y,C,v,n,x=(a.Math.random()+"").slice(0,5),B,D,z=(a.Math.random()+"").slice(0,5),A,E,J,U,K,I,ea,L,Q=Z(a.numCells),M=[],da=0;da<Q.length;da+=1)M[da]=He(b,ze(a,Q,da));var R=a.i!==a.inputs.length-1&&Ie(b,a);
return{c(){c=u("g");d=u("image");t=u("g");g=u("image");for(var b=0;b<M.length;b+=1)M[b].c();l=u("rect");p=u("path");C=u("g");v=u("text");n=h("[");B=h(x);D=h(", ");A=h(z);E=h(", \u2026]\n          ");R&&R.c();ea=u("path");Ya(d,"xlink:href",f="assets/images/"+a.input.id+".jpg");e(d,"width",a.inputWidth);e(d,"height",a.inputWidth);Ya(g,"xlink:href",m="assets/images/"+a.input.id+".jpg");e(g,"width",a.inputWidth);e(g,"height",a.inputWidth);e(t,"transform",k="translate("+(a.inputWidth+a.inputPadding)+", 0)");
e(l,"fill","none");e(l,"stroke","black");e(l,"stroke-width","2");e(l,"x",r=1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding));e(l,"y",w=a.input.y*(a.cellWidth+a.cellPadding));e(l,"width",a.cellWidth);e(l,"height",a.cellWidth);e(p,"fill","none");e(p,"stroke","black");e(p,"d",y="M"+(1*(a.inputWidth+a.inputPadding)+a.input.x*(a.cellWidth+a.cellPadding)+a.cellWidth)+","+(a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2)+" L"+(2*(a.inputWidth+a.inputPadding)-10)+","+(a.input.y*(a.cellWidth+
a.cellPadding)+a.cellWidth/2)+" m-5,-5 l5,5 l-5,5");e(v,"font-size","9");e(v,"dy",J=a.cellWidth/1.5);e(v,"transform",U="translate("+a.x*(a.cellWidth+a.cellPadding)+", "+a.y*(a.cellWidth+a.cellPadding)+")");e(C,"transform",K="translate("+2*(a.inputWidth+a.inputPadding)+", "+a.input.y*(a.cellWidth+a.cellPadding)+")");e(c,"transform",I="translate(0, "+(a.inputWidth+20)*a.i+")");e(ea,"fill","none");e(ea,"stroke","black");e(ea,"d",L=ue(a.columnWidth,a.input.y*(a.cellWidth+a.cellPadding)+a.cellWidth/2+
(a.inputWidth+20)*a.i,a.columnWidth+a.columnPadding+a.columnWidth*a.input.px,a.columnWidth*a.input.py))},m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(t);t.appendChild(g);for(var e=0;e<M.length;e+=1)M[e].m(t,null);c.appendChild(l);c.appendChild(p);c.appendChild(C);C.appendChild(v);v.appendChild(n);v.appendChild(B);v.appendChild(D);v.appendChild(A);v.appendChild(E);R&&R.m(c,null);a.insertBefore(ea,b)},p(a,h){a.inputs&&f!==(f="assets/images/"+h.input.id+".jpg")&&Ya(d,"xlink:href",f);a.inputWidth&&
(e(d,"width",h.inputWidth),e(d,"height",h.inputWidth));a.inputs&&m!==(m="assets/images/"+h.input.id+".jpg")&&Ya(g,"xlink:href",m);a.inputWidth&&(e(g,"width",h.inputWidth),e(g,"height",h.inputWidth));if(a.numCells||a.cellWidth||a.cellPadding){Q=Z(h.numCells);for(var q=0;q<Q.length;q+=1){let c=ze(h,Q,q);M[q]?M[q].p(a,c):(M[q]=He(b,c),M[q].c(),M[q].m(t,null))}for(;q<M.length;q+=1)M[q].d(1);M.length=Q.length}(a.inputWidth||a.inputPadding)&&k!==(k="translate("+(h.inputWidth+h.inputPadding)+", 0)")&&e(t,
"transform",k);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&r!==(r=1*(h.inputWidth+h.inputPadding)+h.input.x*(h.cellWidth+h.cellPadding))&&e(l,"x",r);(a.inputs||a.cellWidth||a.cellPadding)&&w!==(w=h.input.y*(h.cellWidth+h.cellPadding))&&e(l,"y",w);a.cellWidth&&(e(l,"width",h.cellWidth),e(l,"height",h.cellWidth));(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&y!==(y="M"+(1*(h.inputWidth+h.inputPadding)+h.input.x*(h.cellWidth+h.cellPadding)+h.cellWidth)+
","+(h.input.y*(h.cellWidth+h.cellPadding)+h.cellWidth/2)+" L"+(2*(h.inputWidth+h.inputPadding)-10)+","+(h.input.y*(h.cellWidth+h.cellPadding)+h.cellWidth/2)+" m-5,-5 l5,5 l-5,5")&&e(p,"d",y);a.Math&&x!==(x=(h.Math.random()+"").slice(0,5))&&W(B,x);a.Math&&z!==(z=(h.Math.random()+"").slice(0,5))&&W(A,z);a.cellWidth&&J!==(J=h.cellWidth/1.5)&&e(v,"dy",J);(a.x||a.cellWidth||a.cellPadding||a.y)&&U!==(U="translate("+h.x*(h.cellWidth+h.cellPadding)+", "+h.y*(h.cellWidth+h.cellPadding)+")")&&e(v,"transform",
U);(a.inputWidth||a.inputPadding||a.inputs||a.cellWidth||a.cellPadding)&&K!==(K="translate("+2*(h.inputWidth+h.inputPadding)+", "+h.input.y*(h.cellWidth+h.cellPadding)+")")&&e(C,"transform",K);h.i!==h.inputs.length-1?R?R.p(a,h):(R=Ie(b,h),R.c(),R.m(c,null)):R&&(R.d(1),R=null);a.inputWidth&&I!==(I="translate(0, "+(h.inputWidth+20)*h.i+")")&&e(c,"transform",I);(a.columnWidth||a.inputs||a.cellWidth||a.cellPadding||a.inputWidth||a.columnPadding)&&L!==(L=ue(h.columnWidth,h.input.y*(h.cellWidth+h.cellPadding)+
h.cellWidth/2+(h.inputWidth+20)*h.i,h.columnWidth+h.columnPadding+h.columnWidth*h.input.px,h.columnWidth*h.input.py))&&e(ea,"d",L)},d(a){a&&G(c);ba(M,a);R&&R.d();a&&G(ea)}}}function Ee(b,a){var c,d,f,h;return{c(){c=u("rect");e(c,"stroke","none");e(c,"fill","white");e(c,"fill-opacity",d=50<+a.icon.n?0:1);e(c,"x",f=a.icon.y*a.iconWidth);e(c,"y",h=a.icon.x*a.iconWidth);e(c,"width",a.iconWidth);e(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){a.webData&&d!==(d=50<+b.icon.n?0:1)&&e(c,"fill-opacity",
d);(a.webData||a.iconWidth)&&f!==(f=b.icon.y*b.iconWidth)&&e(c,"x",f);(a.webData||a.iconWidth)&&h!==(h=b.icon.x*b.iconWidth)&&e(c,"y",h);a.iconWidth&&(e(c,"width",b.iconWidth),e(c,"height",b.iconWidth))},d(a){a&&G(c)}}}function Je(b,a){var c,d,f;return{c(){c=u("rect");e(c,"stroke","#ddd");e(c,"stroke-opacity","0.5");e(c,"fill","none");e(c,"stroke-width","1");e(c,"x",d=a.x*a.iconWidth);e(c,"y",f=a.y*a.iconWidth);e(c,"width",a.iconWidth);e(c,"height",a.iconWidth)},m(a,b){a.insertBefore(c,b)},p(a,b){(a.numIcons||
a.iconWidth)&&d!==(d=b.x*b.iconWidth)&&e(c,"x",d);(a.numIcons||a.iconWidth)&&f!==(f=b.y*b.iconWidth)&&e(c,"y",f);a.iconWidth&&(e(c,"width",b.iconWidth),e(c,"height",b.iconWidth))},d(a){a&&G(c)}}}function Fe(b,a){for(var c,d=Z(a.numIcons),e=[],h=0;h<d.length;h+=1)e[h]=Je(b,ve(a,d,h));return{c(){for(var a=0;a<e.length;a+=1)e[a].c();c=ka()},m(a,b){for(var d=0;d<e.length;d+=1)e[d].m(a,b);a.insertBefore(c,b)},p(a,f){if(a.numIcons||a.iconWidth){d=Z(f.numIcons);for(var g=0;g<d.length;g+=1){let k=ve(f,d,
g);e[g]?e[g].p(a,k):(e[g]=Je(b,k),e[g].c(),e[g].m(c.parentNode,c))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){ba(e,a);a&&G(c)}}}function Kc(b){N(this,b);this._state=x(x({Math},{width:1E3,height:380,columnPadding:50,inputPadding:20,numCells:6,cellPadding:0,numIcons:10,iconHighlight:{x:2,y:0},layoutData:[],webData:[],webURL:"https://storage.googleapis.com/activation-atlas/build/process/web/web--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",
dataURL:"https://storage.googleapis.com/activation-atlas/build/process/layout_data/layout_data--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.json",renderURL:"https://storage.googleapis.com/activation-atlas/build/process/render/render--x=0--y=0--tries=4--alpha=False--tile_size=10--whiten=true--steps=2048--icon_size=80--grid_size=10--layout=50_0.05_cosine--class_filter=None--filter=30000--layer=mixed4c--model=InceptionV1--sample_images=1000000--sample_type=random.jpg",
inputs:[{id:"dogcat",x:2,y:1,px:.25,py:.033},{id:"dog",x:3,y:3,px:.28,py:.066},{id:"ocean",x:2,y:3,px:.25,py:.85}]}),b.data);this._recompute({width:1,columnPadding:1,columnWidth:1,inputPadding:1,inputWidth:1,numCells:1,cellPadding:1,numIcons:1},this._state);this._intro=!0;this._fragment=Pg(this,this._state);this.root._oncreate.push(()=>{Og.call(this);this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Qg(b,
a){var c,d={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2"};if(void 0!==a.gridSize){d.gridSize=a.gridSize;var e=!0}if(void 0!==a.showLabels){d.showLabels=a.showLabels;var h=!0}var g=new la({root:b.root,store:b.store,data:d,_bind(a,c){var d={};!e&&a.gridSize&&(d.gridSize=c.gridSize);!h&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);h=e=void 0}});b.root._beforecreate.push(()=>{g._bind({gridSize:1,showLabels:1},g.get())});return{c(){c=l("div");g._fragment.c();
c.className="atlas svelte-1wfbhjw";v(c,"grid-column","screen")},m(a,b){a.insertBefore(c,b);g._mount(c,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!e&&b.gridSize&&(c.gridSize=a.gridSize,e=void 0!==a.gridSize);!h&&b.showLabels&&(c.showLabels=a.showLabels,h=void 0!==a.showLabels);g._set(c);h=e=void 0},d(a){a&&G(c);g.destroy()}}}function Ke(b){N(this,b);this._state=x({layerName:"mixed4c",gridSize:1},b.data);this._intro=!0;this._fragment=Qg(this,this._state);b.target&&(this._fragment.c(),
this._mount(b.target,b.anchor),H(this))}function Rg({clientWidth:b}){return b}function Sg({model:b,layerName:a}){return b+"_"+a}function Tg(){let {root:b,id:a,grid:c}=this.get();mc(`${b}/${a}/${a}.json`).then((d)=>{null==d.class_filter&&(d.class_filter="None");null==d.filter&&(d.filter="None");Array.isArray(d.layout)||(d.layout=[d.layout]);Array.isArray(d.layer)||(d.layer=[d.layer]);Array.isArray(d.filter)||(d.filter=[d.filter]);this.set({gridSize:d.grid_size[c]});mc(`${b}/${a}/web/web--grid_size=${d.grid_size[c]}--layout=${d.layout[0]}--class_filter=${d.class_filter}--filter=${d.filter[0]}--layer=${d.layer[0]}--model=${d.model}--sample_images=${d.sample_images}--sample_type=${d.sample_type}.json`).then((a)=>
{this.set({icons:a});this.render()})})}function Ug({changed:b}){b.classHeatmap&&this.render()}function Vg(b,a){function c(){b.set({clientWidth:d.clientWidth})}var d,e,h;return{c(){d=l("div");e=l("canvas");e.width=a.gridSize;e.height=a.gridSize;v(e,"width",""+a.clientWidth+"px");v(e,"height",""+a.height+"px");e.className="svelte-sjakuy";b.root._beforecreate.push(c);v(d,"height",""+a.height+"px")},m(a,f){a.insertBefore(d,f);d.appendChild(e);b.refs.canvas=e;h=db(d,c)},p(a,b){a.gridSize&&(e.width=b.gridSize,
e.height=b.gridSize);a.clientWidth&&v(e,"width",""+b.clientWidth+"px");a.height&&(v(e,"height",""+b.height+"px"),v(d,"height",""+b.height+"px"))},d(a){a&&G(d);b.refs.canvas===e&&(b.refs.canvas=null);h.cancel()}}}function cb(b){N(this,b);this.refs={};this._state=x({root:"https://storage.googleapis.com/activation-atlas/build",model:"inceptionv1",layerName:"mixed4d",grid:2,layout:0,gridSize:10,classHeatmap:-1,icons:[]},b.data);this._recompute({clientWidth:1,model:1,layerName:1},this._state);this._intro=
!0;this._handlers.update=[Ug];this._fragment=Vg(this,this._state);this.root._oncreate.push(()=>{Tg.call(this);this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Wg(b,a){var c,d,e,t,g,m={id:"inceptionv1_"+a.layerName};if(void 0!==a.gridSize){m.gridSize=a.gridSize;var k=!0}if(void 0!==a.homeX){m.homeX=a.homeX;var q=!0}if(void 0!==a.homeY){m.homeY=a.homeY;var r=!0}if(void 0!==a.homeScale){m.homeScale=a.homeScale;
var w=!0}if(void 0!==a.aspectRatio){m.aspectRatio=a.aspectRatio;var p=!0}if(void 0!==a.scale){m.scale=a.scale;var y=!0}if(void 0!==a.gcx){m.gcx=a.gcx;var C=!0}if(void 0!==a.gcy){m.gcy=a.gcy;var u=!0}if(void 0!==a.showLabels){m.showLabels=a.showLabels;var n=!0}var x=new la({root:b.root,store:b.store,data:m,_bind(a,c){var d={};!k&&a.gridSize&&(d.gridSize=c.gridSize);!q&&a.homeX&&(d.homeX=c.homeX);!r&&a.homeY&&(d.homeY=c.homeY);!w&&a.homeScale&&(d.homeScale=c.homeScale);!p&&a.aspectRatio&&(d.aspectRatio=
c.aspectRatio);!y&&a.scale&&(d.scale=c.scale);!C&&a.gcx&&(d.gcx=c.gcx);!u&&a.gcy&&(d.gcy=c.gcy);!n&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);n=u=C=y=p=w=r=q=k=void 0}});b.root._beforecreate.push(()=>{x._bind({gridSize:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1,showLabels:1},x.get())});var B=new cb({root:b.root,store:b.store,data:{layerName:a.layerName,gridSize:1}});m={};if(void 0!==a.aspectRatio){m.aspectRatio=a.aspectRatio;var D=!0}if(void 0!==a.scale){m.scale=a.scale;
var z=!0}if(void 0!==a.gcx){m.gcx=a.gcx;var A=!0}if(void 0!==a.gcy){m.gcy=a.gcy;var E=!0}var J=new xa({root:b.root,store:b.store,data:m,_bind(a,c){var d={};!D&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!z&&a.scale&&(d.scale=c.scale);!A&&a.gcx&&(d.gcx=c.gcx);!E&&a.gcy&&(d.gcy=c.gcy);b._set(d);E=A=z=D=void 0}});b.root._beforecreate.push(()=>{J._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},J.get())});return{c(){c=l("div");d=l("div");x._fragment.c();e=h("\n  ");t=l("div");B._fragment.c();g=h("\n    ");
J._fragment.c();d.className="detail svelte-tlu8r4";t.className="atlas svelte-tlu8r4";v(c,"display","grid");v(c,"grid-template-columns","1fr 200px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);x._mount(d,null);c.appendChild(e);c.appendChild(t);B._mount(t,null);t.appendChild(g);J._mount(t,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!k&&b.gridSize&&(c.gridSize=a.gridSize,k=void 0!==a.gridSize);!q&&b.homeX&&(c.homeX=a.homeX,q=void 0!==a.homeX);!r&&b.homeY&&(c.homeY=a.homeY,
r=void 0!==a.homeY);!w&&b.homeScale&&(c.homeScale=a.homeScale,w=void 0!==a.homeScale);!p&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,p=void 0!==a.aspectRatio);!y&&b.scale&&(c.scale=a.scale,y=void 0!==a.scale);!C&&b.gcx&&(c.gcx=a.gcx,C=void 0!==a.gcx);!u&&b.gcy&&(c.gcy=a.gcy,u=void 0!==a.gcy);!n&&b.showLabels&&(c.showLabels=a.showLabels,n=void 0!==a.showLabels);x._set(c);n=u=C=y=p=w=r=q=k=void 0;c={};b.layerName&&(c.layerName=a.layerName);B._set(c);c={};!D&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,
D=void 0!==a.aspectRatio);!z&&b.scale&&(c.scale=a.scale,z=void 0!==a.scale);!A&&b.gcx&&(c.gcx=a.gcx,A=void 0!==a.gcx);!E&&b.gcy&&(c.gcy=a.gcy,E=void 0!==a.gcy);J._set(c);E=A=z=D=void 0},d(a){a&&G(c);x.destroy();B.destroy();J.destroy()}}}function Oa(b){N(this,b);this._state=x({layerName:"mixed4c",gridSize:2,homeScale:14,showLabels:!0},b.data);this._intro=!0;this._fragment=Wg(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Xg({width:b}){return b}function Yg(b,
a){var c,d;return{c(){c=l("div");d=l("canvas");v(d,"position","absolute");v(d,"top","0");v(d,"left","calc(50% - "+a.width/2+"px)");d.className="singleIcon";d.width=a.width;d.height=a.height;v(c,"position","relative");v(c,"overflow","hidden");v(c,"height",""+a.width+"px");v(c,"border-right","solid 1px rgba(255, 255, 255, 0.2)")},m(a,e){a.insertBefore(c,e);c.appendChild(d);b.refs.canvas=d},p(a,b){a.width&&(v(d,"left","calc(50% - "+b.width/2+"px)"),d.width=b.width);a.height&&(d.height=b.height);a.width&&
v(c,"height",""+b.width+"px")},d(a){a&&G(c);b.refs.canvas===d&&(b.refs.canvas=null)}}}function oc(b){N(this,b);this.refs={};this._state=x({iconCrop:.02,width:null,icon:null,config:null},b.data);this._recompute({width:1},this._state);this._intro=!0;this._fragment=Yg(this,this._state);this.root._oncreate.push(()=>{this.render();this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Zg({layers:b}){return b?
b.length-1:1}function $g({changed:b}){this.set({container:this.refs.icons,arrow:this.refs.arrow.getContext("2d")});(b.pointList,b.layers)&&this.render();b.width&&this.drawArrow()}function Le(b,a,c){b=Object.create(b);b.icon=a[c];b.i=c;return b}function ah(b,a){function c(){b.set({width:d.clientWidth,height:d.clientHeight})}for(var d,e,t,g,m,k=a.imgList,q=[],r=0;r<k.length;r+=1)q[r]=Me(b,Le(a,k,r));return{c(){d=l("div");e=l("canvas");t=h("\n  ");g=l("div");for(var f=0;f<q.length;f+=1)q[f].c();e.width=
a.width;e.height=a.arrowHeight;g.className="icons svelte-106o8is";b.root._beforecreate.push(c)},m(a,f){a.insertBefore(d,f);d.appendChild(e);b.refs.arrow=e;d.appendChild(t);d.appendChild(g);for(a=0;a<q.length;a+=1)q[a].m(g,null);b.refs.icons=g;m=db(d,c);b.refs.annotation=d},p(a,c){a.width&&(e.width=c.width);a.arrowHeight&&(e.height=c.arrowHeight);if(a.imgList||a.config){k=c.imgList;for(var d=0;d<k.length;d+=1){let e=Le(c,k,d);q[d]?q[d].p(a,e):(q[d]=Me(b,e),q[d].c(),q[d].m(g,null))}for(;d<q.length;d+=
1)q[d].d(1);q.length=k.length}},d(a){a&&G(d);b.refs.arrow===e&&(b.refs.arrow=null);ba(q,a);b.refs.icons===g&&(b.refs.icons=null);m.cancel();b.refs.annotation===d&&(b.refs.annotation=null)}}}function Me(b,a){var c=new oc({root:b.root,store:b.store,data:{icon:a.icon,width:100,config:a.config}});return{c(){c._fragment.c()},m(a,b){c._mount(a,b)},p(a,b){var d={};a.imgList&&(d.icon=b.icon);a.config&&(d.config=b.config);c._set(d)},d(a){c.destroy(a)}}}function pc(b){N(this,b);this.refs={};this._state=x({container:null,
arrow:null,arrowHeight:30,imgList:[]},b.data);this._recompute({layers:1},this._state);this._intro=!0;this._handlers.update=[$g];this._fragment=ah(this,this._state);this.root._oncreate.push(()=>{this.fire("update",{changed:Fa({},this._state),current:this._state})});b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function bh({pointList:b}){return b.length}function ch({viewWidth:b,viewHeight:a}){return b&&a?Math.min(b,a):0}function dh({viewWidth:b,viewHeight:a,edgeLength:c}){return b&&
a?[(b-c)/2,(a-c)/2]:[0,0]}function eh({pointList:b,edgeLength:a}){let c=[],d="M";b.forEach(function(b){d=d+b[0]*a+" "+b[1]*a+" L"});c.push(d.substring(0,d.length-2));return c}function fh(b,a){var c,d,f,t,g,m,k,q,r,w,p,y,C,x,n,S,B,D,z=new pc({root:b.root,store:b.store,data:{pointList:a.pointList,layers:a.layers,config:a.config,color:a.color}}),A={layerName:a.layerName,gridSize:1};if(void 0!==a.viewWidth){A.clientWidth=a.viewWidth;var E=!0}if(void 0!==a.viewHeight){A.height=a.viewHeight;var J=!0}var U=
new cb({root:b.root,store:b.store,data:A,_bind(a,c){var d={};!E&&a.clientWidth&&(d.viewWidth=c.clientWidth);!J&&a.height&&(d.viewHeight=c.height);b._set(d);J=E=void 0}});b.root._beforecreate.push(()=>{U._bind({clientWidth:1,height:1},U.get())});A={id:"inceptionv1_"+a.layerName,layer:0,layout:0,classFilter:0,filter:0};if(void 0!==a.config){A.config=a.config;var K=!0}if(void 0!==a.layers){A.layers=a.layers;var I=!0}if(void 0!==a.labels){A.labels=a.labels;var ea=!0}var L=new xc({root:b.root,store:b.store,
data:A,_bind(a,c){var d={};!K&&a.config&&(d.config=c.config);!I&&a.layers&&(d.layers=c.layers);!ea&&a.labels&&(d.labels=c.labels);b._set(d);ea=I=K=void 0}});b.root._beforecreate.push(()=>{L._bind({config:1,layers:1,labels:1},L.get())});return{c(){c=l("div");d=l("div");z._fragment.c();f=h("\n  ");t=l("div");g=l("div");U._fragment.c();m=h("\n    ");k=u("svg");q=u("defs");r=u("marker");w=u("circle");y=u("marker");C=u("path");n=u("path");D=h("\n  ");L._fragment.c();g.className="thumbnail svelte-19vqpwh";
e(w,"cx","5");e(w,"cy","5");e(w,"r","3");e(r,"id",p="head"+a.uniqueId);e(r,"fill",a.color);e(r,"viewBox","0 0 10 10");e(r,"refX","5");e(r,"refY","5");e(r,"markerWidth","5");e(r,"markerHeight","5");e(r,"orient","auto-start-reverse");e(C,"d","M 0 0 L 10 5 L 0 10 z");e(y,"id",x="arrow"+a.uniqueId);e(y,"fill",a.color);e(y,"viewBox","0 0 10 10");e(y,"refX","5");e(y,"refY","5");e(y,"markerWidth","3");e(y,"markerHeight","3");e(y,"orient","auto-start-reverse");e(n,"d",a.path_d);e(n,"stroke",a.color);e(n,
"stroke-width","3");e(n,"fill","transparent");e(n,"marker-end",S="url(#arrow"+a.uniqueId+")");e(n,"marker-start",B="url(#head"+a.uniqueId+")");e(k,"class","pathArrow svelte-19vqpwh");v(k,"width",a.edgeLength);v(k,"height",a.edgeLength);v(k,"left",(a.viewWidth-a.edgeLength)/2);v(k,"top",(a.viewHeight-a.edgeLength)/2);t.className="atlas svelte-19vqpwh";v(t,"width",""+(a.height-2*a.atlasMargin)+"px");v(t,"height",""+(a.height-2*a.atlasMargin)+"px");v(t,"margin",""+a.atlasMargin+"px");c.className="showapath";
v(c,"display","grid");v(c,"grid-template-columns","1fr "+a.height+"px")},m(a,e){a.insertBefore(c,e);c.appendChild(d);z._mount(d,null);c.appendChild(f);c.appendChild(t);t.appendChild(g);U._mount(g,null);t.appendChild(m);t.appendChild(k);k.appendChild(q);q.appendChild(r);r.appendChild(w);q.appendChild(y);y.appendChild(C);k.appendChild(n);b.refs.clickPath=n;c.appendChild(D);L._mount(c,null)},p(b,d){a=d;d={};b.pointList&&(d.pointList=a.pointList);b.layers&&(d.layers=a.layers);b.config&&(d.config=a.config);
b.color&&(d.color=a.color);z._set(d);d={};b.layerName&&(d.layerName=a.layerName);!E&&b.viewWidth&&(d.clientWidth=a.viewWidth,E=void 0!==a.viewWidth);!J&&b.viewHeight&&(d.height=a.viewHeight,J=void 0!==a.viewHeight);U._set(d);J=E=void 0;b.uniqueId&&p!==(p="head"+a.uniqueId)&&e(r,"id",p);b.color&&e(r,"fill",a.color);b.uniqueId&&x!==(x="arrow"+a.uniqueId)&&e(y,"id",x);b.color&&e(y,"fill",a.color);b.path_d&&e(n,"d",a.path_d);b.color&&e(n,"stroke",a.color);b.uniqueId&&S!==(S="url(#arrow"+a.uniqueId+")")&&
e(n,"marker-end",S);b.uniqueId&&B!==(B="url(#head"+a.uniqueId+")")&&e(n,"marker-start",B);b.edgeLength&&(v(k,"width",a.edgeLength),v(k,"height",a.edgeLength));(b.viewWidth||b.edgeLength)&&v(k,"left",(a.viewWidth-a.edgeLength)/2);(b.viewHeight||b.edgeLength)&&v(k,"top",(a.viewHeight-a.edgeLength)/2);if(b.height||b.atlasMargin)v(t,"width",""+(a.height-2*a.atlasMargin)+"px"),v(t,"height",""+(a.height-2*a.atlasMargin)+"px");b.atlasMargin&&v(t,"margin",""+a.atlasMargin+"px");d={};b.layerName&&(d.id="inceptionv1_"+
a.layerName);!K&&b.config&&(d.config=a.config,K=void 0!==a.config);!I&&b.layers&&(d.layers=a.layers,I=void 0!==a.layers);!ea&&b.labels&&(d.labels=a.labels,ea=void 0!==a.labels);L._set(d);ea=I=K=void 0;b.height&&v(c,"grid-template-columns","1fr "+a.height+"px")},d(a){a&&G(c);z.destroy();U.destroy();b.refs.clickPath===n&&(b.refs.clickPath=null);L.destroy()}}}function ib(b){N(this,b);this.refs={};this._state=x({gridSize:1,height:160,color:"#ff6600",uniqueId:Math.random(),atlasMargin:20},b.data);this._recompute({pointList:1,
viewWidth:1,viewHeight:1,edgeLength:1,topLeft:1},this._state);this._intro=!0;this._fragment=fh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function gh(b,a){var c,d,e,t,g,m,k={id:"inceptionv1_"+a.layerName,enableDragToPan:!0,enableClickToZoom:!1};if(void 0!==a.gridSize){k.gridSize=a.gridSize;var q=!0}if(void 0!==a.homeX){k.homeX=a.homeX;var r=!0}if(void 0!==a.homeY){k.homeY=a.homeY;var w=!0}if(void 0!==a.homeScale){k.homeScale=a.homeScale;var p=!0}if(void 0!==
a.aspectRatio){k.aspectRatio=a.aspectRatio;var y=!0}if(void 0!==a.scale){k.scale=a.scale;var C=!0}if(void 0!==a.gcx){k.gcx=a.gcx;var v=!0}if(void 0!==a.gcy){k.gcy=a.gcy;var n=!0}if(void 0!==a.showLabels){k.showLabels=a.showLabels;var u=!0}var B=new la({root:b.root,store:b.store,data:k,_bind(a,c){var d={};!q&&a.gridSize&&(d.gridSize=c.gridSize);!r&&a.homeX&&(d.homeX=c.homeX);!w&&a.homeY&&(d.homeY=c.homeY);!p&&a.homeScale&&(d.homeScale=c.homeScale);!y&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!C&&
a.scale&&(d.scale=c.scale);!v&&a.gcx&&(d.gcx=c.gcx);!n&&a.gcy&&(d.gcy=c.gcy);!u&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);u=n=v=C=y=p=w=r=q=void 0}});b.root._beforecreate.push(()=>{B._bind({gridSize:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1,showLabels:1},B.get())});var x=new cb({root:b.root,store:b.store,data:{layerName:a.layerName}});k={};if(void 0!==a.aspectRatio){k.aspectRatio=a.aspectRatio;var z=!0}if(void 0!==a.scale){k.scale=a.scale;var A=!0}if(void 0!==a.gcx){k.gcx=
a.gcx;var E=!0}if(void 0!==a.gcy){k.gcy=a.gcy;var J=!0}var D=new xa({root:b.root,store:b.store,data:k,_bind(a,c){var d={};!z&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!A&&a.scale&&(d.scale=c.scale);!E&&a.gcx&&(d.gcx=c.gcx);!J&&a.gcy&&(d.gcy=c.gcy);b._set(d);J=E=A=z=void 0}});b.root._beforecreate.push(()=>{D._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},D.get())});var K=a.gcx&&a.gcy&&Ne(b,a);return{c(){c=l("div");d=l("div");B._fragment.c();e=h("\n  ");t=l("div");x._fragment.c();g=h("\n    ");D._fragment.c();
m=h("\n    ");K&&K.c();d.className="detail svelte-1dvwfeg";t.className="atlas svelte-1dvwfeg"},m(a,b){a.insertBefore(c,b);c.appendChild(d);B._mount(d,null);c.appendChild(e);c.appendChild(t);x._mount(t,null);t.appendChild(g);D._mount(t,null);t.appendChild(m);K&&K.m(t,null)},p(c,d){a=d;d={};c.layerName&&(d.id="inceptionv1_"+a.layerName);!q&&c.gridSize&&(d.gridSize=a.gridSize,q=void 0!==a.gridSize);!r&&c.homeX&&(d.homeX=a.homeX,r=void 0!==a.homeX);!w&&c.homeY&&(d.homeY=a.homeY,w=void 0!==a.homeY);!p&&
c.homeScale&&(d.homeScale=a.homeScale,p=void 0!==a.homeScale);!y&&c.aspectRatio&&(d.aspectRatio=a.aspectRatio,y=void 0!==a.aspectRatio);!C&&c.scale&&(d.scale=a.scale,C=void 0!==a.scale);!v&&c.gcx&&(d.gcx=a.gcx,v=void 0!==a.gcx);!n&&c.gcy&&(d.gcy=a.gcy,n=void 0!==a.gcy);!u&&c.showLabels&&(d.showLabels=a.showLabels,u=void 0!==a.showLabels);B._set(d);u=n=v=C=y=p=w=r=q=void 0;d={};c.layerName&&(d.layerName=a.layerName);x._set(d);d={};!z&&c.aspectRatio&&(d.aspectRatio=a.aspectRatio,z=void 0!==a.aspectRatio);
!A&&c.scale&&(d.scale=a.scale,A=void 0!==a.scale);!E&&c.gcx&&(d.gcx=a.gcx,E=void 0!==a.gcx);!J&&c.gcy&&(d.gcy=a.gcy,J=void 0!==a.gcy);D._set(d);J=E=A=z=void 0;a.gcx&&a.gcy?K?K.p(c,a):(K=Ne(b,a),K.c(),K.m(t,null)):K&&(K.d(1),K=null)},d(a){a&&G(c);B.destroy();x.destroy();D.destroy();K&&K.d()}}}function Ne(b,a){var c,d,e=a.gcx.toPrecision(4),t,g,m,k=a.gcy.toPrecision(4),q;return{c(){c=l("label");d=h("gcx: ");t=l("noscript");g=l("noscript");m=h(", gcy: ");q=l("noscript");c.className="svelte-1dvwfeg"},
m(a,b){a.insertBefore(c,b);c.appendChild(d);c.appendChild(t);t.insertAdjacentHTML("afterend",e);c.appendChild(g);c.appendChild(m);c.appendChild(q);q.insertAdjacentHTML("afterend",k)},p(a,b){if(a.gcx&&e!==(e=b.gcx.toPrecision(4))){for(var c=t,d=g;c.nextSibling&&c.nextSibling!==d;)c.parentNode.removeChild(c.nextSibling);t.insertAdjacentHTML("afterend",e)}if(a.gcy&&k!==(k=b.gcy.toPrecision(4))){for(a=q;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);q.insertAdjacentHTML("afterend",k)}},d(a){a&&
G(c)}}}function oa(b){N(this,b);this._state=x({layerName:"mixed4c",gridSize:3,homeScale:48,showLabels:!0},b.data);this._intro=!0;this._fragment=gh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function Oe(b,a,c){b=Object.create(b);b.layer=a[c];b.i=c;return b}function hh(b,a){for(var c,d=a.layers,e=[],h=0;h<d.length;h+=1)e[h]=Pe(b,Oe(a,d,h));return{c(){c=l("div");for(var a=0;a<e.length;a+=1)e[a].c();c.className="stack svelte-1wgfm4"},m(a,b){a.insertBefore(c,
b);for(a=0;a<e.length;a+=1)e[a].m(c,null)},p(a,f){if(a.layerName||a.layers){d=f.layers;for(var g=0;g<d.length;g+=1){let h=Oe(f,d,g);e[g]?e[g].p(a,h):(e[g]=Pe(b,h),e[g].c(),e[g].m(c,null))}for(;g<e.length;g+=1)e[g].d(1);e.length=d.length}},d(a){a&&G(c);ba(e,a)}}}function Pe(b,a){function c(){b.set({layerName:f.__value})}var d,f,t,g,m,k=a.layer,q,r,w,p,y=new cb({root:b.root,store:b.store,data:{layerName:a.layer}});return{c(){d=l("label");f=l("input");g=h("\n    ");m=l("span");q=h(k);r=h("\n    ");y._fragment.c();
w=h("\n  ");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=t=a.layer;f.value=f.__value;f.className="svelte-1wgfm4";d.className=p="layer "+(a.layerName==a.layer?"selected":"")+" svelte-1wgfm4"},m(b,c){b.insertBefore(d,c);d.appendChild(f);f.checked=f.__value===a.layerName;d.appendChild(g);d.appendChild(m);m.appendChild(q);d.appendChild(r);y._mount(d,null);d.appendChild(w)},p(a,b){a.layerName&&(f.checked=f.__value===b.layerName);a.layers&&t!==(t=b.layer)&&
(f.__value=t);f.value=f.__value;a.layers&&k!==(k=b.layer)&&W(q,k);var c={};a.layers&&(c.layerName=b.layer);y._set(c);(a.layerName||a.layers)&&p!==(p="layer "+(b.layerName==b.layer?"selected":"")+" svelte-1wgfm4")&&(d.className=p)},d(a){a&&G(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),1);f.removeEventListener("change",c,void 0);y.destroy()}}}function Lc(b){N(this,b);this._state=x({layerName:"mixed4c",layers:"mixed3b mixed4a mixed4b mixed4c mixed4d mixed4e mixed5a mixed5b".split(" ")},
b.data);this._bindingGroups=[[]];this._intro=!0;this._fragment=hh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function ih(b,a){function c(){b.set({gridSize:r.__value})}function d(){b.set({gridSize:C.__value})}function f(){b.set({gridSize:B.__value})}function t(){b.set({gridSize:E.__value})}function g(){b.set({gridSize:I.__value})}function m(){b.set({showLabels:M.checked})}var k,q,r,w,p,y,C,u,n,x,B,D,z,A,E,J,U,K,I,F,L,Q,M,da,R,V,H,N,P,fa={};if(void 0!==a.LayerName){fa.LayerName=
a.LayerName;var W=!0}var T=new Lc({root:b.root,store:b.store,data:fa,_bind(a,c){var d={};!W&&a.LayerName&&(d.LayerName=c.LayerName);b._set(d);W=void 0}});b.root._beforecreate.push(()=>{T._bind({LayerName:1},T.get())});fa={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",showHoverImage:"1"};if(void 0!==a.gridSize){fa.gridSize=a.gridSize;var pa=!0}if(void 0!==a.showLabels){fa.showLabels=a.showLabels;var ha=!0}var X=new la({root:b.root,store:b.store,data:fa,
_bind(a,c){var d={};!pa&&a.gridSize&&(d.gridSize=c.gridSize);!ha&&a.showLabels&&(d.showLabels=c.showLabels);b._set(d);ha=pa=void 0}});b.root._beforecreate.push(()=>{X._bind({gridSize:1,showLabels:1},X.get())});return{c(){k=l("div");q=l("label");r=l("input");w=h(" 0");p=h("\n  ");y=l("label");C=l("input");u=h(" 1");n=h("\n  ");x=l("label");B=l("input");D=h(" 2");z=h("\n  ");A=l("label");E=l("input");J=h(" 3");U=h("\n  ");K=l("label");I=l("input");F=h(" 4");L=h("\n|\n  ");Q=l("label");M=l("input");
da=h(" show labels");R=h("\n");V=l("div");H=l("div");T._fragment.c();N=h("\n  ");P=l("div");X._fragment.c();b._bindingGroups[0].push(r);r.addEventListener("change",c,void 0);e(r,"type","radio");r.__value=0;r.value=r.__value;b._bindingGroups[0].push(C);C.addEventListener("change",d,void 0);e(C,"type","radio");C.__value=1;C.value=C.__value;b._bindingGroups[0].push(B);B.addEventListener("change",f,void 0);e(B,"type","radio");B.__value=2;B.value=B.__value;b._bindingGroups[0].push(E);E.addEventListener("change",
t,void 0);e(E,"type","radio");E.__value=3;E.value=E.__value;b._bindingGroups[0].push(I);I.addEventListener("change",g,void 0);e(I,"type","radio");I.__value=4;I.value=I.__value;M.addEventListener("change",m,void 0);e(M,"type","checkbox");v(k,"grid-column","text/screen-end");k.className="svelte-1m8cpqe svelte-ref-controls";H.className="stack";P.className="atlas svelte-1m8cpqe";V.className="container svelte-1m8cpqe"},m(c,d){c.insertBefore(k,d);k.appendChild(q);q.appendChild(r);r.checked=r.__value===
a.gridSize;q.appendChild(w);k.appendChild(p);k.appendChild(y);y.appendChild(C);C.checked=C.__value===a.gridSize;y.appendChild(u);k.appendChild(n);k.appendChild(x);x.appendChild(B);B.checked=B.__value===a.gridSize;x.appendChild(D);k.appendChild(z);k.appendChild(A);A.appendChild(E);E.checked=E.__value===a.gridSize;A.appendChild(J);k.appendChild(U);k.appendChild(K);K.appendChild(I);I.checked=I.__value===a.gridSize;K.appendChild(F);k.appendChild(L);k.appendChild(Q);Q.appendChild(M);M.checked=a.showLabels;
Q.appendChild(da);b.refs.controls=k;c.insertBefore(R,d);c.insertBefore(V,d);V.appendChild(H);T._mount(H,null);V.appendChild(N);V.appendChild(P);X._mount(P,null)},p(b,c){a=c;b.gridSize&&(r.checked=r.__value===a.gridSize);b.gridSize&&(C.checked=C.__value===a.gridSize);b.gridSize&&(B.checked=B.__value===a.gridSize);b.gridSize&&(E.checked=E.__value===a.gridSize);b.gridSize&&(I.checked=I.__value===a.gridSize);b.showLabels&&(M.checked=a.showLabels);c={};!W&&b.LayerName&&(c.LayerName=a.LayerName,W=void 0!==
a.LayerName);T._set(c);W=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!pa&&b.gridSize&&(c.gridSize=a.gridSize,pa=void 0!==a.gridSize);!ha&&b.showLabels&&(c.showLabels=a.showLabels,ha=void 0!==a.showLabels);X._set(c);ha=pa=void 0},d(a){a&&G(k);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(r),1);r.removeEventListener("change",c,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(C),1);C.removeEventListener("change",d,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(B),
1);B.removeEventListener("change",f,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(E),1);E.removeEventListener("change",t,void 0);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(I),1);I.removeEventListener("change",g,void 0);M.removeEventListener("change",m,void 0);b.refs.controls===k&&(b.refs.controls=null);a&&(G(R),G(V));T.destroy();X.destroy()}}}function Qe(b){N(this,b);this.refs={};this._state=x({layerName:"mixed4a",gridSize:0},b.data);this._bindingGroups=[[]];this._intro=
!0;this._fragment=ih(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function jh(b,a){var c,d,e,t,g,m,k,q,r={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2"};if(void 0!==a.gridSize){r.gridSize=a.gridSize;var w=!0}if(void 0!==a.showLabels){r.showLabels=a.showLabels;var p=!0}if(void 0!==a.classHeatmap){r.classHeatmap=a.classHeatmap;var y=!0}var v=new la({root:b.root,store:b.store,data:r,_bind(a,c){var d={};!w&&a.gridSize&&
(d.gridSize=c.gridSize);!p&&a.showLabels&&(d.showLabels=c.showLabels);!y&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);y=p=w=void 0}});b.root._beforecreate.push(()=>{v._bind({gridSize:1,showLabels:1,classHeatmap:1},v.get())});r={background:!1,round:!0,enableDragging:!1};if(void 0!==a.aspectRatio){r.aspectRatio=a.aspectRatio;var u=!0}if(void 0!==a.scale){r.scale=a.scale;var n=!0}if(void 0!==a.gcx){r.gcx=a.gcx;var x=!0}if(void 0!==a.gcy){r.gcy=a.gcy;var B=!0}var D=new xa({root:b.root,store:b.store,
data:r,_bind(a,c){var d={};!u&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!n&&a.scale&&(d.scale=c.scale);!x&&a.gcx&&(d.gcx=c.gcx);!B&&a.gcy&&(d.gcy=c.gcy);b._set(d);B=x=n=u=void 0}});b.root._beforecreate.push(()=>{D._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},D.get())});r={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){r.gridSize=a.gridSize;var z=!0}if(void 0!==a.showLabels){r.showLabels=
a.showLabels;var A=!0}if(void 0!==a.classHeatmap){r.classHeatmap=a.classHeatmap;var E=!0}if(void 0!==a.homeX){r.homeX=a.homeX;var J=!0}if(void 0!==a.homeY){r.homeY=a.homeY;var F=!0}if(void 0!==a.homeScale){r.homeScale=a.homeScale;var K=!0}if(void 0!==a.aspectRatio){r.aspectRatio=a.aspectRatio;var I=!0}if(void 0!==a.scale){r.scale=a.scale;var H=!0}if(void 0!==a.gcx){r.gcx=a.gcx;var L=!0}if(void 0!==a.gcy){r.gcy=a.gcy;var Q=!0}var M=new la({root:b.root,store:b.store,data:r,_bind(a,c){var d={};!z&&a.gridSize&&
(d.gridSize=c.gridSize);!A&&a.showLabels&&(d.showLabels=c.showLabels);!E&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);!J&&a.homeX&&(d.homeX=c.homeX);!F&&a.homeY&&(d.homeY=c.homeY);!K&&a.homeScale&&(d.homeScale=c.homeScale);!I&&a.aspectRatio&&(d.aspectRatio=c.aspectRatio);!H&&a.scale&&(d.scale=c.scale);!L&&a.gcx&&(d.gcx=c.gcx);!Q&&a.gcy&&(d.gcy=c.gcy);b._set(d);Q=L=H=I=K=F=J=E=A=z=void 0}});b.root._beforecreate.push(()=>{M._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,
aspectRatio:1,scale:1,gcx:1,gcy:1},M.get())});return{c(){c=l("div");d=l("div");v._fragment.c();e=h("\n  ");D._fragment.c();t=h("\n  ");g=l("div");m=l("div");M._fragment.c();k=h("\n    ");q=l("div");q.textContent='When we map opacity to the amount that each activation contributes to "fireboat", we see a main cluster of icons showing red boats and splashing, spraying water. While there are some stray areas elsewhere, it seems that this is region of the atlas that is dedicated specifically to classifying red boats with splashing water nearby.';
d.className="atlas svelte-xuwjkq";m.className="detail svelte-xuwjkq";q.className="figcaption svelte-xuwjkq";g.className="details";c.className="focus svelte-xuwjkq"},m(a,b){a.insertBefore(c,b);c.appendChild(d);v._mount(d,null);d.appendChild(e);D._mount(d,null);c.appendChild(t);c.appendChild(g);g.appendChild(m);M._mount(m,null);g.appendChild(k);g.appendChild(q)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!w&&b.gridSize&&(c.gridSize=a.gridSize,w=void 0!==a.gridSize);!p&&b.showLabels&&
(c.showLabels=a.showLabels,p=void 0!==a.showLabels);!y&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,y=void 0!==a.classHeatmap);v._set(c);y=p=w=void 0;c={};!u&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,u=void 0!==a.aspectRatio);!n&&b.scale&&(c.scale=a.scale,n=void 0!==a.scale);!x&&b.gcx&&(c.gcx=a.gcx,x=void 0!==a.gcx);!B&&b.gcy&&(c.gcy=a.gcy,B=void 0!==a.gcy);D._set(c);B=x=n=u=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!z&&b.gridSize&&(c.gridSize=a.gridSize,z=void 0!==a.gridSize);
!A&&b.showLabels&&(c.showLabels=a.showLabels,A=void 0!==a.showLabels);!E&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,E=void 0!==a.classHeatmap);!J&&b.homeX&&(c.homeX=a.homeX,J=void 0!==a.homeX);!F&&b.homeY&&(c.homeY=a.homeY,F=void 0!==a.homeY);!K&&b.homeScale&&(c.homeScale=a.homeScale,K=void 0!==a.homeScale);!I&&b.aspectRatio&&(c.aspectRatio=a.aspectRatio,I=void 0!==a.aspectRatio);!H&&b.scale&&(c.scale=a.scale,H=void 0!==a.scale);!L&&b.gcx&&(c.gcx=a.gcx,L=void 0!==a.gcx);!Q&&b.gcy&&(c.gcy=a.gcy,
Q=void 0!==a.gcy);M._set(c);Q=L=H=I=K=F=J=E=A=z=void 0},d(a){a&&G(c);v.destroy();D.destroy();M.destroy()}}}function Re(b){N(this,b);this._state=x({layerName:"mixed5b",gridSize:1,classHeatmap:235,homeX:.844,homeY:.51,homeScale:6},b.data);this._intro=!0;this._fragment=jh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function kh(b,a){var c,d,e=b._slotted.default,t,g,m;return{c(){c=l("div");d=l("div");t=h("\n  ");g=l("div");m=h(a.label);d.className="loupe svelte-1hgfn8v";
v(d,"border-color",a.color);g.className="label svelte-1hgfn8v";v(g,"background-color",a.color);c.className="root svelte-1hgfn8v";v(c,"width",""+a.width+"px");v(c,"height",""+a.height+"px")},m(a,b){a.insertBefore(c,b);c.appendChild(d);e&&d.appendChild(e);c.appendChild(t);c.appendChild(g);g.appendChild(m)},p(a,b){a.color&&v(d,"border-color",b.color);a.label&&W(m,b.label);a.color&&v(g,"background-color",b.color);a.width&&v(c,"width",""+b.width+"px");a.height&&v(c,"height",""+b.height+"px")},d(a){a&&
G(c);e&&zb(d,e)}}}function Xa(b){N(this,b);this._state=x({label:"",width:0,height:0,color:"#ff6600"},b.data);this._intro=!0;this._slotted=b.slots||{};this._fragment=kh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor))}function lh(b,a){var c,d,e,t,g,m,k,q,r,w,p,y,v,u,n={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2"};if(void 0!==a.gridSize){n.gridSize=a.gridSize;var x=!0}if(void 0!==a.showLabels){n.showLabels=a.showLabels;
var B=!0}if(void 0!==a.classHeatmap){n.classHeatmap=a.classHeatmap;var D=!0}var z=new la({root:b.root,store:b.store,data:n,_bind(a,c){var d={};!x&&a.gridSize&&(d.gridSize=c.gridSize);!B&&a.showLabels&&(d.showLabels=c.showLabels);!D&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);b._set(d);D=B=x=void 0}});b.root._beforecreate.push(()=>{z._bind({gridSize:1,showLabels:1,classHeatmap:1},z.get())});n={background:!1,enableDragging:!1,round:!0,annotationValue:1};if(void 0!==a.aspectRatio0){n.aspectRatio=
a.aspectRatio0;var A=!0}if(void 0!==a.scale0){n.scale=a.scale0;var E=!0}if(void 0!==a.gcx0){n.gcx=a.gcx0;var J=!0}if(void 0!==a.gcy0){n.gcy=a.gcy0;var F=!0}var K=new xa({root:b.root,store:b.store,data:n,_bind(a,c){var d={};!A&&a.aspectRatio&&(d.aspectRatio0=c.aspectRatio);!E&&a.scale&&(d.scale0=c.scale);!J&&a.gcx&&(d.gcx0=c.gcx);!F&&a.gcy&&(d.gcy0=c.gcy);b._set(d);F=J=E=A=void 0}});b.root._beforecreate.push(()=>{K._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},K.get())});n={background:!1,enableDragging:!1,
round:!0,annotationValue:2};if(void 0!==a.aspectRatio1){n.aspectRatio=a.aspectRatio1;var I=!0}if(void 0!==a.scale1){n.scale=a.scale1;var H=!0}if(void 0!==a.gcx1){n.gcx=a.gcx1;var L=!0}if(void 0!==a.gcy1){n.gcy=a.gcy1;var Q=!0}var M=new xa({root:b.root,store:b.store,data:n,_bind(a,c){var d={};!I&&a.aspectRatio&&(d.aspectRatio1=c.aspectRatio);!H&&a.scale&&(d.scale1=c.scale);!L&&a.gcx&&(d.gcx1=c.gcx);!Q&&a.gcy&&(d.gcy1=c.gcy);b._set(d);Q=L=H=I=void 0}});b.root._beforecreate.push(()=>{M._bind({aspectRatio:1,
scale:1,gcx:1,gcy:1},M.get())});n={background:!1,enableDragging:!1,round:!0,annotationValue:3};if(void 0!==a.aspectRatio2){n.aspectRatio=a.aspectRatio2;var N=!0}if(void 0!==a.scale2){n.scale=a.scale2;var R=!0}if(void 0!==a.gcx2){n.gcx=a.gcx2;var V=!0}if(void 0!==a.gcy2){n.gcy=a.gcy2;var P=!0}var Ua=new xa({root:b.root,store:b.store,data:n,_bind(a,c){var d={};!N&&a.aspectRatio&&(d.aspectRatio2=c.aspectRatio);!R&&a.scale&&(d.scale2=c.scale);!V&&a.gcx&&(d.gcx2=c.gcx);!P&&a.gcy&&(d.gcy2=c.gcy);b._set(d);
P=V=R=N=void 0}});b.root._beforecreate.push(()=>{Ua._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},Ua.get())});n={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){n.gridSize=a.gridSize;var Y=!0}if(void 0!==a.showLabels){n.showLabels=a.showLabels;var fa=!0}if(void 0!==a.classHeatmap){n.classHeatmap=a.classHeatmap;var ba=!0}if(void 0!==a.highlights[0].homeX){n.homeX=a.highlights[0].homeX;
var T=!0}if(void 0!==a.highlights[0].homeY){n.homeY=a.highlights[0].homeY;var pa=!0}if(void 0!==a.highlights[0].homeScale){n.homeScale=a.highlights[0].homeScale;var ha=!0}if(void 0!==a.aspectRatio0){n.aspectRatio=a.aspectRatio0;var X=!0}if(void 0!==a.scale0){n.scale=a.scale0;var qa=!0}if(void 0!==a.gcx0){n.gcx=a.gcx0;var ra=!0}if(void 0!==a.gcy0){n.gcy=a.gcy0;var ua=!0}var Z=new la({root:b.root,store:b.store,data:n,_bind(c,d){var e={};!Y&&c.gridSize&&(e.gridSize=d.gridSize);!fa&&c.showLabels&&(e.showLabels=
d.showLabels);!ba&&c.classHeatmap&&(e.classHeatmap=d.classHeatmap);!T&&c.homeX&&(a.highlights[0].homeX=d.homeX,e.highlights=a.highlights);!pa&&c.homeY&&(a.highlights[0].homeY=d.homeY,e.highlights=a.highlights);!ha&&c.homeScale&&(a.highlights[0].homeScale=d.homeScale,e.highlights=a.highlights);!X&&c.aspectRatio&&(e.aspectRatio0=d.aspectRatio);!qa&&c.scale&&(e.scale0=d.scale);!ra&&c.gcx&&(e.gcx0=d.gcx);!ua&&c.gcy&&(e.gcy0=d.gcy);b._set(e);ua=ra=qa=X=ha=pa=T=ba=fa=Y=void 0}});b.root._beforecreate.push(()=>
{Z._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},Z.get())});n={width:a.loupeSize,height:a.loupeSize,label:1};var ia=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:n});n={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){n.gridSize=a.gridSize;var ka=!0}if(void 0!==a.showLabels){n.showLabels=a.showLabels;
var Na=!0}if(void 0!==a.classHeatmap){n.classHeatmap=a.classHeatmap;var vb=!0}if(void 0!==a.highlights[1].homeX){n.homeX=a.highlights[1].homeX;var ja=!0}if(void 0!==a.highlights[1].homeY){n.homeY=a.highlights[1].homeY;var sa=!0}if(void 0!==a.highlights[1].homeScale){n.homeScale=a.highlights[1].homeScale;var wa=!0}if(void 0!==a.aspectRatio1){n.aspectRatio=a.aspectRatio1;var ma=!0}if(void 0!==a.scale1){n.scale=a.scale1;var ca=!0}if(void 0!==a.gcx1){n.gcx=a.gcx1;var va=!0}if(void 0!==a.gcy1){n.gcy=a.gcy1;
var ya=!0}var aa=new la({root:b.root,store:b.store,data:n,_bind(c,d){var e={};!ka&&c.gridSize&&(e.gridSize=d.gridSize);!Na&&c.showLabels&&(e.showLabels=d.showLabels);!vb&&c.classHeatmap&&(e.classHeatmap=d.classHeatmap);!ja&&c.homeX&&(a.highlights[1].homeX=d.homeX,e.highlights=a.highlights);!sa&&c.homeY&&(a.highlights[1].homeY=d.homeY,e.highlights=a.highlights);!wa&&c.homeScale&&(a.highlights[1].homeScale=d.homeScale,e.highlights=a.highlights);!ma&&c.aspectRatio&&(e.aspectRatio1=d.aspectRatio);!ca&&
c.scale&&(e.scale1=d.scale);!va&&c.gcx&&(e.gcx1=d.gcx);!ya&&c.gcy&&(e.gcy1=d.gcy);b._set(e);ya=va=ca=ma=wa=sa=ja=vb=Na=ka=void 0}});b.root._beforecreate.push(()=>{aa._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},aa.get())});n={width:a.loupeSize,height:a.loupeSize,label:2};var na=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:n});n={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",
enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1};if(void 0!==a.gridSize){n.gridSize=a.gridSize;var Da=!0}if(void 0!==a.showLabels){n.showLabels=a.showLabels;var Ea=!0}if(void 0!==a.classHeatmap){n.classHeatmap=a.classHeatmap;var za=!0}if(void 0!==a.highlights[2].homeX){n.homeX=a.highlights[2].homeX;var Ba=!0}if(void 0!==a.highlights[2].homeY){n.homeY=a.highlights[2].homeY;var Ca=!0}if(void 0!==a.highlights[2].homeScale){n.homeScale=a.highlights[2].homeScale;var Va=!0}if(void 0!==a.aspectRatio2){n.aspectRatio=
a.aspectRatio2;var Qa=!0}if(void 0!==a.scale2){n.scale=a.scale2;var Za=!0}if(void 0!==a.gcx2){n.gcx=a.gcx2;var oa=!0}if(void 0!==a.gcy2){n.gcy=a.gcy2;var ta=!0}var Ra=new la({root:b.root,store:b.store,data:n,_bind(c,d){var e={};!Da&&c.gridSize&&(e.gridSize=d.gridSize);!Ea&&c.showLabels&&(e.showLabels=d.showLabels);!za&&c.classHeatmap&&(e.classHeatmap=d.classHeatmap);!Ba&&c.homeX&&(a.highlights[2].homeX=d.homeX,e.highlights=a.highlights);!Ca&&c.homeY&&(a.highlights[2].homeY=d.homeY,e.highlights=a.highlights);
!Va&&c.homeScale&&(a.highlights[2].homeScale=d.homeScale,e.highlights=a.highlights);!Qa&&c.aspectRatio&&(e.aspectRatio2=d.aspectRatio);!Za&&c.scale&&(e.scale2=d.scale);!oa&&c.gcx&&(e.gcx2=d.gcx);!ta&&c.gcy&&(e.gcy2=d.gcy);b._set(e);ta=oa=Za=Qa=Va=Ca=Ba=za=Ea=Da=void 0}});b.root._beforecreate.push(()=>{Ra._bind({gridSize:1,showLabels:1,classHeatmap:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},Ra.get())});n={width:a.loupeSize,height:a.loupeSize,label:3};var Aa=new Xa({root:b.root,
store:b.store,slots:{default:Pa()},data:n});return{c(){c=l("div");d=l("div");z._fragment.c();e=h("\n    ");K._fragment.c();t=h("\n    ");M._fragment.c();g=h("\n    ");Ua._fragment.c();m=h("\n  ");k=l("div");Z._fragment.c();ia._fragment.c();q=h("\n    ");aa._fragment.c();na._fragment.c();r=h("\n    ");Ra._fragment.c();Aa._fragment.c();w=h("\n    ");p=l("div");y=h("In ");v=h(a.layerName);u=h(' we see we see the attribution toward "fireboat" is high in several clusters located in different positions around the atlas. One is very focused on windows, another on geysers and splashing water, and yet another on crane-like objects.');
d.className="atlas svelte-1luklhy";p.className="figcaption svelte-1luklhy";k.className="details svelte-1luklhy";c.className="focus svelte-1luklhy"},m(a,b){a.insertBefore(c,b);c.appendChild(d);z._mount(d,null);d.appendChild(e);K._mount(d,null);d.appendChild(t);M._mount(d,null);d.appendChild(g);Ua._mount(d,null);c.appendChild(m);c.appendChild(k);Z._mount(ia._slotted.default,null);ia._mount(k,null);k.appendChild(q);aa._mount(na._slotted.default,null);na._mount(k,null);k.appendChild(r);Ra._mount(Aa._slotted.default,
null);Aa._mount(k,null);k.appendChild(w);k.appendChild(p);p.appendChild(y);p.appendChild(v);p.appendChild(u)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!x&&b.gridSize&&(c.gridSize=a.gridSize,x=void 0!==a.gridSize);!B&&b.showLabels&&(c.showLabels=a.showLabels,B=void 0!==a.showLabels);!D&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,D=void 0!==a.classHeatmap);z._set(c);D=B=x=void 0;c={};!A&&b.aspectRatio0&&(c.aspectRatio=a.aspectRatio0,A=void 0!==a.aspectRatio0);!E&&b.scale0&&
(c.scale=a.scale0,E=void 0!==a.scale0);!J&&b.gcx0&&(c.gcx=a.gcx0,J=void 0!==a.gcx0);!F&&b.gcy0&&(c.gcy=a.gcy0,F=void 0!==a.gcy0);K._set(c);F=J=E=A=void 0;c={};!I&&b.aspectRatio1&&(c.aspectRatio=a.aspectRatio1,I=void 0!==a.aspectRatio1);!H&&b.scale1&&(c.scale=a.scale1,H=void 0!==a.scale1);!L&&b.gcx1&&(c.gcx=a.gcx1,L=void 0!==a.gcx1);!Q&&b.gcy1&&(c.gcy=a.gcy1,Q=void 0!==a.gcy1);M._set(c);Q=L=H=I=void 0;c={};!N&&b.aspectRatio2&&(c.aspectRatio=a.aspectRatio2,N=void 0!==a.aspectRatio2);!R&&b.scale2&&(c.scale=
a.scale2,R=void 0!==a.scale2);!V&&b.gcx2&&(c.gcx=a.gcx2,V=void 0!==a.gcx2);!P&&b.gcy2&&(c.gcy=a.gcy2,P=void 0!==a.gcy2);Ua._set(c);P=V=R=N=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Y&&b.gridSize&&(c.gridSize=a.gridSize,Y=void 0!==a.gridSize);!fa&&b.showLabels&&(c.showLabels=a.showLabels,fa=void 0!==a.showLabels);!ba&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,ba=void 0!==a.classHeatmap);!T&&b.highlights&&(c.homeX=a.highlights[0].homeX,T=void 0!==a.highlights[0].homeX);!pa&&b.highlights&&
(c.homeY=a.highlights[0].homeY,pa=void 0!==a.highlights[0].homeY);!ha&&b.highlights&&(c.homeScale=a.highlights[0].homeScale,ha=void 0!==a.highlights[0].homeScale);!X&&b.aspectRatio0&&(c.aspectRatio=a.aspectRatio0,X=void 0!==a.aspectRatio0);!qa&&b.scale0&&(c.scale=a.scale0,qa=void 0!==a.scale0);!ra&&b.gcx0&&(c.gcx=a.gcx0,ra=void 0!==a.gcx0);!ua&&b.gcy0&&(c.gcy=a.gcy0,ua=void 0!==a.gcy0);Z._set(c);ua=ra=qa=X=ha=pa=T=ba=fa=Y=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);
ia._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!ka&&b.gridSize&&(c.gridSize=a.gridSize,ka=void 0!==a.gridSize);!Na&&b.showLabels&&(c.showLabels=a.showLabels,Na=void 0!==a.showLabels);!vb&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,vb=void 0!==a.classHeatmap);!ja&&b.highlights&&(c.homeX=a.highlights[1].homeX,ja=void 0!==a.highlights[1].homeX);!sa&&b.highlights&&(c.homeY=a.highlights[1].homeY,sa=void 0!==a.highlights[1].homeY);!wa&&b.highlights&&(c.homeScale=a.highlights[1].homeScale,
wa=void 0!==a.highlights[1].homeScale);!ma&&b.aspectRatio1&&(c.aspectRatio=a.aspectRatio1,ma=void 0!==a.aspectRatio1);!ca&&b.scale1&&(c.scale=a.scale1,ca=void 0!==a.scale1);!va&&b.gcx1&&(c.gcx=a.gcx1,va=void 0!==a.gcx1);!ya&&b.gcy1&&(c.gcy=a.gcy1,ya=void 0!==a.gcy1);aa._set(c);ya=va=ca=ma=wa=sa=ja=vb=Na=ka=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);na._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Da&&b.gridSize&&(c.gridSize=a.gridSize,Da=void 0!==
a.gridSize);!Ea&&b.showLabels&&(c.showLabels=a.showLabels,Ea=void 0!==a.showLabels);!za&&b.classHeatmap&&(c.classHeatmap=a.classHeatmap,za=void 0!==a.classHeatmap);!Ba&&b.highlights&&(c.homeX=a.highlights[2].homeX,Ba=void 0!==a.highlights[2].homeX);!Ca&&b.highlights&&(c.homeY=a.highlights[2].homeY,Ca=void 0!==a.highlights[2].homeY);!Va&&b.highlights&&(c.homeScale=a.highlights[2].homeScale,Va=void 0!==a.highlights[2].homeScale);!Qa&&b.aspectRatio2&&(c.aspectRatio=a.aspectRatio2,Qa=void 0!==a.aspectRatio2);
!Za&&b.scale2&&(c.scale=a.scale2,Za=void 0!==a.scale2);!oa&&b.gcx2&&(c.gcx=a.gcx2,oa=void 0!==a.gcx2);!ta&&b.gcy2&&(c.gcy=a.gcy2,ta=void 0!==a.gcy2);Ra._set(c);ta=oa=Za=Qa=Va=Ca=Ba=za=Ea=Da=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Aa._set(c);b.layerName&&W(v,a.layerName)},d(a){a&&G(c);z.destroy();K.destroy();M.destroy();Ua.destroy();Z.destroy();ia.destroy();aa.destroy();na.destroy();Ra.destroy();Aa.destroy()}}}function Se(b){N(this,b);this._state=x({loupeSize:245,
layerName:"mixed4d",gridSize:1,classHeatmap:235,highlights:[{homeX:.221,homeY:.138,homeScale:10},{homeX:.709,homeY:.421,homeScale:10},{homeX:.873,homeY:.415,homeScale:10},{homeX:.789,homeY:.861,homeScale:10}]},b.data);this._intro=!0;this._fragment=lh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function mh(b,a){var c,d,e,t,g,m,k,q,r,w,p,y,v,u,n,x,B,D,z={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",classHeatmap:235};
if(void 0!==a.gridSize){z.gridSize=a.gridSize;var A=!0}var E=new la({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!A&&a.gridSize&&(d.gridSize=c.gridSize);b._set(d);A=void 0}});b.root._beforecreate.push(()=>{E._bind({gridSize:1},E.get())});z={background:!1,round:!0,annotationValue:1,enableDragging:!1};if(void 0!==a.$focus3aspectRatio0){z.aspectRatio=a.$focus3aspectRatio0;var J=!0}if(void 0!==a.$focus3scale0){z.scale=a.$focus3scale0;var F=!0}if(void 0!==a.$focus3gcx0){z.gcx=a.$focus3gcx0;var K=
!0}if(void 0!==a.$focus3gcy0){z.gcy=a.$focus3gcy0;var I=!0}var H=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!J&&a.aspectRatio&&(d.focus3aspectRatio0=c.aspectRatio);!F&&a.scale&&(d.focus3scale0=c.scale);!K&&a.gcx&&(d.focus3gcx0=c.gcx);!I&&a.gcy&&(d.focus3gcy0=c.gcy);b.store.set(d);I=K=F=J=void 0}});b.root._beforecreate.push(()=>{H._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},H.get())});z={background:!1,round:!0,annotationValue:2,enableDragging:!1};if(void 0!==a.$focus3aspectRatio1){z.aspectRatio=
a.$focus3aspectRatio1;var L=!0}if(void 0!==a.$focus3scale1){z.scale=a.$focus3scale1;var Q=!0}if(void 0!==a.$focus3gcx1){z.gcx=a.$focus3gcx1;var M=!0}if(void 0!==a.$focus3gcy1){z.gcy=a.$focus3gcy1;var N=!0}var R=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!L&&a.aspectRatio&&(d.focus3aspectRatio1=c.aspectRatio);!Q&&a.scale&&(d.focus3scale1=c.scale);!M&&a.gcx&&(d.focus3gcx1=c.gcx);!N&&a.gcy&&(d.focus3gcy1=c.gcy);b.store.set(d);N=M=Q=L=void 0}});b.root._beforecreate.push(()=>{R._bind({aspectRatio:1,
scale:1,gcx:1,gcy:1},R.get())});z={background:!1,round:!0,annotationValue:3,enableDragging:!1};if(void 0!==a.$focus3aspectRatio2){z.aspectRatio=a.$focus3aspectRatio2;var P=!0}if(void 0!==a.$focus3scale2){z.scale=a.$focus3scale2;var W=!0}if(void 0!==a.$focus3gcx2){z.gcx=a.$focus3gcx2;var Y=!0}if(void 0!==a.$focus3gcy2){z.gcy=a.$focus3gcy2;var Z=!0}var fa=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!P&&a.aspectRatio&&(d.focus3aspectRatio2=c.aspectRatio);!W&&a.scale&&(d.focus3scale2=
c.scale);!Y&&a.gcx&&(d.focus3gcx2=c.gcx);!Z&&a.gcy&&(d.focus3gcy2=c.gcy);b.store.set(d);Z=Y=W=P=void 0}});b.root._beforecreate.push(()=>{fa._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},fa.get())});z={background:!1,round:!0,annotationValue:4,enableDragging:!1};if(void 0!==a.$focus3aspectRatio3){z.aspectRatio=a.$focus3aspectRatio3;var ba=!0}if(void 0!==a.$focus3scale3){z.scale=a.$focus3scale3;var T=!0}if(void 0!==a.$focus3gcx3){z.gcx=a.$focus3gcx3;var pa=!0}if(void 0!==a.$focus3gcy3){z.gcy=a.$focus3gcy3;
var ha=!0}var X=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!ba&&a.aspectRatio&&(d.focus3aspectRatio3=c.aspectRatio);!T&&a.scale&&(d.focus3scale3=c.scale);!pa&&a.gcx&&(d.focus3gcx3=c.gcx);!ha&&a.gcy&&(d.focus3gcy3=c.gcy);b.store.set(d);ha=pa=T=ba=void 0}});b.root._beforecreate.push(()=>{X._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},X.get())});z={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",classHeatmap:287};if(void 0!==a.gridSize){z.gridSize=
a.gridSize;var qa=!0}var ra=new la({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!qa&&a.gridSize&&(d.gridSize=c.gridSize);b._set(d);qa=void 0}});b.root._beforecreate.push(()=>{ra._bind({gridSize:1},ra.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:1,enableDragging:!1};if(void 0!==a.$focus3aspectRatio0){z.aspectRatio=a.$focus3aspectRatio0;var ua=!0}if(void 0!==a.$focus3scale0){z.scale=a.$focus3scale0;var ia=!0}if(void 0!==a.$focus3gcx0){z.gcx=a.$focus3gcx0;var ka=!0}if(void 0!==
a.$focus3gcy0){z.gcy=a.$focus3gcy0;var oa=!0}var Na=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!ua&&a.aspectRatio&&(d.focus3aspectRatio0=c.aspectRatio);!ia&&a.scale&&(d.focus3scale0=c.scale);!ka&&a.gcx&&(d.focus3gcx0=c.gcx);!oa&&a.gcy&&(d.focus3gcy0=c.gcy);b.store.set(d);oa=ka=ia=ua=void 0}});b.root._beforecreate.push(()=>{Na._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},Na.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:2,enableDragging:!1};if(void 0!==a.$focus3aspectRatio1){z.aspectRatio=
a.$focus3aspectRatio1;var ta=!0}if(void 0!==a.$focus3scale1){z.scale=a.$focus3scale1;var ja=!0}if(void 0!==a.$focus3gcx1){z.gcx=a.$focus3gcx1;var sa=!0}if(void 0!==a.$focus3gcy1){z.gcy=a.$focus3gcy1;var wa=!0}var ma=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!ta&&a.aspectRatio&&(d.focus3aspectRatio1=c.aspectRatio);!ja&&a.scale&&(d.focus3scale1=c.scale);!sa&&a.gcx&&(d.focus3gcx1=c.gcx);!wa&&a.gcy&&(d.focus3gcy1=c.gcy);b.store.set(d);wa=sa=ja=ta=void 0}});b.root._beforecreate.push(()=>
{ma._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},ma.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:3,enableDragging:!1};if(void 0!==a.$focus3aspectRatio2){z.aspectRatio=a.$focus3aspectRatio2;var ca=!0}if(void 0!==a.$focus3scale2){z.scale=a.$focus3scale2;var va=!0}if(void 0!==a.$focus3gcx2){z.gcx=a.$focus3gcx2;var ya=!0}if(void 0!==a.$focus3gcy2){z.gcy=a.$focus3gcy2;var aa=!0}var na=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!ca&&a.aspectRatio&&(d.focus3aspectRatio2=
c.aspectRatio);!va&&a.scale&&(d.focus3scale2=c.scale);!ya&&a.gcx&&(d.focus3gcx2=c.gcx);!aa&&a.gcy&&(d.focus3gcy2=c.gcy);b.store.set(d);aa=ya=va=ca=void 0}});b.root._beforecreate.push(()=>{na._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},na.get())});z={background:!1,round:!0,color:"#ffaa00",annotationValue:4,enableDragging:!1};if(void 0!==a.$focus3aspectRatio3){z.aspectRatio=a.$focus3aspectRatio3;var Da=!0}if(void 0!==a.$focus3scale3){z.scale=a.$focus3scale3;var Ea=!0}if(void 0!==a.$focus3gcx3){z.gcx=
a.$focus3gcx3;var za=!0}if(void 0!==a.$focus3gcy3){z.gcy=a.$focus3gcy3;var Ba=!0}var Ca=new xa({root:b.root,store:b.store,data:z,_bind(a,c){var d={};!Da&&a.aspectRatio&&(d.focus3aspectRatio3=c.aspectRatio);!Ea&&a.scale&&(d.focus3scale3=c.scale);!za&&a.gcx&&(d.focus3gcx3=c.gcx);!Ba&&a.gcy&&(d.focus3gcy3=c.gcy);b.store.set(d);Ba=za=Ea=Da=void 0}});b.root._beforecreate.push(()=>{Ca._bind({aspectRatio:1,scale:1,gcx:1,gcy:1},Ca.get())});return{c(){c=l("div");d=l("div");e=l("h4");e.textContent="Activations for Fireboat";
t=h("\n    ");g=l("div");E._fragment.c();m=h("\n      ");H._fragment.c();k=h("\n      ");R._fragment.c();q=h("\n      ");fa._fragment.c();r=h("\n      ");X._fragment.c();w=h("\n  ");p=l("div");y=l("h4");y.textContent="Activations for Streetcar";v=h("\n    ");u=l("div");ra._fragment.c();n=h("\n      ");Na._fragment.c();x=h("\n      ");ma._fragment.c();B=h("\n      ");na._fragment.c();D=h("\n      ");Ca._fragment.c();e.className="svelte-7wmkxl";g.className="atlas svelte-7wmkxl";d.className="column svelte-7wmkxl";
y.className="svelte-7wmkxl";u.className="atlas svelte-7wmkxl";p.className="column svelte-7wmkxl";c.className="focus svelte-7wmkxl"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);d.appendChild(t);d.appendChild(g);E._mount(g,null);g.appendChild(m);H._mount(g,null);g.appendChild(k);R._mount(g,null);g.appendChild(q);fa._mount(g,null);g.appendChild(r);X._mount(g,null);c.appendChild(w);c.appendChild(p);p.appendChild(y);p.appendChild(v);p.appendChild(u);ra._mount(u,null);u.appendChild(n);
Na._mount(u,null);u.appendChild(x);ma._mount(u,null);u.appendChild(B);na._mount(u,null);u.appendChild(D);Ca._mount(u,null)},p(b,c){a=c;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!A&&b.gridSize&&(c.gridSize=a.gridSize,A=void 0!==a.gridSize);E._set(c);A=void 0;c={};!J&&b.$focus3aspectRatio0&&(c.aspectRatio=a.$focus3aspectRatio0,J=void 0!==a.$focus3aspectRatio0);!F&&b.$focus3scale0&&(c.scale=a.$focus3scale0,F=void 0!==a.$focus3scale0);!K&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,K=void 0!==a.$focus3gcx0);
!I&&b.$focus3gcy0&&(c.gcy=a.$focus3gcy0,I=void 0!==a.$focus3gcy0);H._set(c);I=K=F=J=void 0;c={};!L&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,L=void 0!==a.$focus3aspectRatio1);!Q&&b.$focus3scale1&&(c.scale=a.$focus3scale1,Q=void 0!==a.$focus3scale1);!M&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,M=void 0!==a.$focus3gcx1);!N&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,N=void 0!==a.$focus3gcy1);R._set(c);N=M=Q=L=void 0;c={};!P&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,P=void 0!==
a.$focus3aspectRatio2);!W&&b.$focus3scale2&&(c.scale=a.$focus3scale2,W=void 0!==a.$focus3scale2);!Y&&b.$focus3gcx2&&(c.gcx=a.$focus3gcx2,Y=void 0!==a.$focus3gcx2);!Z&&b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,Z=void 0!==a.$focus3gcy2);fa._set(c);Z=Y=W=P=void 0;c={};!ba&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,ba=void 0!==a.$focus3aspectRatio3);!T&&b.$focus3scale3&&(c.scale=a.$focus3scale3,T=void 0!==a.$focus3scale3);!pa&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,pa=void 0!==a.$focus3gcx3);
!ha&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,ha=void 0!==a.$focus3gcy3);X._set(c);ha=pa=T=ba=void 0;c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!qa&&b.gridSize&&(c.gridSize=a.gridSize,qa=void 0!==a.gridSize);ra._set(c);qa=void 0;c={};!ua&&b.$focus3aspectRatio0&&(c.aspectRatio=a.$focus3aspectRatio0,ua=void 0!==a.$focus3aspectRatio0);!ia&&b.$focus3scale0&&(c.scale=a.$focus3scale0,ia=void 0!==a.$focus3scale0);!ka&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,ka=void 0!==a.$focus3gcx0);!oa&&b.$focus3gcy0&&
(c.gcy=a.$focus3gcy0,oa=void 0!==a.$focus3gcy0);Na._set(c);oa=ka=ia=ua=void 0;c={};!ta&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,ta=void 0!==a.$focus3aspectRatio1);!ja&&b.$focus3scale1&&(c.scale=a.$focus3scale1,ja=void 0!==a.$focus3scale1);!sa&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,sa=void 0!==a.$focus3gcx1);!wa&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,wa=void 0!==a.$focus3gcy1);ma._set(c);wa=sa=ja=ta=void 0;c={};!ca&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,ca=void 0!==
a.$focus3aspectRatio2);!va&&b.$focus3scale2&&(c.scale=a.$focus3scale2,va=void 0!==a.$focus3scale2);!ya&&b.$focus3gcx2&&(c.gcx=a.$focus3gcx2,ya=void 0!==a.$focus3gcx2);!aa&&b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,aa=void 0!==a.$focus3gcy2);na._set(c);aa=ya=va=ca=void 0;c={};!Da&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,Da=void 0!==a.$focus3aspectRatio3);!Ea&&b.$focus3scale3&&(c.scale=a.$focus3scale3,Ea=void 0!==a.$focus3scale3);!za&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,za=void 0!==a.$focus3gcx3);
!Ba&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,Ba=void 0!==a.$focus3gcy3);Ca._set(c);Ba=za=Ea=Da=void 0},d(a){a&&G(c);E.destroy();H.destroy();R.destroy();fa.destroy();X.destroy();ra.destroy();Na.destroy();ma.destroy();na.destroy();Ca.destroy()}}}function Te(b){N(this,b);this._state=x(x(this.store._init("focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" ")),
{layerName:"mixed4d",gridSize:1}),b.data);this.store._add(this,"focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" "));this._intro=!0;this._handlers.destroy=[Ia];this._fragment=mh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function nh(b,a){var c,d,e,t,g,m,k,q,r,w,p,y,u,x,n,D,B,F,z,
A,E,J,H,K,I,N,L,Q,M,P,R={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:235};if(void 0!==a.gridSize){R.gridSize=a.gridSize;var V=!0}if(void 0!==a.showLabels){R.showLabels=a.showLabels;var Y=!0}if(void 0!==a.$focus3Highlights[0].homeX){R.homeX=a.$focus3Highlights[0].homeX;var Z=!0}if(void 0!==a.$focus3Highlights[0].homeY){R.homeY=a.$focus3Highlights[0].homeY;var ba=!0}if(void 0!==a.$focus3Highlights[0].homeScale){R.homeScale=
a.$focus3Highlights[0].homeScale;var fa=!0}if(void 0!==a.$focus3aspectRatio0){R.aspectRatio=a.$focus3aspectRatio0;var ia=!0}if(void 0!==a.$focus3scale0){R.scale=a.$focus3scale0;var T=!0}if(void 0!==a.$focus3gcx0){R.gcx=a.$focus3gcx0;var pa=!0}if(void 0!==a.$focus3gcy0){R.gcy=a.$focus3gcy0;var ha=!0}var X=new la({root:b.root,store:b.store,data:R,_bind(c,d){var e={},f={};!V&&c.gridSize&&(e.gridSize=d.gridSize);!Y&&c.showLabels&&(e.showLabels=d.showLabels);!Z&&c.homeX&&(a.$focus3Highlights[0].homeX=
d.homeX,f.focus3Highlights=a.$focus3Highlights);!ba&&c.homeY&&(a.$focus3Highlights[0].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!fa&&c.homeScale&&(a.$focus3Highlights[0].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!ia&&c.aspectRatio&&(f.focus3aspectRatio0=d.aspectRatio);!T&&c.scale&&(f.focus3scale0=d.scale);!pa&&c.gcx&&(f.focus3gcx0=d.gcx);!ha&&c.gcy&&(f.focus3gcy0=d.gcy);b.store.set(f);b._set(e);ha=pa=T=ia=fa=ba=Z=Y=V=void 0}});b.root._beforecreate.push(()=>{X._bind({gridSize:1,
showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},X.get())});var qa={width:a.loupeSize,height:a.loupeSize,label:1},ra=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:qa}),ua={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){ua.gridSize=a.gridSize;var ka=!0}if(void 0!==a.showLabels){ua.showLabels=a.showLabels;var oa=!0}if(void 0!==
a.$focus3Highlights[0].homeX){ua.homeX=a.$focus3Highlights[0].homeX;var ta=!0}if(void 0!==a.$focus3Highlights[0].homeY){ua.homeY=a.$focus3Highlights[0].homeY;var xa=!0}if(void 0!==a.$focus3Highlights[0].homeScale){ua.homeScale=a.$focus3Highlights[0].homeScale;var Fa=!0}if(void 0!==a.$focus3aspectRatio0){ua.aspectRatio=a.$focus3aspectRatio0;var ja=!0}if(void 0!==a.$focus3scale0){ua.scale=a.$focus3scale0;var sa=!0}if(void 0!==a.$focus3gcx0){ua.gcx=a.$focus3gcx0;var wa=!0}if(void 0!==a.$focus3gcy0){ua.gcy=
a.$focus3gcy0;var ma=!0}var ca=new la({root:b.root,store:b.store,data:ua,_bind(c,d){var e={},f={};!ka&&c.gridSize&&(e.gridSize=d.gridSize);!oa&&c.showLabels&&(e.showLabels=d.showLabels);!ta&&c.homeX&&(a.$focus3Highlights[0].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!xa&&c.homeY&&(a.$focus3Highlights[0].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!Fa&&c.homeScale&&(a.$focus3Highlights[0].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!ja&&c.aspectRatio&&(f.focus3aspectRatio0=
d.aspectRatio);!sa&&c.scale&&(f.focus3scale0=d.scale);!wa&&c.gcx&&(f.focus3gcx0=d.gcx);!ma&&c.gcy&&(f.focus3gcy0=d.gcy);b.store.set(f);b._set(e);ma=wa=sa=ja=Fa=xa=ta=oa=ka=void 0}});b.root._beforecreate.push(()=>{ca._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},ca.get())});var va={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:1},ya=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:va}),aa={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",
scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,classHeatmap:235};if(void 0!==a.gridSize){aa.gridSize=a.gridSize;var na=!0}if(void 0!==a.showLabels){aa.showLabels=a.showLabels;var Da=!0}if(void 0!==a.$focus3Highlights[1].homeX){aa.homeX=a.$focus3Highlights[1].homeX;var Ea=!0}if(void 0!==a.$focus3Highlights[1].homeY){aa.homeY=a.$focus3Highlights[1].homeY;var za=!0}if(void 0!==a.$focus3Highlights[1].homeScale){aa.homeScale=a.$focus3Highlights[1].homeScale;var Ba=!0}if(void 0!==a.$focus3aspectRatio1){aa.aspectRatio=
a.$focus3aspectRatio1;var Ca=!0}if(void 0!==a.$focus3scale1){aa.scale=a.$focus3scale1;var Va=!0}if(void 0!==a.$focus3gcx1){aa.gcx=a.$focus3gcx1;var Qa=!0}if(void 0!==a.$focus3gcy1){aa.gcy=a.$focus3gcy1;var Za=!0}var Ia=new la({root:b.root,store:b.store,data:aa,_bind(c,d){var e={},f={};!na&&c.gridSize&&(e.gridSize=d.gridSize);!Da&&c.showLabels&&(e.showLabels=d.showLabels);!Ea&&c.homeX&&(a.$focus3Highlights[1].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!za&&c.homeY&&(a.$focus3Highlights[1].homeY=
d.homeY,f.focus3Highlights=a.$focus3Highlights);!Ba&&c.homeScale&&(a.$focus3Highlights[1].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!Ca&&c.aspectRatio&&(f.focus3aspectRatio1=d.aspectRatio);!Va&&c.scale&&(f.focus3scale1=d.scale);!Qa&&c.gcx&&(f.focus3gcx1=d.gcx);!Za&&c.gcy&&(f.focus3gcy1=d.gcy);b.store.set(f);b._set(e);Za=Qa=Va=Ca=Ba=za=Ea=Da=na=void 0}});b.root._beforecreate.push(()=>{Ia._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},
Ia.get())});var Ya={width:a.loupeSize,height:a.loupeSize,label:2},Ra=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:Ya}),Aa={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){Aa.gridSize=a.gridSize;var $a=!0}if(void 0!==a.showLabels){Aa.showLabels=a.showLabels;var Oa=!0}if(void 0!==a.$focus3Highlights[1].homeX){Aa.homeX=a.$focus3Highlights[1].homeX;
var wb=!0}if(void 0!==a.$focus3Highlights[1].homeY){Aa.homeY=a.$focus3Highlights[1].homeY;var cb=!0}if(void 0!==a.$focus3Highlights[1].homeScale){Aa.homeScale=a.$focus3Highlights[1].homeScale;var db=!0}if(void 0!==a.$focus3aspectRatio1){Aa.aspectRatio=a.$focus3aspectRatio1;var eb=!0}if(void 0!==a.$focus3scale1){Aa.scale=a.$focus3scale1;var fb=!0}if(void 0!==a.$focus3gcx1){Aa.gcx=a.$focus3gcx1;var ib=!0}if(void 0!==a.$focus3gcy1){Aa.gcy=a.$focus3gcy1;var jb=!0}var Sa=new la({root:b.root,store:b.store,
data:Aa,_bind(c,d){var e={},f={};!$a&&c.gridSize&&(e.gridSize=d.gridSize);!Oa&&c.showLabels&&(e.showLabels=d.showLabels);!wb&&c.homeX&&(a.$focus3Highlights[1].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!cb&&c.homeY&&(a.$focus3Highlights[1].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!db&&c.homeScale&&(a.$focus3Highlights[1].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!eb&&c.aspectRatio&&(f.focus3aspectRatio1=d.aspectRatio);!fb&&c.scale&&(f.focus3scale1=d.scale);
!ib&&c.gcx&&(f.focus3gcx1=d.gcx);!jb&&c.gcy&&(f.focus3gcy1=d.gcy);b.store.set(f);b._set(e);jb=ib=fb=eb=db=cb=wb=Oa=$a=void 0}});b.root._beforecreate.push(()=>{Sa._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},Sa.get())});var yb={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:2},mb=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:yb}),Wa={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",
enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:235};if(void 0!==a.gridSize){Wa.gridSize=a.gridSize;var lb=!0}if(void 0!==a.showLabels){Wa.showLabels=a.showLabels;var kb=!0}if(void 0!==a.$focus3Highlights[2].homeX){Wa.homeX=a.$focus3Highlights[2].homeX;var ab=!0}if(void 0!==a.$focus3Highlights[2].homeY){Wa.homeY=a.$focus3Highlights[2].homeY;var Ha=!0}if(void 0!==a.$focus3Highlights[2].homeScale){Wa.homeScale=a.$focus3Highlights[2].homeScale;var nb=!0}if(void 0!==a.$focus3aspectRatio2){Wa.aspectRatio=
a.$focus3aspectRatio2;var ob=!0}if(void 0!==a.$focus3scale2){Wa.scale=a.$focus3scale2;var pb=!0}if(void 0!==a.$focus3gcx2){Wa.gcx=a.$focus3gcx2;var qb=!0}if(void 0!==a.$focus3gcy2){Wa.gcy=a.$focus3gcy2;var xb=!0}var tb=new la({root:b.root,store:b.store,data:Wa,_bind(c,d){var e={},f={};!lb&&c.gridSize&&(e.gridSize=d.gridSize);!kb&&c.showLabels&&(e.showLabels=d.showLabels);!ab&&c.homeX&&(a.$focus3Highlights[2].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!Ha&&c.homeY&&(a.$focus3Highlights[2].homeY=
d.homeY,f.focus3Highlights=a.$focus3Highlights);!nb&&c.homeScale&&(a.$focus3Highlights[2].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!ob&&c.aspectRatio&&(f.focus3aspectRatio2=d.aspectRatio);!pb&&c.scale&&(f.focus3scale2=d.scale);!qb&&c.gcx&&(f.focus3gcx2=d.gcx);!xb&&c.gcy&&(f.focus3gcy2=d.gcy);b.store.set(f);b._set(e);xb=qb=pb=ob=nb=Ha=ab=kb=lb=void 0}});b.root._beforecreate.push(()=>{tb._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},
tb.get())});var zb={width:a.loupeSize,height:a.loupeSize,label:3},bb=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:zb}),Ta={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){Ta.gridSize=a.gridSize;var Ja=!0}if(void 0!==a.showLabels){Ta.showLabels=a.showLabels;var Ka=!0}if(void 0!==a.$focus3Highlights[2].homeX){Ta.homeX=a.$focus3Highlights[2].homeX;
var gb=!0}if(void 0!==a.$focus3Highlights[2].homeY){Ta.homeY=a.$focus3Highlights[2].homeY;var La=!0}if(void 0!==a.$focus3Highlights[2].homeScale){Ta.homeScale=a.$focus3Highlights[2].homeScale;var hb=!0}if(void 0!==a.$focus3aspectRatio2){Ta.aspectRatio=a.$focus3aspectRatio2;var Ma=!0}if(void 0!==a.$focus3scale2){Ta.scale=a.$focus3scale2;var ub=!0}if(void 0!==a.$focus3gcx2){Ta.gcx=a.$focus3gcx2;var Hb=!0}if(void 0!==a.$focus3gcy2){Ta.gcy=a.$focus3gcy2;var Jb=!0}var Eb=new la({root:b.root,store:b.store,
data:Ta,_bind(c,d){var e={},f={};!Ja&&c.gridSize&&(e.gridSize=d.gridSize);!Ka&&c.showLabels&&(e.showLabels=d.showLabels);!gb&&c.homeX&&(a.$focus3Highlights[2].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!La&&c.homeY&&(a.$focus3Highlights[2].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!hb&&c.homeScale&&(a.$focus3Highlights[2].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!Ma&&c.aspectRatio&&(f.focus3aspectRatio2=d.aspectRatio);!ub&&c.scale&&(f.focus3scale2=d.scale);
!Hb&&c.gcx&&(f.focus3gcx2=d.gcx);!Jb&&c.gcy&&(f.focus3gcy2=d.gcy);b.store.set(f);b._set(e);Jb=Hb=ub=Ma=hb=La=gb=Ka=Ja=void 0}});b.root._beforecreate.push(()=>{Eb._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},Eb.get())});var Ab={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:3},Kb=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:Ab}),rb={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",
enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:235};if(void 0!==a.gridSize){rb.gridSize=a.gridSize;var Lb=!0}if(void 0!==a.showLabels){rb.showLabels=a.showLabels;var Mb=!0}if(void 0!==a.$focus3Highlights[3].homeX){rb.homeX=a.$focus3Highlights[3].homeX;var Nb=!0}if(void 0!==a.$focus3Highlights[3].homeY){rb.homeY=a.$focus3Highlights[3].homeY;var Ob=!0}if(void 0!==a.$focus3Highlights[3].homeScale){rb.homeScale=a.$focus3Highlights[3].homeScale;var Pb=!0}if(void 0!==a.$focus3aspectRatio3){rb.aspectRatio=
a.$focus3aspectRatio3;var Qb=!0}if(void 0!==a.$focus3scale3){rb.scale=a.$focus3scale3;var Rb=!0}if(void 0!==a.$focus3gcx3){rb.gcx=a.$focus3gcx3;var Sb=!0}if(void 0!==a.$focus3gcy3){rb.gcy=a.$focus3gcy3;var Tb=!0}var Fb=new la({root:b.root,store:b.store,data:rb,_bind(c,d){var e={},f={};!Lb&&c.gridSize&&(e.gridSize=d.gridSize);!Mb&&c.showLabels&&(e.showLabels=d.showLabels);!Nb&&c.homeX&&(a.$focus3Highlights[3].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!Ob&&c.homeY&&(a.$focus3Highlights[3].homeY=
d.homeY,f.focus3Highlights=a.$focus3Highlights);!Pb&&c.homeScale&&(a.$focus3Highlights[3].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!Qb&&c.aspectRatio&&(f.focus3aspectRatio3=d.aspectRatio);!Rb&&c.scale&&(f.focus3scale3=d.scale);!Sb&&c.gcx&&(f.focus3gcx3=d.gcx);!Tb&&c.gcy&&(f.focus3gcy3=d.gcy);b.store.set(f);b._set(e);Tb=Sb=Rb=Qb=Pb=Ob=Nb=Mb=Lb=void 0}});b.root._beforecreate.push(()=>{Fb._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},
Fb.get())});var Bb={width:a.loupeSize,height:a.loupeSize,label:4},Ub=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:Bb}),sb={id:"inceptionv1_"+a.layerName,alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2",enableHover:!1,enableDragToPan:!1,enableClickToZoom:!1,classHeatmap:287};if(void 0!==a.gridSize){sb.gridSize=a.gridSize;var Vb=!0}if(void 0!==a.showLabels){sb.showLabels=a.showLabels;var Wb=!0}if(void 0!==a.$focus3Highlights[3].homeX){sb.homeX=a.$focus3Highlights[3].homeX;
var Xb=!0}if(void 0!==a.$focus3Highlights[3].homeY){sb.homeY=a.$focus3Highlights[3].homeY;var Yb=!0}if(void 0!==a.$focus3Highlights[3].homeScale){sb.homeScale=a.$focus3Highlights[3].homeScale;var Zb=!0}if(void 0!==a.$focus3aspectRatio3){sb.aspectRatio=a.$focus3aspectRatio3;var $b=!0}if(void 0!==a.$focus3scale3){sb.scale=a.$focus3scale3;var ac=!0}if(void 0!==a.$focus3gcx3){sb.gcx=a.$focus3gcx3;var bc=!0}if(void 0!==a.$focus3gcy3){sb.gcy=a.$focus3gcy3;var cc=!0}var Gb=new la({root:b.root,store:b.store,
data:sb,_bind(c,d){var e={},f={};!Vb&&c.gridSize&&(e.gridSize=d.gridSize);!Wb&&c.showLabels&&(e.showLabels=d.showLabels);!Xb&&c.homeX&&(a.$focus3Highlights[3].homeX=d.homeX,f.focus3Highlights=a.$focus3Highlights);!Yb&&c.homeY&&(a.$focus3Highlights[3].homeY=d.homeY,f.focus3Highlights=a.$focus3Highlights);!Zb&&c.homeScale&&(a.$focus3Highlights[3].homeScale=d.homeScale,f.focus3Highlights=a.$focus3Highlights);!$b&&c.aspectRatio&&(f.focus3aspectRatio3=d.aspectRatio);!ac&&c.scale&&(f.focus3scale3=d.scale);
!bc&&c.gcx&&(f.focus3gcx3=d.gcx);!cc&&c.gcy&&(f.focus3gcy3=d.gcy);b.store.set(f);b._set(e);cc=bc=ac=$b=Zb=Yb=Xb=Wb=Vb=void 0}});b.root._beforecreate.push(()=>{Gb._bind({gridSize:1,showLabels:1,homeX:1,homeY:1,homeScale:1,aspectRatio:1,scale:1,gcx:1,gcy:1},Gb.get())});var Cb={color:"#ffaa00",width:a.loupeSize,height:a.loupeSize,label:4},dc=new Xa({root:b.root,store:b.store,slots:{default:Pa()},data:Cb});return{c(){c=l("div");d=l("div");e=l("h4");t=h("Fireboat");g=h("\n    ");m=l("h4");k=h("Streetcar");
q=h("\n  \n  ");r=l("div");X._fragment.c();ra._fragment.c();w=h("\n    ");ca._fragment.c();ya._fragment.c();p=h("\n    ");y=l("div");u=h("At ");x=h(a.layerName);n=h(', Both "streetcar" and "fireboat" contain activations for what look like windows.');D=h("\n  \n  ");B=l("div");Ia._fragment.c();Ra._fragment.c();F=h("\n    ");Sa._fragment.c();mb._fragment.c();z=h("\n    ");A=l("div");A.textContent="Both classes also contain activations for crane-like apparatuses, though they are less prominent than the window activations.";
E=h("\n  \n  ");J=l("div");tb._fragment.c();bb._fragment.c();H=h("\n    ");Eb._fragment.c();Kb._fragment.c();K=h("\n    ");I=l("div");I.textContent='"Fireboat" activations have much stronger attributions from water than "streetcar", where there is virtually no positive evidence.';N=h("\n  \n  ");L=l("div");Fb._fragment.c();Ub._fragment.c();Q=h("\n    ");Gb._fragment.c();dc._fragment.c();M=h("\n    ");P=l("div");P.textContent='The activations for "streetcar" have much stronger attributions from buildings than does "fireboat".';
v(e,"width",""+a.loupeSize+"px");e.className="svelte-1telcb5";v(m,"width",""+a.loupeSize+"px");m.className="svelte-1telcb5";d.className="row svelte-1telcb5";y.className="figcaption";r.className="row svelte-1telcb5";A.className="figcaption";B.className="row svelte-1telcb5";I.className="figcaption";J.className="row svelte-1telcb5";P.className="figcaption";L.className="row svelte-1telcb5";c.className="details svelte-1telcb5"},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);e.appendChild(t);
d.appendChild(g);d.appendChild(m);m.appendChild(k);c.appendChild(q);c.appendChild(r);X._mount(ra._slotted.default,null);ra._mount(r,null);r.appendChild(w);ca._mount(ya._slotted.default,null);ya._mount(r,null);r.appendChild(p);r.appendChild(y);y.appendChild(u);y.appendChild(x);y.appendChild(n);c.appendChild(D);c.appendChild(B);Ia._mount(Ra._slotted.default,null);Ra._mount(B,null);B.appendChild(F);Sa._mount(mb._slotted.default,null);mb._mount(B,null);B.appendChild(z);B.appendChild(A);c.appendChild(E);
c.appendChild(J);tb._mount(bb._slotted.default,null);bb._mount(J,null);J.appendChild(H);Eb._mount(Kb._slotted.default,null);Kb._mount(J,null);J.appendChild(K);J.appendChild(I);c.appendChild(N);c.appendChild(L);Fb._mount(Ub._slotted.default,null);Ub._mount(L,null);L.appendChild(Q);Gb._mount(dc._slotted.default,null);dc._mount(L,null);L.appendChild(M);L.appendChild(P)},p(b,c){a=c;b.loupeSize&&(v(e,"width",""+a.loupeSize+"px"),v(m,"width",""+a.loupeSize+"px"));c={};b.layerName&&(c.id="inceptionv1_"+
a.layerName);!V&&b.gridSize&&(c.gridSize=a.gridSize,V=void 0!==a.gridSize);!Y&&b.showLabels&&(c.showLabels=a.showLabels,Y=void 0!==a.showLabels);!Z&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[0].homeX,Z=void 0!==a.$focus3Highlights[0].homeX);!ba&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[0].homeY,ba=void 0!==a.$focus3Highlights[0].homeY);!fa&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[0].homeScale,fa=void 0!==a.$focus3Highlights[0].homeScale);!ia&&b.$focus3aspectRatio0&&
(c.aspectRatio=a.$focus3aspectRatio0,ia=void 0!==a.$focus3aspectRatio0);!T&&b.$focus3scale0&&(c.scale=a.$focus3scale0,T=void 0!==a.$focus3scale0);!pa&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,pa=void 0!==a.$focus3gcx0);!ha&&b.$focus3gcy0&&(c.gcy=a.$focus3gcy0,ha=void 0!==a.$focus3gcy0);X._set(c);ha=pa=T=ia=fa=ba=Z=Y=V=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);ra._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!ka&&b.gridSize&&(c.gridSize=a.gridSize,
ka=void 0!==a.gridSize);!oa&&b.showLabels&&(c.showLabels=a.showLabels,oa=void 0!==a.showLabels);!ta&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[0].homeX,ta=void 0!==a.$focus3Highlights[0].homeX);!xa&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[0].homeY,xa=void 0!==a.$focus3Highlights[0].homeY);!Fa&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[0].homeScale,Fa=void 0!==a.$focus3Highlights[0].homeScale);!ja&&b.$focus3aspectRatio0&&(c.aspectRatio=a.$focus3aspectRatio0,ja=void 0!==
a.$focus3aspectRatio0);!sa&&b.$focus3scale0&&(c.scale=a.$focus3scale0,sa=void 0!==a.$focus3scale0);!wa&&b.$focus3gcx0&&(c.gcx=a.$focus3gcx0,wa=void 0!==a.$focus3gcx0);!ma&&b.$focus3gcy0&&(c.gcy=a.$focus3gcy0,ma=void 0!==a.$focus3gcy0);ca._set(c);ma=wa=sa=ja=Fa=xa=ta=oa=ka=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);ya._set(c);b.layerName&&W(x,a.layerName);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!na&&b.gridSize&&(c.gridSize=a.gridSize,na=void 0!==
a.gridSize);!Da&&b.showLabels&&(c.showLabels=a.showLabels,Da=void 0!==a.showLabels);!Ea&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[1].homeX,Ea=void 0!==a.$focus3Highlights[1].homeX);!za&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[1].homeY,za=void 0!==a.$focus3Highlights[1].homeY);!Ba&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[1].homeScale,Ba=void 0!==a.$focus3Highlights[1].homeScale);!Ca&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,Ca=void 0!==a.$focus3aspectRatio1);
!Va&&b.$focus3scale1&&(c.scale=a.$focus3scale1,Va=void 0!==a.$focus3scale1);!Qa&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,Qa=void 0!==a.$focus3gcx1);!Za&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,Za=void 0!==a.$focus3gcy1);Ia._set(c);Za=Qa=Va=Ca=Ba=za=Ea=Da=na=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Ra._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!$a&&b.gridSize&&(c.gridSize=a.gridSize,$a=void 0!==a.gridSize);!Oa&&b.showLabels&&(c.showLabels=a.showLabels,
Oa=void 0!==a.showLabels);!wb&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[1].homeX,wb=void 0!==a.$focus3Highlights[1].homeX);!cb&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[1].homeY,cb=void 0!==a.$focus3Highlights[1].homeY);!db&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[1].homeScale,db=void 0!==a.$focus3Highlights[1].homeScale);!eb&&b.$focus3aspectRatio1&&(c.aspectRatio=a.$focus3aspectRatio1,eb=void 0!==a.$focus3aspectRatio1);!fb&&b.$focus3scale1&&(c.scale=a.$focus3scale1,
fb=void 0!==a.$focus3scale1);!ib&&b.$focus3gcx1&&(c.gcx=a.$focus3gcx1,ib=void 0!==a.$focus3gcx1);!jb&&b.$focus3gcy1&&(c.gcy=a.$focus3gcy1,jb=void 0!==a.$focus3gcy1);Sa._set(c);jb=ib=fb=eb=db=cb=wb=Oa=$a=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);mb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!lb&&b.gridSize&&(c.gridSize=a.gridSize,lb=void 0!==a.gridSize);!kb&&b.showLabels&&(c.showLabels=a.showLabels,kb=void 0!==a.showLabels);!ab&&b.$focus3Highlights&&
(c.homeX=a.$focus3Highlights[2].homeX,ab=void 0!==a.$focus3Highlights[2].homeX);!Ha&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[2].homeY,Ha=void 0!==a.$focus3Highlights[2].homeY);!nb&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[2].homeScale,nb=void 0!==a.$focus3Highlights[2].homeScale);!ob&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,ob=void 0!==a.$focus3aspectRatio2);!pb&&b.$focus3scale2&&(c.scale=a.$focus3scale2,pb=void 0!==a.$focus3scale2);!qb&&b.$focus3gcx2&&(c.gcx=
a.$focus3gcx2,qb=void 0!==a.$focus3gcx2);!xb&&b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,xb=void 0!==a.$focus3gcy2);tb._set(c);xb=qb=pb=ob=nb=Ha=ab=kb=lb=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);bb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Ja&&b.gridSize&&(c.gridSize=a.gridSize,Ja=void 0!==a.gridSize);!Ka&&b.showLabels&&(c.showLabels=a.showLabels,Ka=void 0!==a.showLabels);!gb&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[2].homeX,gb=void 0!==
a.$focus3Highlights[2].homeX);!La&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[2].homeY,La=void 0!==a.$focus3Highlights[2].homeY);!hb&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[2].homeScale,hb=void 0!==a.$focus3Highlights[2].homeScale);!Ma&&b.$focus3aspectRatio2&&(c.aspectRatio=a.$focus3aspectRatio2,Ma=void 0!==a.$focus3aspectRatio2);!ub&&b.$focus3scale2&&(c.scale=a.$focus3scale2,ub=void 0!==a.$focus3scale2);!Hb&&b.$focus3gcx2&&(c.gcx=a.$focus3gcx2,Hb=void 0!==a.$focus3gcx2);!Jb&&
b.$focus3gcy2&&(c.gcy=a.$focus3gcy2,Jb=void 0!==a.$focus3gcy2);Eb._set(c);Jb=Hb=ub=Ma=hb=La=gb=Ka=Ja=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Kb._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Lb&&b.gridSize&&(c.gridSize=a.gridSize,Lb=void 0!==a.gridSize);!Mb&&b.showLabels&&(c.showLabels=a.showLabels,Mb=void 0!==a.showLabels);!Nb&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[3].homeX,Nb=void 0!==a.$focus3Highlights[3].homeX);!Ob&&b.$focus3Highlights&&
(c.homeY=a.$focus3Highlights[3].homeY,Ob=void 0!==a.$focus3Highlights[3].homeY);!Pb&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[3].homeScale,Pb=void 0!==a.$focus3Highlights[3].homeScale);!Qb&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,Qb=void 0!==a.$focus3aspectRatio3);!Rb&&b.$focus3scale3&&(c.scale=a.$focus3scale3,Rb=void 0!==a.$focus3scale3);!Sb&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,Sb=void 0!==a.$focus3gcx3);!Tb&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,Tb=void 0!==a.$focus3gcy3);
Fb._set(c);Tb=Sb=Rb=Qb=Pb=Ob=Nb=Mb=Lb=void 0;c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);Ub._set(c);c={};b.layerName&&(c.id="inceptionv1_"+a.layerName);!Vb&&b.gridSize&&(c.gridSize=a.gridSize,Vb=void 0!==a.gridSize);!Wb&&b.showLabels&&(c.showLabels=a.showLabels,Wb=void 0!==a.showLabels);!Xb&&b.$focus3Highlights&&(c.homeX=a.$focus3Highlights[3].homeX,Xb=void 0!==a.$focus3Highlights[3].homeX);!Yb&&b.$focus3Highlights&&(c.homeY=a.$focus3Highlights[3].homeY,Yb=void 0!==
a.$focus3Highlights[3].homeY);!Zb&&b.$focus3Highlights&&(c.homeScale=a.$focus3Highlights[3].homeScale,Zb=void 0!==a.$focus3Highlights[3].homeScale);!$b&&b.$focus3aspectRatio3&&(c.aspectRatio=a.$focus3aspectRatio3,$b=void 0!==a.$focus3aspectRatio3);!ac&&b.$focus3scale3&&(c.scale=a.$focus3scale3,ac=void 0!==a.$focus3scale3);!bc&&b.$focus3gcx3&&(c.gcx=a.$focus3gcx3,bc=void 0!==a.$focus3gcx3);!cc&&b.$focus3gcy3&&(c.gcy=a.$focus3gcy3,cc=void 0!==a.$focus3gcy3);Gb._set(c);cc=bc=ac=$b=Zb=Yb=Xb=Wb=Vb=void 0;
c={};b.loupeSize&&(c.width=a.loupeSize);b.loupeSize&&(c.height=a.loupeSize);dc._set(c)},d(a){a&&G(c);X.destroy();ra.destroy();ca.destroy();ya.destroy();Ia.destroy();Ra.destroy();Sa.destroy();mb.destroy();tb.destroy();bb.destroy();Eb.destroy();Kb.destroy();Fb.destroy();Ub.destroy();Gb.destroy();dc.destroy()}}}function Ue(b){N(this,b);this._state=x(x(this.store._init("focus3Highlights focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" ")),
{layerName:"mixed4d",gridSize:1,loupeSize:220}),b.data);this.store._add(this,"focus3Highlights focus3aspectRatio0 focus3scale0 focus3gcx0 focus3gcy0 focus3aspectRatio1 focus3scale1 focus3gcx1 focus3gcy1 focus3aspectRatio2 focus3scale2 focus3gcx2 focus3gcy2 focus3aspectRatio3 focus3scale3 focus3gcx3 focus3gcy3".split(" "));this._intro=!0;this._handlers.destroy=[Ia];this._fragment=nh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function oh({$inceptionLabels:b}){return wc.map((a)=>
({label:b[a],i:a}))}function Ve(b,a,c){b=Object.create(b);b.l=a[c];return b}function ph(b,a){for(var c,d,e,t,g,m,k,q,r,w,p,y,v,u,n=a.labels,x=[],B=0;B<n.length;B+=1)x[B]=We(b,Ve(a,n,B));B={};void 0!==a.layerName&&(B.selectedLayerName=a.layerName,g=!0);var D=new Lc({root:b.root,store:b.store,data:B,_bind(a,c){var d={};!g&&a.selectedLayerName&&(d.layerName=c.selectedLayerName);b._set(d);g=void 0}});b.root._beforecreate.push(()=>{D._bind({selectedLayerName:1},D.get())});B={id:"inceptionv1_"+a.layerName,
alphaAttributionFactor:"10",scaleCountFactor:"10",iconCrop:"0.2"};void 0!==a.gridSize&&(B.gridSize=a.gridSize,p=!0);void 0!==a.showLabels&&(B.showLabels=a.showLabels,y=!0);void 0!==a.classHeatmap&&(B.classHeatmap=a.classHeatmap,v=!0);void 0!==a.showHoverImage&&(B.showHoverImage=a.showHoverImage,u=!0);var z=new la({root:b.root,store:b.store,data:B,_bind(a,c){var d={};!p&&a.gridSize&&(d.gridSize=c.gridSize);!y&&a.showLabels&&(d.showLabels=c.showLabels);!v&&a.classHeatmap&&(d.classHeatmap=c.classHeatmap);
!u&&a.showHoverImage&&(d.showHoverImage=c.showHoverImage);b._set(d);u=v=y=p=void 0}});b.root._beforecreate.push(()=>{z._bind({gridSize:1,showLabels:1,classHeatmap:1,showHoverImage:1},z.get())});return{c(){c=l("div");d=l("div");for(var a=0;a<x.length;a+=1)x[a].c();e=h("\n\n  ");t=l("div");D._fragment.c();m=h("\n  \n  ");k=l("div");q=l("div");q.innerHTML="<button>Zoom In</button>\n\t\t\t      <button>Zoom Out</button>";r=h("\n    ");w=l("div");z._fragment.c();d.className="chooser svelte-1rdkii";t.className=
"layer-chooser svelte-1rdkii";q.className="resolution";w.className="atlas svelte-1rdkii";k.className="display svelte-1rdkii";c.className="container svelte-1rdkii"},m(a,b){a.insertBefore(c,b);c.appendChild(d);for(a=0;a<x.length;a+=1)x[a].m(d,null);c.appendChild(e);c.appendChild(t);D._mount(t,null);c.appendChild(m);c.appendChild(k);k.appendChild(q);k.appendChild(r);k.appendChild(w);z._mount(w,null)},p(c,e){a=e;if(c.classHeatmap||c.labels){n=a.labels;for(e=0;e<n.length;e+=1){let f=Ve(a,n,e);x[e]?x[e].p(c,
f):(x[e]=We(b,f),x[e].c(),x[e].m(d,null))}for(;e<x.length;e+=1)x[e].d(1);x.length=n.length}e={};!g&&c.layerName&&(e.selectedLayerName=a.layerName,g=void 0!==a.layerName);D._set(e);g=void 0;e={};c.layerName&&(e.id="inceptionv1_"+a.layerName);!p&&c.gridSize&&(e.gridSize=a.gridSize,p=void 0!==a.gridSize);!y&&c.showLabels&&(e.showLabels=a.showLabels,y=void 0!==a.showLabels);!v&&c.classHeatmap&&(e.classHeatmap=a.classHeatmap,v=void 0!==a.classHeatmap);!u&&c.showHoverImage&&(e.showHoverImage=a.showHoverImage,
u=void 0!==a.showHoverImage);z._set(e);u=v=y=p=void 0},d(a){a&&G(c);ba(x,a);D.destroy();z.destroy()}}}function We(b,a){function c(){b.set({classHeatmap:f.__value})}var d,f,t,g=a.l.label,m,k,q=a.l.i,r,w,p;return{c(){d=l("label");f=l("input");m=h(g);k=h(" (");r=h(q);w=h(")");b._bindingGroups[0].push(f);f.addEventListener("change",c,void 0);e(f,"type","radio");f.__value=t=a.l.i;f.value=f.__value;f.className="svelte-1rdkii";d.className=p=(a.classHeatmap===a.l.i?"selected":"")+" svelte-1rdkii"},m(b,c){b.insertBefore(d,
c);d.appendChild(f);f.checked=f.__value===a.classHeatmap;d.appendChild(m);d.appendChild(k);d.appendChild(r);d.appendChild(w)},p(a,b){a.classHeatmap&&(f.checked=f.__value===b.classHeatmap);a.labels&&t!==(t=b.l.i)&&(f.__value=t);f.value=f.__value;a.labels&&g!==(g=b.l.label)&&W(m,g);a.labels&&q!==(q=b.l.i)&&W(r,q);(a.classHeatmap||a.labels)&&p!==(p=(b.classHeatmap===b.l.i?"selected":"")+" svelte-1rdkii")&&(d.className=p)},d(a){a&&G(d);b._bindingGroups[0].splice(b._bindingGroups[0].indexOf(f),1);f.removeEventListener("change",
c,void 0)}}}function Mc(b){N(this,b);this._state=x(x(this.store._init(["inceptionLabels"]),{layerName:"mixed4d",gridSize:1,classHeatmap:235,showHoverImage:1}),b.data);this.store._add(this,["inceptionLabels"]);this._recompute({$inceptionLabels:1},this._state);this._bindingGroups=[[]];this._intro=!0;this._handlers.destroy=[Ia];this._fragment=ph(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,b.anchor),H(this))}function qh({config:b,$classComparisons:a,currentClassComparisonIndex:c}){return b?
b.class_filter.indexOf(a[c].left):null}function rh({config:b,$classComparisons:a,currentClassComparisonIndex:c}){return b?b.class_filter.indexOf(a[c].right):null}function sh(b,a){var c,d,e,t,g,m,k,q,r,w,p={id:"class_filter_inceptionv1",classFilter:a.leftIndex,debug:!0};if(void 0!==a.layout){p.layout=a.layout;var u=!0}if(void 0!==a.config){p.config=a.config;var x=!0}var D=new la({root:b.root,store:b.store,data:p,_bind(a,c){var d={};!u&&a.layout&&(d.layout=c.layout);!x&&a.config&&(d.config=c.config);
b._set(d);x=u=void 0}});b.root._beforecreate.push(()=>{D._bind({layout:1,config:1},D.get())});p={id:"class_filter_inceptionv1",classFilter:a.rightIndex,debug:!0};if(void 0!==a.layout){p.layout=a.layout;var n=!0}if(void 0!==a.config){p.config=a.config;var F=!0}var B=new la({root:b.root,store:b.store,data:p,_bind(a,c){var d={};!n&&a.layout&&(d.layout=c.layout);!F&&a.config&&(d.config=c.config);b._set(d);F=n=void 0}});b.root._beforecreate.push(()=>{B._bind({layout:1,config:1},B.get())});return{c(){c=
l("div");d=l("div");e=l("div");D._fragment.c();t=h("\n    ");g=l("div");g.innerHTML='<b class="svelte-eedxs5">red fox</b>';m=h("\n  ");k=l("div");q=l("div");B._fragment.c();r=h("\n    ");w=l("div");w.innerHTML='<b class="svelte-eedxs5">grey fox</b>';e.className="atlas svelte-eedxs5";g.className="figcaption svelte-eedxs5";q.className="atlas svelte-eedxs5";w.className="figcaption svelte-eedxs5";v(c,"display","grid");v(c,"grid-auto-flow","column");v(c,"grid-column-gap","1px");v(c,"grid-auto-columns",
"1fr")},m(a,b){a.insertBefore(c,b);c.appendChild(d);d.appendChild(e);D._mount(e,null);d.appendChild(t);d.appendChild(g);c.appendChild(m);c.appendChild(k);k.appendChild(q);B._mount(q,null);k.appendChild(r);k.appendChild(w)},p(b,c){a=c;c={};b.leftIndex&&(c.classFilter=a.leftIndex);!u&&b.layout&&(c.layout=a.layout,u=void 0!==a.layout);!x&&b.config&&(c.config=a.config,x=void 0!==a.config);D._set(c);x=u=void 0;c={};b.rightIndex&&(c.classFilter=a.rightIndex);!n&&b.layout&&(c.layout=a.layout,n=void 0!==
a.layout);!F&&b.config&&(c.config=a.config,F=void 0!==a.config);B._set(c);F=n=void 0},d(a){a&&G(c);D.destroy();B.destroy()}}}function Xe(b){N(this,b);this._state=x(x(this.store._init(["classComparisons"]),{currentClassComparisonIndex:6,layout:0}),b.data);this.store._add(this,["classComparisons"]);this._recompute({config:1,$classComparisons:1,currentClassComparisonIndex:1},this._state);this._intro=!0;this._handlers.destroy=[Ia];this._fragment=sh(this,this._state);b.target&&(this._fragment.c(),this._mount(b.target,
b.anchor),H(this))}var D={destroy:function(b){this.destroy=Y;this.fire("destroy");this.set=Y;this._fragment.d(!1!==b);this._fragment=null;this._state={}},get:Tc,fire:Sc,on:Uc,set:function(b){this._set(x({},b));this.root._lock||H(this.root)},_recompute:Y,_set:function(b){var a=this._state,c={},d=!1;b=x(this._staged,b);this._staged={};for(var e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=x(x({},a),b),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&
(this.fire("state",{changed:c,current:this._state,previous:a}),this._fragment.p(c,this._state),this.fire("update",{changed:c,current:this._state,previous:a})))},_stage:function(b){x(this._staged,b)},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_differs:Rc};x(Vc.prototype,{_add(b,a){this._dependents.push({component:b,props:a})},_init(b){let a={};for(let c=0;c<b.length;c+=1){let d=b[c];a["$"+d]=this._state[d]}return a},_remove(b){let a=this._dependents.length;for(;a--;)if(this._dependents[a].component===
b){this._dependents.splice(a,1);break}},_set(b,a){let c=this._state;this._state=x(x({},c),b);for(b=0;b<this._sortedComputedProperties.length;b+=1)this._sortedComputedProperties[b].update(this._state,a);this.fire("state",{changed:a,previous:c,current:this._state});this._dependents.filter((b)=>{let c={},d=!1;for(let e=0;e<b.props.length;e+=1){let f=b.props[e];f in a&&(c["$"+f]=this._state[f],d=!0)}if(d)return b.component._stage(c),!0}).forEach((a)=>{a.component.set({})});this.fire("update",{changed:a,
previous:c,current:this._state})},_sortComputedProperties(){function b(f){let g=a[f];g&&(g.deps.forEach((a)=>{if(a===e)throw Error(`Cyclical dependency detected between ${a} <-> ${f}`);b(a)}),d[f]||(d[f]=!0,c.push(g)))}let a=this._computed,c=this._sortedComputedProperties=[],d=Object.create(null),e;for(let a in this._computed)b(e=a)},compute(b,a,c){let d,e={deps:a,update:(e,f,g)=>{var h=a.map((a)=>{a in f&&(g=!0);return e[a]});g&&(h=c.apply(null,h),this._differs(h,d)&&(d=h,f[b]=!0,e[b]=d))}};this._computed[b]=
e;this._sortComputedProperties();let h=x({},this._state),g={};e.update(h,g,!0);this._set(h,g)},fire:Sc,get:Tc,on:Uc,set(b){let a=this._state,c=this._changed={},d=!1;for(let e in b){if(this._computed[e])throw Error(`'${e}' is a read-only computed property`);this._differs(b[e],a[e])&&(c[e]=d=!0)}d&&this._set(b,c)}});var Nc="dummy;kit fox;English setter;Siberian husky;Australian terrier;English springer;grey whale;lesser panda;Egyptian cat;ibex;Persian cat;cougar;gazelle;porcupine;sea lion;malamute;badger;Great Dane;Walker hound;Welsh springer spaniel;whippet;Scottish deerhound;killer whale;mink;African elephant;Weimaraner;soft - coated wheaten terrier;Dandie Dinmont;red wolf;Old English sheepdog;jaguar;otterhound;bloodhound;Airedale;hyena;meerkat;giant schnauzer;titi;three - toed sloth;sorrel;black - footed ferret;dalmatian;black - and - tan coonhound;papillon;skunk;Staffordshire bullterrier;Mexican hairless;Bouvier des Flandres;weasel;miniature poodle;Cardigan;malinois;bighorn;fox squirrel;colobus;tiger cat;Lhasa;impala;coyote;Yorkshire terrier;Newfoundland;brown bear;red fox;Norwegian elkhound;Rottweiler;hartebeest;Saluki;grey fox;schipperke;Pekinese;Brabancon griffon;West Highland white terrier;Sealyham terrier;guenon;mongoose;indri;tiger;Irish wolfhound;wild boar;EntleBucher;zebra;ram;French bulldog;orangutan;basenji;leopard;Bernese mountain dog;Maltese dog;Norfolk terrier;toy terrier;vizsla;cairn;squirrel monkey;groenendael;clumber;Siamese cat;chimpanzee;komondor;Afghan hound;Japanese spaniel;proboscis monkey;guinea pig;white wolf;ice bear;gorilla;borzoi;toy poodle;Kerry blue terrier;ox;Scotch terrier;Tibetan mastiff;spider monkey;Doberman;Boston bull;Greater Swiss Mountain dog;Appenzeller;Shih - Tzu;Irish water spaniel;Pomeranian;Bedlington terrier;warthog;Arabian camel;siamang;miniature schnauzer;collie;golden retriever;Irish terrier;affenpinscher;Border collie;hare;boxer;silky terrier;beagle;Leonberg;German short - haired pointer;patas;dhole;baboon;macaque;Chesapeake Bay retriever;bull mastiff;kuvasz;capuchin;pug;curly - coated retriever;Norwich terrier;flat - coated retriever;hog;keeshond;Eskimo dog;Brittany spaniel;standard poodle;Lakeland terrier;snow leopard;Gordon setter;dingo;standard schnauzer;hamster;Tibetan terrier;Arctic fox;wire - haired fox terrier;basset;water buffalo;American black bear;Angora;bison;howler monkey;hippopotamus;chow;giant panda;American Staffordshire terrier;Shetland sheepdog;Great Pyrenees;Chihuahua;tabby;marmoset;Labrador retriever;Saint Bernard;armadillo;Samoyed;bluetick;redbone;polecat;marmot;kelpie;gibbon;llama;miniature pinscher;wood rabbit;Italian greyhound;lion;cocker spaniel;Irish setter;dugong;Indian elephant;beaver;Sussex spaniel;Pembroke;Blenheim spaniel;Madagascar cat;Rhodesian ridgeback;lynx;African hunting dog;langur;Ibizan hound;timber wolf;cheetah;English foxhound;briard;sloth bear;Border terrier;German shepherd;otter;koala;tusker;echidna;wallaby;platypus;wombat;revolver;umbrella;schooner;soccer ball;accordion;ant;starfish;chambered nautilus;grand piano;laptop;strawberry;airliner;warplane;airship;balloon;space shuttle;fireboat;gondola;speedboat;lifeboat;canoe;yawl;catamaran;trimaran;container ship;liner;pirate;aircraft carrier;submarine;wreck;half track;tank;missile;bobsled;dogsled;bicycle - built -for-two;mountain bike;freight car;passenger car;barrow;shopping cart;motor scooter;forklift;electric locomotive;steam locomotive;amphibian;ambulance;beach wagon;cab;convertible;jeep;limousine;minivan;Model T;racer;sports car;go-kart;golfcart;moped;snowplow;fire engine;garbage truck;pickup;tow truck;trailer truck;moving van;police van;recreational vehicle;streetcar;snowmobile;tractor;mobile home;tricycle;unicycle;horse cart;jinrikisha;oxcart;bassinet;cradle;crib;four-poster;bookcase;china cabinet;medicine chest;chiffonier;table lamp;file;park bench;barber chair;throne;folding chair;rocking chair;studio couch;toilet seat;desk;pool table;dining table;entertainment center;wardrobe;Granny Smith;orange;lemon;fig;pineapple;banana;jackfruit;custard apple;pomegranate;acorn;hip;ear;rapeseed;corn;buckeye;organ;upright;chime;drum;gong;maraca;marimba;steel drum;banjo;cello;violin;harp;acoustic guitar;electric guitar;cornet;French horn;trombone;harmonica;ocarina;panpipe;bassoon;oboe;sax;flute;daisy;yellow lady's slipper;cliff;valley;alp;volcano;promontory;sandbar;coral reef;lakeside;seashore;geyser;hatchet;cleaver;letter opener;plane;power drill;lawn mower;hammer;corkscrew;can opener;plunger;screwdriver;shovel;plow;chain saw;cock;hen;ostrich;brambling;goldfinch;house finch;junco;indigo bunting;robin;bulbul;jay;magpie;chickadee;water ouzel;kite;bald eagle;vulture;great grey owl;black grouse;ptarmigan;ruffed grouse;prairie chicken;peacock;quail;partridge;African grey;macaw;sulphur-crested cockatoo;lorikeet;coucal;bee eater;hornbill;hummingbird;jacamar;toucan;drake;red-breasted merganser;goose;black swan;white stork;black stork;spoonbill;flamingo;American egret;little blue heron;bittern;crane;limpkin;American coot;bustard;ruddy turnstone;red - backed sandpiper;redshank;dowitcher;oystercatcher;European gallinule;pelican;king penguin;albatross;great white shark;tiger shark;hammerhead;electric ray;stingray;barracouta;coho;tench;goldfish;eel;rock beauty;anemone fish;lionfish;puffer;sturgeon;gar;loggerhead;leatherback turtle;mud turtle;terrapin;box turtle;banded gecko;common iguana;American chameleon;whiptail;agama;frilled lizard;alligator lizard;Gila monster;green lizard;African chameleon;Komodo dragon;triceratops;African crocodile;American alligator;thunder snake;ringneck snake;hognose snake;green snake;king snake;garter snake;water snake;vine snake;night snake;boa constrictor;rock python;Indian cobra;green mamba;sea snake;horned viper;diamondback;sidewinder;European fire salamander;common newt;eft;spotted salamander;axolotl;bullfrog;tree frog;tailed frog;whistle;wing;paintbrush;hand blower;oxygen mask;snorkel;loudspeaker;microphone;screen;mouse;electric fan;oil filter;strainer;space heater;stove;guillotine;barometer;rule;odometer;scale;analog clock;digital clock;wall clock;hourglass;sundial;parking meter;stopwatch;digital watch;stethoscope;syringe;magnetic compass;binoculars;projector;sunglasses;loupe;radio telescope;bow;cannon [ground];assault rifle;rifle;projectile;computer keyboard;typewriter keyboard;crane;lighter;abacus;cash machine;slide rule;desktop computer;hand - held computer;notebook;web site;harvester;thresher;printer;slot;vending machine;sewing machine;joystick;switch;hook;car wheel;paddlewheel;pinwheel;potter's wheel;gas pump;carousel;swing;reel;radiator;puck;hard disc;sunglass;pick;car mirror;solar dish;remote control;disk brake;buckle;hair slide;knot;combination lock;padlock;nail;safety pin;screw;muzzle;seat belt;ski;candle;jack - o'-lantern;spotlight;torch;neck brace;pier;tripod;maypole;mousetrap;spider web;trilobite;harvestman;scorpion;black and gold garden spider;barn spider;garden spider;black widow;tarantula;wolf spider;tick;centipede;isopod;Dungeness crab;rock crab;fiddler crab;king crab;American lobster;spiny lobster;crayfish;hermit crab;tiger beetle;ladybug;ground beetle;long - horned beetle;leaf beetle;dung beetle;rhinoceros beetle;weevil;fly;bee;grasshopper;cricket;walking stick;cockroach;mantis;cicada;leafhopper;lacewing;dragonfly;damselfly;admiral;ringlet;monarch;cabbage butterfly;sulphur butterfly;lycaenid;jellyfish;sea anemone;brain coral;flatworm;nematode;conch;snail;slug;sea slug;chiton;sea urchin;sea cucumber;iron;espresso maker;microwave;Dutch oven;rotisserie;toaster;waffle iron;vacuum;dishwasher;refrigerator;washer;Crock Pot;frying pan;wok;caldron;coffeepot;teapot;spatula;altar;triumphal arch;patio;steel arch bridge;suspension bridge;viaduct;barn;greenhouse;palace;monastery;library;apiary;boathouse;church;mosque;stupa;planetarium;restaurant;cinema;home theater;lumbermill;coil;obelisk;totem pole;castle;prison;grocery store;bakery;barbershop;bookshop;butcher shop;confectionery;shoe shop;tobacco shop;toyshop;fountain;cliff dwelling;yurt;dock;brass;megalith;bannister;breakwater;dam;chainlink fence;picket fence;worm fence;stone wall;grille;sliding door;turnstile;mountain tent;scoreboard;honeycomb;plate rack;pedestal;beacon;mashed potato;bell pepper;head cabbage;broccoli;cauliflower;zucchini;spaghetti squash;acorn squash;butternut squash;cucumber;artichoke;cardoon;mushroom;shower curtain;jean;carton;handkerchief;sandal;ashcan;safe;plate;necklace;croquet ball;fur coat;thimble;pajama;running shoe;cocktail shaker;chest;manhole cover;modem;tub;tray;balance beam;bagel;prayer rug;kimono;hot pot;whiskey jug;knee pad;book jacket;spindle;ski mask;beer bottle;crash helmet;bottlecap;tile roof;mask;maillot;Petri dish;football helmet;bathing cap;teddy bear;holster;pop bottle;photocopier;vestment;crossword puzzle;golf ball;trifle;suit;water tower;feather boa;cloak;red wine;drumstick;shield;Christmas stocking;hoopskirt;menu;stage;bonnet;meat loaf;baseball;face powder;scabbard;sunscreen;beer glass;hen-of - the - woods;guacamole;lampshade;wool;hay;bow tie;mailbag;water jug;bucket;dishrag;soup bowl;eggnog;mortar;trench coat;paddle;chain;swab;mixing bowl;potpie;wine bottle;shoji;bulletproof vest;drilling platform;binder;cardigan;sweatshirt;pot;birdhouse;hamper;ping-pong ball;pencil box;pay - phone;consomme;apron;punching bag;backpack;groom;bearskin;pencil sharpener;broom;mosquito net;abaya;mortarboard;poncho;crutch;Polaroid camera;space bar;cup;racket;traffic light;quill;radio;dough;cuirass;military uniform;lipstick;shower cap;monitor;oscilloscope;mitten;brassiere;French loaf;vase;milk can;rugby ball;paper towel;earthstar;envelope;miniskirt;cowboy hat;trolleybus;perfume;bathtub;hotdog;coral fungus;bullet train;pillow;toilet tissue;cassette;carpenter's kit;ladle;stinkhorn;lotion;hair spray;academic gown;dome;crate;wig;burrito;pill bottle;chain mail;theater curtain;window shade;barrel;washbasin;ballpoint;basketball;bath towel;cowboy boot;gown;window screen;agaric;cellular telephone;nipple;barbell;mailbox;lab coat;fire screen;minibus;packet;maze;pole;horizontal bar;sombrero;pickelhaube;rain barrel;wallet;cassette player;comic book;piggy bank;street sign;bell cote;fountain pen;Windsor tie;volleyball;overskirt;sarong;purse;bolo tie;bib;parachute;sleeping bag;television;swimming trunks;measuring cup;espresso;pizza;breastplate;shopping basket;wooden spoon;saltshaker;chocolate sauce;ballplayer;goblet;gyromitra;stretcher;water bottle;dial telephone;soap dispenser;jersey;school bus;jigsaw puzzle;plastic bag;reflex camera;diaper;Band Aid;ice lolly;velvet;tennis ball;gasmask;doormat;Loafer;ice cream;pretzel;quilt;maillot;tape player;clog;iPod;bolete;scuba diver;pitcher;matchstick;bikini;sock;CD player;lens cap;thatch;vault;beaker;bubble;cheeseburger;parallel bars;flagpole;coffee mug;rubber eraser;stole;carbonara;dumbbell".split(";");
x(rc.prototype,D);x(sc.prototype,D);x(P.prototype,D);P.prototype._recompute=function(b,a){(b.radarReady||b.component)&&this._differs(a.ready,a.ready=cf(a))&&(b.ready=!0);(b.width||b.height||b.aspectRatio||b.minHeight)&&this._differs(a.finalHeight,a.finalHeight=df(a))&&(b.finalHeight=!0)};x(eb.prototype,D);var $c={},tc={},th=Zc(",").parse,uh=Zc("\t").parse;let vc=new Map,Cb=new Map,uc=new Map,cd=new Map([["gif",Ab],["png",Ab],["jpeg",Ab],["jpg",Ab],["csv",function(b){return Bb(b).then((a)=>Promise.resolve(th(a)))}],
["tsv",function(b){return Bb(b).then((a)=>Promise.resolve(uh(a)))}],["txt",Bb],["text",Bb],["json",function(b){return fetch(b).then(ad).then((a)=>a.json())}]]);(function(b){1===b.length&&(b=kf(b));return{left:function(a,c,d,e){null==d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0>b(a[f],c)?d=f+1:e=f}return d},right:function(a,c,d,e){null==d&&(d=0);null==e&&(e=a.length);for(;d<e;){var f=d+e>>>1;0<b(a[f],c)?e=f:d=f+1}return d}}})(dd);var wc=[235,287,237,982,507,41,176,3,2,112,158,14,442,450,
454,513,523,529,930,600,605,736,744,358,756,936,942,943,366,365,367,484,483,488,489,387,388,399,411,405];x(xc.prototype,D);var ta={components:[],running:!1,add:function(b){~ta.components.indexOf(b)||(ta.components.push(b),ta.running||(ta.running=!0,requestAnimationFrame(ta.next)))},next:function(){for(var b=window.performance.now(),a=!1,c=ta.components.length;c--;){var d=ta.components[c],e={},h=!1,g;for(g in d._currentTweens){var m=d._currentTweens[g];b>=m.end?(e[g]=m.to,delete d._currentTweens[g],
m.fulfil()):(a=h=!0,b>=m.start&&(e[g]=m.value(m.ease((b-m.start)/m.duration))))}d._tweening=!0;d.set(e);d._tweening=!1;h||ta.components.splice(c,1)}a?requestAnimationFrame(ta.next):ta.running=!1}};x(ec.prototype,D);x(ec.prototype,{tween:function(b,a,c){var d=this;void 0===c&&(c={});if(!this._currentTweens){this._currentTweens=Object.create(null);this._tweening=!1;var e=this.set;this.set=function(a){if(!d._tweening)for(var b in a)d._currentTweens[b]&&d._currentTweens[b].abort();e.call(d,a)}}this._currentTweens[b]&&
this._currentTweens[b].abort();var h=window.performance.now()+(c.delay||0),g=c.duration||400,m=h+g,k={key:b,value:(c.interpolate||yc)(this.get()[b],a),to:a,start:h,end:m,duration:g,ease:c.easing||nf,running:!0,abort:function(){k.running=!1;delete d._currentTweens[b]}};this._currentTweens[b]=k;ta.add(this);a=new Promise(function(a){k.fulfil=a});a.abort=k.abort;return a},setScale(b){let {width:a}=this.get();this.set({unit:a/b})},panTo(b,a,c){void 0===c&&(c=1E3);0==c?this.set({gcx:b,gcy:a}):(this.tween("gcx",
b,{duration:c,easing:fb}),this.tween("gcy",a,{duration:c,easing:fb}))},scaleTo(b,a){void 0===a&&(a=1E3);let {width:c}=this.get();this.tween("unit",c/b,{duration:a,easing:fb})},transitionTo(b,a,c,d){void 0===d&&(d=1E3);let {width:e}=this.get();this.tween("unit",e/c,{duration:d,easing:fb});this.tween("gcx",b,{duration:d,easing:fb});this.tween("gcy",a,{duration:d,easing:fb})}});ec.prototype._recompute=function(b,a){(b.width||b.unit)&&this._differs(a.scale,a.scale=of(a))&&(b.scale=!0)};x(zc.prototype,
D);x(la.prototype,D);x(la.prototype,{fullscreen(){this.refs.root.webkitRequestFullscreen()},mouseEnter(){this.set({onCanvas:!0})},mouseDown(b){this.set({mouseMoveFunction:this.mouseMove.bind(this),mouseUpFunction:this.mouseUp.bind(this)});let {mouseMoveFunction:a,mouseUpFunction:c}=this.get();b.preventDefault();window.addEventListener("mousemove",a);window.addEventListener("mouseup",c);this.set({mouseMoveMode:"pan"});this.set({mouseDownTimer:Date.now()});this.set({lastRecordedCanvasPos:{x:b.offsetX,
y:b.offsetY}});this.set({mouseDownScreenPos:{x:b.screenX,y:b.screenY}})},mouseMove(b){let {mouseMoveMode:a}=this.get();this.set({lastRecordedCanvasPos:{x:b.offsetX,y:b.offsetY}});if("pan"==a){let {mouseDownScreenPos:a,gcx:d,gcy:e,enableDragToPan:h}=this.get();this.set({mouseDownScreenPos:{x:b.screenX,y:b.screenY}});h&&this.refs.zoom.panTo(this.toPercent(a.x-b.screenX)+d,this.toPercent(a.y-b.screenY)+e,0)}},mouseOut(b){this.set({onCanvas:!1})},mouseUp(b){let {mouseDownTimer:a,scale:c,zoomFactors:d,
mouseMoveFunction:e,mouseUpFunction:h,lastRecordedCanvasPos:g,topLeft:m,gcx:k,gcy:l,enableClickToZoom:r}=this.get();this.set({mouseMoveMode:"hover"});window.removeEventListener("mousemove",e);window.removeEventListener("mouseup",h);var w=Date.now()-a,p=Math.sqrt(Math.pow(b.offsetX-g.x,2)+Math.pow(b.offsetY-g.y,2));if(200>w&&5>p&&r){w=d.in;b.shiftKey&&(w=d.out);var u=.5,v=.5;p=w*c;1<p?(u=this.toPercent(b.offsetX-m.x),b=this.toPercent(b.offsetY-m.y),u-=(u-k)/w,v=b-(b-l)/w):p=1;this.transitionTo(u,v,
p,500)}},home(){let {homeX:b,homeY:a,homeScale:c}=this.get();this.transitionTo(b,a,c,800)},transitionTo(b,a,c,d){this.refs.zoom.transitionTo(b,a,c,d)},zoomit(b){let {scale:a}=this.get();this.refs.zoom.scaleTo(a*b,500)},iconToCanvasPosition(b,a){let {config:c,scaleCountFactor:d,topLeft:e,layerScale:h,currentZoomIndex:g}=this.get();a=d/(g+1);a=Math.sqrt(Math.min(a,b.num_activations)/a);let l=(1-a)*c.icon_size*h/2;return{sx:b.localX*c.icon_size,sy:b.localY*c.icon_size,dx:b.grid_y*c.icon_size*h+e.x+l,
dy:b.grid_x*c.icon_size*h+e.y+l,iconWidth:c.icon_size*h*a}},toPercent(b){let {scale:a,minViewDimInPx:c}=this.get();return b/(a*c)},toPixels(b){let {scale:a,minViewDimInPx:c}=this.get();return b*a*c},clear(){let {viewHeight:b,viewWidth:a,context:c,backgroundColor:d}=this.get();c.globalAlpha=1;c.fillStyle=d;c.clearRect(0,0,a,b);c.fillRect(0,0,a,b)},updateIconHoverImage(){let {currentIconInfo:b,currentZoomIndex:a,iconCrop:c,config:d,showHoverImage:e}=this.get();b&&e&&jb(b.url).then((e)=>{let f=this.refs.hoverImage.getContext("2d"),
{sx:h,sy:k}=this.iconToCanvasPosition(b,a),l=c*d.icon_size/2,r=Math.min(this.refs.hoverImage.height,this.refs.hoverImage.width);f.drawImage(e,k+l,h+l,d.icon_size-2*l,d.icon_size-2*l,0,0,r,r)})},render(){let {minActivations:b,viewHeight:a,viewWidth:c,context:d,config:e,layers:h,currentZoomIndex:g,strokeColor:l,maxAttributionValue:k}=this.get();this.clear();e&&h&&h.forEach((e,f)=>{-1<[g].indexOf(f)&&e.forEach((e,g)=>{e.forEach((e,g)=>{if(e.num_activations>=b){let {dx:b,dy:g,iconWidth:h}=this.iconToCanvasPosition(e,
f);if(b>-h&&b<c&&g>-h&&g<a){let {dx:a,dy:b,iconWidth:c}=this.iconToCanvasPosition(e,f);d.globalAlpha=.75;d.strokeStyle=l;d.fillStyle="white";d.beginPath();d.rect(a,b,c,c);d.stroke();d.fill();d.closePath();jb(e.url).then((a)=>{let {currentZoomIndex:b,iconCrop:c,showLabels:g}=this.get();if(b==f){let {labels:b,config:l,classHeatmap:m,classHeatmapMultiplier:n}=this.get();var h=1;-1<m&&(h=e.full_class_indices.indexOf(m),-1<h?(h=e.full_class_values[h]/k,h=Math.max(0,h)*n):h=0);let {sx:p,sy:q,dx:r,dy:t,
iconWidth:u}=this.iconToCanvasPosition(e,f);d.globalAlpha=h;h=c*l.icon_size/2;d.clearRect(r+1,t+1,u-2,u-2);d.drawImage(a,q+h,p+h,l.icon_size-2*h,l.icon_size-2*h,r,t,u,u);d.globalAlpha=1;g&&b&&(d.globalAlpha=1,d.font="10px Helvetica",d.fillStyle="rgba(255, 255, 255, 1)",d.fillText(b[e.top_class_indices[0]],r+4,t+u-4,u-8))}})}}})})})}});la.prototype._recompute=function(b,a){(b.layers||b.layer)&&this._differs(a.maxAttributionValue,a.maxAttributionValue=sf(a))&&(b.maxAttributionValue=!0);if(b.viewWidth||
b.viewHeight)this._differs(a.aspectRatio,a.aspectRatio=tf(a))&&(b.aspectRatio=!0),this._differs(a.minViewDimInPx,a.minViewDimInPx=uf(a))&&(b.minViewDimInPx=!0);(b.gcx||b.gcy||b.scale||b.viewWidth||b.viewHeight||b.minViewDimInPx)&&this._differs(a.topLeft,a.topLeft=vf(a))&&(b.topLeft=!0);(b.scale||b.gridSize)&&this._differs(a.currentZoomIndex,a.currentZoomIndex=wf(a))&&(b.currentZoomIndex=!0);(b.currentZoomIndex||b.layers)&&this._differs(a.numIconsWide,a.numIconsWide=xf(a))&&(b.numIconsWide=!0);(b.config||
b.minViewDimInPx||b.currentZoomIndex||b.scale)&&this._differs(a.iconSizeInPixels,a.iconSizeInPixels=yf(a))&&(b.iconSizeInPixels=!0);(b.minViewDimInPx||b.config||b.currentZoomIndex||b.scale)&&this._differs(a.layerScale,a.layerScale=Af(a))&&(b.layerScale=!0);(b.lastRecordedCanvasPos||b.topLeft||b.layerScale||b.config)&&this._differs(a.gridSelected,a.gridSelected=Bf(a))&&(b.gridSelected=!0);(b.layers||b.currentZoomIndex||b.gridSelected||b.classHeatmap)&&this._differs(a.currentIconInfo,a.currentIconInfo=
Df(a))&&(b.currentIconInfo=!0);(b.mouseMoveMode||b.onCanvas||b.currentIconInfo||b.enableHover)&&this._differs(a.showHoverIcon,a.showHoverIcon=zf(a))&&(b.showHoverIcon=!0);(b.config||b.layerScale||b.topLeft||b.gridSelected)&&this._differs(a.topLeftCornerHover,a.topLeftCornerHover=Cf(a))&&(b.topLeftCornerHover=!0)};x(md.prototype,D);x(xa.prototype,D);x(xa.prototype,{mouseUp(){let {}=this.get();this.set({dragging:!1})},mouseDown(b){let {enableDragging:a}=this.get();a&&(b.preventDefault(),this.set({dragging:!0,
startPos:{x:b.screenX,y:b.screenY}}))},mouseMove(b){let {dragging:a,startPos:c,scale:d,width:e,aspectRatio:h,height:g,left:l,top:k}=this.get();a&&(this.set({gcx:(b.screenX-c.x+l)/e+1/d*h/2,gcy:(b.screenY-c.y+k)/g+1/d/2}),this.set({startPos:{x:b.screenX,y:b.screenY}}))}});xa.prototype._recompute=function(b,a){b.scale&&this._differs(a.h,a.h=If(a))&&(b.h=!0);(b.scale||b.aspectRatio)&&this._differs(a.w,a.w=Jf(a))&&(b.w=!0);(b.gcx||b.w||b.width)&&this._differs(a.l,a.l=Kf(a))&&(b.l=!0);(b.gcy||b.h||b.height||
b.aspectRatio)&&this._differs(a.t,a.t=Lf(a))&&(b.t=!0);(b.l||b.w)&&this._differs(a.r,a.r=Mf(a))&&(b.r=!0);(b.t||b.h)&&this._differs(a.b,a.b=Nf(a))&&(b.b=!0);(b.l||b.width||b.gcx||b.gcy||b.scale||b.aspectRatio||b.w||b.r)&&this._differs(a.left,a.left=Of(a))&&(b.left=!0);(b.r||b.width)&&this._differs(a.right,a.right=Pf(a))&&(b.right=!0);(b.t||b.height)&&this._differs(a.top,a.top=Qf(a))&&(b.top=!0);(b.b||b.height)&&this._differs(a.bottom,a.bottom=Rf(a))&&(b.bottom=!0)};x(Ac.prototype,D);x(Ac.prototype,
{goto(b,a,c){this.refs.detail.transitionTo(b,a,c,1200)}});x(Bc.prototype,D);Bc.prototype._recompute=function(b,a){b.clientWidth&&this._differs(a.width,a.width=Uf(a))&&(b.width=!0);(b.width||b.aspectRatio)&&this._differs(a.height,a.height=Vf(a))&&(b.height=!0)};x(ia.prototype,D);x(rd.prototype,D);x(sd.prototype,D);x(td.prototype,D);x(yb.prototype,D);yb.prototype._recompute=function(b,a){b.gridSize&&this._differs(a.ticks,a.ticks=ag(a))&&(b.ticks=!0);(b.root||b.classFilter||b.gridSize)&&this._differs(a.src,
a.src=bg(a))&&(b.src=!0)};x(Ad.prototype,D);x(fc.prototype,D);fc.prototype._recompute=function(b,a){if(b.$classComparisons||b.classComparisonIndex)this._differs(a.leftIndex,a.leftIndex=eg(a))&&(b.leftIndex=!0),this._differs(a.rightIndex,a.rightIndex=fg(a))&&(b.rightIndex=!0)};x(kb.prototype,D);kb.prototype._recompute=function(b,a){b.width&&this._differs(a.height,a.height=hg(a))&&(b.height=!0);(b.width||b.margin)&&this._differs(a.outerWidth,a.outerWidth=ig(a))&&(b.outerWidth=!0);(b.height||b.margin)&&
this._differs(a.outerHeight,a.outerHeight=jg(a))&&(b.outerHeight=!0);b.width&&this._differs(a.cellWidth,a.cellWidth=kg(a))&&(b.cellWidth=!0);(b.currentClassComparisonIndex||b.$classComparisons)&&this._differs(a.comparison,a.comparison=lg(a))&&(b.comparison=!0)};var qg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Cc.prototype=Dc.prototype;Dc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,
this.width|0))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Pd,Qd={"%":function(b,a){return(100*b).toFixed(a)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return Math.round(b).toString(10)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},g:function(b,a){return b.toPrecision(a)},o:function(b){return Math.round(b).toString(8)},p:function(b,a){return Md(100*
b,a)},r:Md,s:function(b,a){var c=gc(b,a);if(!c)return b+"";var d=c[0];c=c[1];c=c-(Pd=3*Math.max(-8,Math.min(8,Math.floor(c/3))))+1;var e=d.length;return c===e?d:c>e?d+Array(c-e+1).join("0"):0<c?d.slice(0,c)+"."+d.slice(c):"0."+Array(1-c).join("0")+gc(b,Math.max(0,a+c-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}},Od="y z a f p n \u00b5 m  k M G T P E Z Y".split(" "),Oc,Pc;(function(b){Oc=rg(b);Pc=Oc.format;return Oc})({decimal:".",
thousands:",",grouping:[3],currency:["$",""]});var Vd=Pc(".1f");x(hc.prototype,D);x(Wd.prototype,D);x(Xd.prototype,D);var je=Pc(" .5f");x(Ec.prototype,D);Ec.prototype._recompute=function(b,a){(b.inputWidth||b.columnWidth||b.columnMargin)&&this._differs(a.width,a.width=vg(a))&&(b.width=!0);b.inputWidth&&this._differs(a.height,a.height=wg(a))&&(b.height=!0);(b.timerCount||b.numCells)&&this._differs(a.clippedCount,a.clippedCount=xg(a))&&(b.clippedCount=!0);if(b.clippedCount||b.numCells)this._differs(a.windowX,
a.windowX=yg(a))&&(b.windowX=!0),this._differs(a.windowY,a.windowY=zg(a))&&(b.windowY=!0);(b.inputWidth||b.numCells||b.cellPadding)&&this._differs(a.cellWidth,a.cellWidth=Ag(a))&&(b.cellWidth=!0);(b.numCells||b.windowSize)&&this._differs(a.numInputCells,a.numInputCells=Bg(a))&&(b.numInputCells=!0);(b.inputWidth||b.numInputCells||b.cellPadding)&&this._differs(a.inputCellWidth,a.inputCellWidth=Cg(a))&&(b.inputCellWidth=!0);b.numCells&&this._differs(a.activations,a.activations=Dg(a))&&(b.activations=
!0)};var vh={destroy:le,get:function(b){return b?this._state[b]:this._state},fire:function(b,a){if(b=b in this._handlers&&this._handlers[b].slice())for(var c=0;c<b.length;c+=1)b[c].call(this,a)},observe:function(b,a,c){var d=c&&c.defer?this._observers.post:this._observers.pre;(d[b]||(d[b]=[])).push(a);c&&!1===c.init||(a.__calling=!0,a.call(this,this._state[b]),a.__calling=!1);return{cancel:function(){var c=d[b].indexOf(a);~c&&d[b].splice(c,1)}}},on:function(b,a){if("teardown"===b)return this.on("destroy",
a);var c=this._handlers[b]||(this._handlers[b]=[]);c.push(a);return{cancel:function(){var b=c.indexOf(a);~b&&c.splice(b,1)}}},set:function(b){this._set(ic({},b));this.root._lock||(this.root._lock=!0,jc(this.root._beforecreate),jc(this.root._oncreate),jc(this.root._aftercreate),this.root._lock=!1)},teardown:le,_recompute:Fc,_set:function(b){var a=this._state,c={},d=!1,e;for(e in b)this._differs(b[e],a[e])&&(c[e]=d=!0);d&&(this._state=ic({},a,b),this._recompute(c,this._state),this._bind&&this._bind(c,
this._state),this._fragment&&(me(this,this._observers.pre,c,this._state,a),this._fragment.p(c,this._state),me(this,this._observers.post,c,this._state,a)))},_mount:function(b,a){this._fragment[this._fragment.i?"i":"m"](b,a||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(b,a){return b!=b?a==a:b!==a||b&&"object"===typeof b||"function"===typeof b}};let Gc=new Map;ic(ne.prototype,{draw(){if(this.refs.canvas){let b=this.refs.canvas.getContext("2d"),{img:a,index:c,width:d,
realHeight:e,columns:h,loaded:g}=this.get();b.clearRect(0,0,d,e);let l=Array.isArray(c)?c[0]*d:c%h*d,k=Array.isArray(c)?c[1]*e:Math.floor(c/h)*e;g?b.drawImage(a,l,k,d,e,0,0,d,e):(b.fillStyle="#ccc",b.fillRect(0,0,d,e),b.fillStyle="#eee",b.textAlign="center",b.font="16px sans-serif",b.fillText("...",d/2,e/2))}}},vh);ne.prototype._recompute=function(b,a){(b.width||b.height)&&this._differs(a.realHeight,a.realHeight=Fg(a.width,a.height))&&(b.realHeight=!0)};var qe={},Hc={},wh=pe(",").parse,xh=pe("\t").parse;
let Jc=new Map,nc=new Map,Ic=new Map,te=new Map([["gif",kc],["png",kc],["jpeg",kc],["jpg",kc],["csv",function(b){return lc(b).then((a)=>Promise.resolve(wh(a)))}],["tsv",function(b){return lc(b).then((a)=>Promise.resolve(xh(a)))}],["txt",lc],["text",lc],["json",function(b){return fetch(b).then(re).then((a)=>a.json())}]]);x(Kc.prototype,D);Kc.prototype._recompute=function(b,a){(b.width||b.columnPadding)&&this._differs(a.columnWidth,a.columnWidth=Kg(a))&&(b.columnWidth=!0);(b.columnWidth||b.inputPadding)&&
this._differs(a.inputWidth,a.inputWidth=Lg(a))&&(b.inputWidth=!0);(b.inputWidth||b.numCells||b.cellPadding)&&this._differs(a.cellWidth,a.cellWidth=Mg(a))&&(b.cellWidth=!0);(b.columnWidth||b.numIcons)&&this._differs(a.iconWidth,a.iconWidth=Ng(a))&&(b.iconWidth=!0)};x(Ke.prototype,D);x(cb.prototype,D);x(cb.prototype,{render(){let {gridSize:b,icons:a,classHeatmap:c}=this.get(),d=this.refs.canvas.getContext("2d"),e=d.getImageData(0,0,b,b),h=e.data;for(let d of a){var g=1;-1<c&&(g=wc.indexOf(c),g=Math.max(.1,
20*Math.max(0,d.f[g])));h[d.x*b*4+4*d.y+3]=(d.n+30)*g}d.putImageData(e,0,0)}});cb.prototype._recompute=function(b,a){b.clientWidth&&this._differs(a.height,a.height=Rg(a))&&(b.height=!0);(b.model||b.layerName)&&this._differs(a.id,a.id=Sg(a))&&(b.id=!0)};x(Oa.prototype,D);x(oc.prototype,D);x(oc.prototype,{render(){let {icon:b,config:a,width:c,height:d,iconCrop:e}=this.get(),h=this.refs.canvas.getContext("2d");h.clearRect(0,0,c,d);if(b){let f=e*a.icon_size/2;mc(b.url).then((e)=>{h.drawImage(e,b.localY*
a.icon_size+f,b.localX*a.icon_size+f,a.icon_size-2*f,a.icon_size-2*f,0,0,c,d)})}}});oc.prototype._recompute=function(b,a){b.width&&this._differs(a.height,a.height=Xg(a))&&(b.height=!0)};x(pc.prototype,D);x(pc.prototype,{drawArrow(){let {arrow:b,width:a,color:c,arrowHeight:d}=this.get(),e=d/2;b.clearRect(0,0,a,d);b.lineWidth=2;b.strokeStyle=c;b.fillStyle=c;b.beginPath();b.moveTo(2,e);b.lineTo(a,e);b.stroke();b.beginPath();b.arc(4,e,4,0,2*Math.PI);b.fill();b.beginPath();b.moveTo(a,e);b.lineTo(a-10,
e-5);b.lineTo(a-10,e+5);b.fill()},render(){let {pointList:b}=this.get();if(b){let a={},c=[];b.forEach((b)=>{b=this.getIconData({x:b[0],y:b[1]});b!=a&&c.push(b);a=b});this.set({imgList:c});console.log(c)}},getIconData(b){let {layers:a,pathZoomIndex:c}=this.get();if(a&&a[c]){var d=Math.floor(b.x*a[c].length);b=Math.floor(b.y*a[c].length);if(a[c][b]&&a[c][b][d]&&0<a[c][b][d].num_activations)return a[c][b][d]}}});pc.prototype._recompute=function(b,a){b.layers&&this._differs(a.pathZoomIndex,a.pathZoomIndex=
Zg(a))&&(b.pathZoomIndex=!0)};x(ib.prototype,D);ib.prototype._recompute=function(b,a){b.pointList&&this._differs(a.numIcons,a.numIcons=bh(a))&&(b.numIcons=!0);(b.viewWidth||b.viewHeight)&&this._differs(a.edgeLength,a.edgeLength=ch(a))&&(b.edgeLength=!0);(b.viewWidth||b.viewHeight||b.edgeLength)&&this._differs(a.topLeft,a.topLeft=dh(a))&&(b.topLeft=!0);(b.pointList||b.topLeft||b.edgeLength)&&this._differs(a.path_d,a.path_d=eh(a))&&(b.path_d=!0)};x(oa.prototype,D);x(Lc.prototype,D);x(Qe.prototype,D);
x(Re.prototype,D);x(Xa.prototype,D);x(Se.prototype,D);x(Te.prototype,D);x(Ue.prototype,D);x(Mc.prototype,D);Mc.prototype._recompute=function(b,a){b.$inceptionLabels&&this._differs(a.labels,a.labels=oh(a))&&(b.labels=!0)};x(Xe.prototype,D);Xe.prototype._recompute=function(b,a){if(b.config||b.$classComparisons||b.currentClassComparisonIndex)this._differs(a.rightIndex,a.rightIndex=qh(a))&&(b.rightIndex=!0),this._differs(a.leftIndex,a.leftIndex=rh(a))&&(b.leftIndex=!0)};class yh extends Vc{}let F=new yh({inceptionLabels:Nc,
currentClass:62,classChoices:[9,622,780,665,652,322,288,233,225,188,169,80,76,62,61,7,355,990,897,746,791],currentClassComparisonIndex:0,classComparisons:[{id:"507_982",leftLabel:"snorkel",rightLabel:"scuba diver",left:507,right:982,annotation:[{pos:{x:2,y:7},desc:"shark-like"}]},{id:"736_744",leftLabel:"head cabbage",rightLabel:"artichoke",left:736,right:744,annotation:[]},{id:"671_672",leftLabel:"frying pan",rightLabel:"wok",left:671,right:672,annotation:[{pos:{x:1,y:7},desc:"noodles"}]},{id:"777_831",
leftLabel:"beer bottle",rightLabel:"wine bottle",left:777,right:831,annotation:[]},{id:"543_544",leftLabel:"computer keyboard",rightLabel:"typewriter keyboard",left:543,right:544,annotation:[]},{id:"28_205",leftLabel:"red wolf",rightLabel:"timber wolf",left:28,right:205,annotation:[]},{id:"67_62",leftLabel:"grey fox",rightLabel:"red fox",left:67,right:62,annotation:[]},{id:"1_62",leftLabel:"kit fox",rightLabel:"red fox",left:1,right:62,annotation:[]},{id:"6_442",leftLabel:Nc[6],rightLabel:Nc[442],
left:6,right:442,annotation:[{pos:{x:2,y:7},desc:"baseball?"}]}],focus3Highlights:[{homeX:.873,homeY:.415,homeScale:10},{homeX:.66,homeY:.405,homeScale:10},{homeX:.208,homeY:.16,homeScale:10},{homeX:.807,homeY:.333,homeScale:10}]});window.store=F;new P({target:document.querySelector("#cover"),store:F,data:{height:556,component:Ac}});let zh=document.querySelectorAll("[data-notebook-url]");for(let b of zh){let a=b.getAttribute("data-notebook-url");new eb({target:b,data:{url:a}})}new rd({target:document.querySelector("#overview")});
new sd({target:document.querySelector("#model-overview")});new td({target:document.querySelector("#grid-detail")});new P({target:document.querySelector("#activation-grid"),data:{aspectRatio:3.5,component:Ec}});new P({target:document.querySelector("#process"),data:{aspectRatio:2.1,component:Kc}});new P({store:F,target:document.querySelector("#one-layer"),data:{aspectRatio:1,component:Ke}});new P({target:document.querySelector("#layer-annotation-1"),store:F,data:{aspectRatio:3,component:Oa,componentData:{homeX:.306,
homeY:.035}}});new P({target:document.querySelector("#layer-annotation-2"),store:F,data:{aspectRatio:3,component:Oa,componentData:{homeX:.309,homeY:.173}}});new P({target:document.querySelector("#layer-annotation-3"),store:F,data:{aspectRatio:3,component:Oa,componentData:{homeX:.335,homeY:.353,gridSize:3,homeScale:32}}});new P({target:document.querySelector("#layer-annotation-4"),store:F,data:{component:Oa,aspectRatio:3,componentData:{homeX:.33,homeY:.666}}});new P({target:document.querySelector("#layer-annotation-5"),
store:F,data:{aspectRatio:3,component:Oa,componentData:{homeX:.281,homeY:.761}}});new P({target:document.querySelector("#layer-annotation-6"),store:F,data:{aspectRatio:3,component:Oa,componentData:{homeX:.944,homeY:.51}}});new P({target:document.querySelector("#layer-annotation-7"),store:F,data:{aspectRatio:3,component:Oa,componentData:{homeX:.837,homeY:.239}}});new P({target:document.querySelector("#layer-annotation-8"),store:F,data:{aspectRatio:3,component:Oa,componentData:{homeX:.594,homeY:.223}}});
new P({target:document.querySelector("#show-a-path-0"),store:F,data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.161,.38610000610351564],[.161,.39373501368931363],[.161,.4013700212751116],[.161,.40900500161307196],[.161,.41664000919886995],[.161,.42427498953683035],[.161,.43190999712262834],[.161,.43954500470842633],[.161,.4471800122942243],[.161,.4548149926321847],[.161,.46244997297014506],[.161,.47008498055594305],[.161,.47771998814174105],[.161,.48535499572753904],
[.161,.49299000331333703],[.161,.500625010899135],[.161,.5082600184849331],[.161,.5158949715750558],[.161,.5235299791608538],[.161,.5311649867466518]]}}});new P({target:document.querySelector("#show-a-path-1"),store:F,data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.877770015171596,.35276998792375835],[.8758255004882812,.3431870596749442],[.8738809858049665,.3336041041782924],[.871936525617327,.3240211486816406],[.8699920109340122,.31443819318498883],[.8680474962506975,
.30485523768833706],[.8661029815673829,.2952722821916853],[.8641585213797432,.2856893266950335],[.8622140066964286,.2761063711983817],[.8602694920131139,.26652344294956754],[.8583249773297991,.25694048745291576],[.8563805171421596,.24735755920410157],[.8544360024588449,.23777460370744977],[.8524914877755302,.228191648210798],[.8505469730922154,.2186086927141462],[.8486025129045759,.20902573721749443],[.8466579982212612,.19944279534476145],[.8447134835379464,.18985985347202847],[.8427689688546317,
.1802768979753767],[.8408245086669922,.17069394247872488]]}}});new P({target:document.querySelector("#show-a-path-2"),store:F,data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.275,.775],[.2794630323137556,.7651796068464006],[.2839260646275112,.7553592136928013],[.28838912418910434,.7455388205392021],[.29285215650285995,.7357184273856027],[.2973151888166155,.7258980342320034],[.3017782483782087,.716077641078404],[.3040830067225865,.7056094578334263],[.30576556069510324,
.6949544634137835],[.30744808741978236,.6842995234898158],[.3091306413922991,.6736445835658482],[.31081319536481583,.6629896436418806],[.31111000605991906,.6522259303501674],[.31111000605991906,.641438947405134],[.31111000605991906,.6306520189557757],[.31111000605991906,.6198650360107422],[.31111000605991906,.6090780530657087],[.3058485576084682,.5997803279331753],[.3001950400216239,.5905935559953962],[.2945415224347796,.5814067840576171]]}}});new P({target:document.querySelector("#show-a-path-3"),
store:F,data:{aspectRatio:5.6,component:ib,componentData:{layerName:"mixed4c",pointList:[[.61,.13],[.609,.132],[.607,.139],[.606,.141],[.605,.145],[.603,.151],[.6,.158],[.597,.164],[.596,.169],[.594,.175],[.593,.177],[.592,.183],[.589,.188],[.587,.191],[.585,.195],[.582,.2],[.581,.204],[.579,.208],[.578,.213],[.577,.219]]}}});new P({target:document.querySelector("#abacus-0"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed3b",homeX:.8086,homeY:.4295,gridSize:3,homeScale:48}}});
new P({target:document.querySelector("#abacus-1"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed4c",homeX:.8593,homeY:.5814}}});new P({target:document.querySelector("#abacus-2"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed5b",homeX:.8118,homeY:.2039,gridSize:4,homeScale:96}}});new P({target:document.querySelector("#plant-0"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed3b",homeX:.3222,homeY:.6352,gridSize:3,homeScale:48}}});
new P({target:document.querySelector("#plant-1"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed4c",homeX:.146,homeY:.392}}});new P({target:document.querySelector("#plant-2"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed5b",homeX:.1668,homeY:.2833,gridSize:4,homeScale:96}}});new P({target:document.querySelector("#water-0"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed4c",homeX:.365,homeY:.673}}});new P({target:document.querySelector("#water-1"),
store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed4c",homeX:.318,homeY:.764}}});new P({target:document.querySelector("#water-2"),store:F,data:{aspectRatio:.75,component:oa,componentData:{layerName:"mixed5b",homeX:.74,homeY:.534,gridSize:4,homeScale:96}}});new P({target:document.querySelector("#all-layer-comparison"),store:F,data:{aspectRatio:2,component:Qe,componentData:{}}});new P({target:document.querySelector("#focus-1"),store:F,data:{aspectRatio:2,component:Re}});new P({target:document.querySelector("#focus-2"),
store:F,data:{aspectRatio:2,component:Se}});new P({target:document.querySelector("#focus-3"),store:F,data:{aspectRatio:2,component:Te}});new P({target:document.querySelector("#focus-3-table"),store:F,data:{aspectRatio:1,component:Ue}});new P({target:document.querySelector("#focus-playground"),store:F,data:{aspectRatio:2,component:Mc}});new Ad({target:document.querySelector("#class-subset"),store:F});new fc({target:document.querySelector("#class-comparison-1"),store:F,data:{showControls:!1,classComparisonIndex:6}});
new fc({target:document.querySelector("#class-comparison-2"),store:F,data:{showControls:!1,classComparisonIndex:0}});new kb({target:document.querySelector("#class-gradient-snorkel"),store:F,data:{currentClassComparisonIndex:0}});new kb({target:document.querySelector("#class-gradient-frying-pan"),store:F,data:{currentClassComparisonIndex:2}});new kb({target:document.querySelector("#class-gradient-shark"),store:F,data:{currentClassComparisonIndex:8}});new hc({target:document.querySelector("#snorkel-scuba-diver"),
store:F,data:{aspectRatio:480/360,left:"snorkel",right:"scuba diver",classifications:[{image:"assets/images/snorkel-06.png",caption:"Image from ImageNet labeled as \u201csnorkel\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["snorkel",34.33],["scuba diver",28.16],["coral reef",12.43],["loggerhead",11.11],["lionfish",3.84],["sea snake",2.19]]},{image:"assets/images/teethshark-07.png",caption:"By adding a picture of one of the concepts seen in the visualization above we can change the classification. With an added picture of a \u201cshark\u201d (also from ImageNet) the confidence of \u201cscuba diver\u201d classification rises and \u201csnorkel\u201d drops significantly.",
rows:[["scuba diver",50.3],["coral reef",22.44],["tiger shark",9.08],["snorkel",3.92],["lionfish",2.38],["loggerhead",2.12]]},{image:"assets/images/teethshark-05.png",caption:"As the picture of the shark gets bigger, the classification for \u201cgreat white shark\u201d increases, but the relative changes in confidence of \u201csnorkel\u201d and \u201cscuba diver\u201d remain.",rows:[["great white shark",81.73],["tiger shark",15.3],["scuba diver",1.62],["loggerhead",.3],["coho",.29],["snorkel",.15]]}]}});
new hc({target:document.querySelector("#frying-pan-wok"),store:F,data:{left:"frying pan",right:"wok",aspectRatio:806/608,classifications:[{image:"assets/images/fry-06.png",caption:"Image from ImageNet labeled as \u201cfrying pan\u201d with the classification confidences from Inceptionv1 for the top six classes.",rows:[["frying pan",34.62],["stove",16.33],["strainer",11.04],["wok",9.72],["caldron",8.79],["Dutch oven",6.02]]},{image:"assets/images/fry-noodles-14.png",caption:"By adding a picture of some noodles, also from ImageNet, we can see the top classification change from \u201cfrying pan\u201d to \u201cwok.\u201d",
rows:[["wok",48.3],["frying pan",18.64],["strainer",14.03],["ladle",4.4],["stove",2.77],["caldron",2.6]]},{image:"assets/images/fry-10.png",caption:"As we make the picture of noodles larger, its influence overpowers the other classifications, but \u201cwok\u201d remains ranked above \u201cfrying pan\u201d.",rows:[["carbonara",87.79],["strainer",8.16],["wok",1.67],["ladle",.45],["frying pan",.37],["French horn",.27]]}]}});new hc({target:document.querySelector("#shark-grey-whale"),store:F,data:{left:"great white shark",
right:"grey whale",aspectRatio:996/656,classifications:[{image:"assets/images/whale-03.jpg",caption:"",rows:[["grey whale",78.39],["killer whale",20.97],["great white shark",.34],["gar",.13],["sea lion",.09],["tiger shark",.02]]},{image:"assets/images/whale-06.jpg",caption:"",rows:[["great white shark",34.35],["rugby ball",23.55],["grey whale",12.91],["baseball",10.89],["killer whale",7.7],["ping - pong ball",3.42]]},{image:"assets/images/whale-05.jpg",caption:"",rows:[["baseball",31.13],["ping-pong ball",
22.93],["great white shark",14.01],["grey whale",8.11],["rugby ball",7.34],["killer whale",6.06]]}]}});new Wd({target:document.querySelector("#samples")});new Xd({target:document.querySelector("#class-grids")})})();
//# sourceMappingURL=main.min.js.map
